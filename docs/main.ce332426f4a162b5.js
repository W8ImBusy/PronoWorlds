"use strict";(self.webpackChunkpronoworlds=self.webpackChunkpronoworlds||[]).push([[179],{2011:(Xe,De,P)=>{P.d(De,{Dh:()=>fe,GT:()=>he,cc:()=>Ae,hO:()=>Pe,on:()=>j,pX:()=>ae,xv:()=>me});var l=P(4650),te=P(127),N=P(5813);Xe=P.hmd(Xe);const ue=["ngOnDestroy"],ae=(pe,Ge,Je,Te={})=>new Proxy(pe,{get:(ve,Ce)=>Je.runOutsideAngular(()=>{var Ve;if(pe[Ce])return!(null===(Ve=Te?.spy)||void 0===Ve)&&Ve.get&&Te.spy.get(Ce,pe[Ce]),pe[Ce];if(ue.indexOf(Ce)>-1)return()=>{};const Ue=Ge.toPromise().then(H=>{const ge=H&&H[Ce];return"function"==typeof ge?ge.bind(H):ge&&ge.then?ge.then(J=>Je.run(()=>J)):Je.run(()=>ge)});return new Proxy(()=>{},{get:(H,ge)=>Ue[ge],apply:(H,ge,J)=>Ue.then(ne=>{var le;const se=ne&&ne(...J);return!(null===(le=Te?.spy)||void 0===le)&&le.apply&&Te.spy.apply(Ce,J,se),se})})})}),he=(pe,Ge)=>{Ge.forEach(Je=>{Object.getOwnPropertyNames(Je.prototype||Je).forEach(Te=>{Object.defineProperty(pe.prototype,Te,Object.getOwnPropertyDescriptor(Je.prototype||Je,Te))})})};class oe{constructor(Ge){return Ge}}const fe=new l.OlP("angularfire2.app.options"),me=new l.OlP("angularfire2.app.name");function j(pe,Ge,Je){const ve="object"==typeof Je&&Je||{};ve.name=ve.name||"string"==typeof Je&&Je||"[DEFAULT]";const Ve=te.Z.apps.filter(Ue=>Ue&&Ue.name===ve.name)[0]||Ge.runOutsideAngular(()=>te.Z.initializeApp(pe,ve));try{JSON.stringify(pe)!==JSON.stringify(Ve.options)&&$("error",`${Ve.name} Firebase App already initialized with different options${Xe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new oe(Ve)}const $=(pe,...Ge)=>{(0,l.X6Q)()&&typeof console<"u"&&console[pe](...Ge)},ee={provide:oe,useFactory:j,deps:[fe,l.R0b,[new l.FiY,me]]};let Pe=(()=>{class pe{constructor(Je){te.Z.registerVersion("angularfire",N.q4.full,"core"),te.Z.registerVersion("angularfire",N.q4.full,"app-compat"),te.Z.registerVersion("angular",l.q4F.full,Je.toString())}static initializeApp(Je,Te){return{ngModule:pe,providers:[{provide:fe,useValue:Je},{provide:me,useValue:Te}]}}}return pe.\u0275fac=function(Je){return new(Je||pe)(l.LFG(l.Lbi))},pe.\u0275mod=l.oAB({type:pe}),pe.\u0275inj=l.cJS({providers:[ee]}),pe})();function Ae(pe,Ge,Je,Te,ve){const[,Ce,Ve]=globalThis.\u0275AngularfireInstanceCache.find(Ue=>Ue[0]===pe)||[];if(Ce)return function be(pe,Ge){try{return pe.toString()===Ge.toString()}catch{return pe===Ge}}(ve,Ve)||(_e("error",`${Ge} was already initialized on the ${Je} Firebase App with different settings.${Ze?" You may need to reload as Firebase is not HMR aware.":""}`),_e("warn",{is:ve,was:Ve})),Ce;{const Ue=Te();return globalThis.\u0275AngularfireInstanceCache.push([pe,Ue,ve]),Ue}}const Ze=!!Xe.hot,_e=(pe,...Ge)=>{(0,l.X6Q)()&&typeof console<"u"&&console[pe](...Ge)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Xe,De,P)=>{P.d(De,{q4:()=>Bs,iC:()=>_n,HU:()=>Yd,vb:()=>Hs,JM:()=>il});var l=P(4650),te=P(5867),N=P(5861),ue=P(9681),ae=P(2090),he=P(4859),oe=P(1877),fe=P(8766);const me="@firebase/installations",j="0.5.12",ee=`w:${j}`,Pe="FIS_v2",Ge=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Je(E){return E instanceof ae.ZR&&E.code.includes("request-failed")}function Te({projectId:E}){return`https://firebaseinstallations.googleapis.com/v1/projects/${E}/installations`}function ve(E){return{token:E.token,requestStatus:2,expiresIn:ne(E.expiresIn),creationTime:Date.now()}}function Ce(E,I){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,N.Z)(function*(E,I){const V=(yield I.json()).error;return Ge.create("request-failed",{requestName:E,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function Ue({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function H(E,{refreshToken:I}){const k=Ue(E);return k.append("Authorization",function le(E){return`${Pe} ${E}`}(I)),k}function ge(E){return J.apply(this,arguments)}function J(){return(J=(0,N.Z)(function*(E){const I=yield E();return I.status>=500&&I.status<600?E():I})).apply(this,arguments)}function ne(E){return Number(E.replace("s","000"))}function se(E,I){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,N.Z)(function*({appConfig:E,heartbeatServiceProvider:I},{fid:k}){const V=Te(E),X=Ue(E),ce=I.getImmediate({optional:!0});if(ce){const ft=yield ce.getHeartbeatsHeader();ft&&X.append("x-firebase-client",ft)}const Be={method:"POST",headers:X,body:JSON.stringify({fid:k,authVersion:Pe,appId:E.appId,sdkVersion:ee})},at=yield ge(()=>fetch(V,Be));if(at.ok){const ft=yield at.json();return{fid:ft.fid||k,registrationStatus:2,refreshToken:ft.refreshToken,authToken:ve(ft.authToken)}}throw yield Ce("Create Installation",at)})).apply(this,arguments)}function Re(E){return new Promise(I=>{setTimeout(I,E)})}const Nt=/^[cdef][\w-]{21}$/;function He(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const k=function Wt(E){return function ot(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return Nt.test(k)?k:""}catch{return""}}function Tn(E){return`${E.appName}!${E.appId}`}const Lt=new Map;function Vt(E,I){const k=Tn(E);qt(k,I),function Ss(E,I){const k=function or(){return!Nr&&"BroadcastChannel"in self&&(Nr=new BroadcastChannel("[Firebase] FID Change"),Nr.onmessage=E=>{qt(E.data.key,E.data.fid)}),Nr}();k&&k.postMessage({key:E,fid:I}),function ur(){0===Lt.size&&Nr&&(Nr.close(),Nr=null)}()}(k,I)}function qt(E,I){const k=Lt.get(E);if(k)for(const V of k)V(I)}let Nr=null;const Pr="firebase-installations-store";let qr=null;function lt(){return qr||(qr=(0,fe.X3)("firebase-installations-database",1,{upgrade:(E,I)=>{0===I&&E.createObjectStore(Pr)}})),qr}function en(E,I){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,N.Z)(function*(E,I){const k=Tn(E),X=(yield lt()).transaction(Pr,"readwrite"),ce=X.objectStore(Pr),Se=yield ce.get(k);return yield ce.put(I,k),yield X.done,(!Se||Se.fid!==I.fid)&&Vt(E,I.fid),I})).apply(this,arguments)}function An(E){return ci.apply(this,arguments)}function ci(){return(ci=(0,N.Z)(function*(E){const I=Tn(E),V=(yield lt()).transaction(Pr,"readwrite");yield V.objectStore(Pr).delete(I),yield V.done})).apply(this,arguments)}function ui(E,I){return bn.apply(this,arguments)}function bn(){return(bn=(0,N.Z)(function*(E,I){const k=Tn(E),X=(yield lt()).transaction(Pr,"readwrite"),ce=X.objectStore(Pr),Se=yield ce.get(k),Be=I(Se);return void 0===Be?yield ce.delete(k):yield ce.put(Be,k),yield X.done,Be&&(!Se||Se.fid!==Be.fid)&&Vt(E,Be.fid),Be})).apply(this,arguments)}function rn(E){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,N.Z)(function*(E){let I;const k=yield ui(E.appConfig,V=>{const X=tn(V),ce=Ye(E,X);return I=ce.registrationPromise,ce.installationEntry});return""===k.fid?{installationEntry:yield I}:{installationEntry:k,registrationPromise:I}})).apply(this,arguments)}function tn(E){return Fn(E||{fid:He(),registrationStatus:0})}function Ye(E,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(Ge.create("app-offline"))};const k={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},V=function ze(E,I){return oo.apply(this,arguments)}(E,k);return{installationEntry:k,registrationPromise:V}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:Zn(E)}:{installationEntry:I}}function oo(){return(oo=(0,N.Z)(function*(E,I){try{const k=yield se(E,I);return en(E.appConfig,k)}catch(k){throw Je(k)&&409===k.customData.serverCode?yield An(E.appConfig):yield en(E.appConfig,{fid:I.fid,registrationStatus:0}),k}})).apply(this,arguments)}function Zn(E){return sn.apply(this,arguments)}function sn(){return(sn=(0,N.Z)(function*(E){let I=yield It(E.appConfig);for(;1===I.registrationStatus;)yield Re(100),I=yield It(E.appConfig);if(0===I.registrationStatus){const{installationEntry:k,registrationPromise:V}=yield rn(E);return V||k}return I})).apply(this,arguments)}function It(E){return ui(E,I=>{if(!I)throw Ge.create("installation-not-found");return Fn(I)})}function Fn(E){return function Yi(E){return 1===E.registrationStatus&&E.registrationTime+1e4<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function Ht(E,I){return di.apply(this,arguments)}function di(){return(di=(0,N.Z)(function*({appConfig:E,heartbeatServiceProvider:I},k){const V=At(E,k),X=H(E,k),ce=I.getImmediate({optional:!0});if(ce){const ft=yield ce.getHeartbeatsHeader();ft&&X.append("x-firebase-client",ft)}const Be={method:"POST",headers:X,body:JSON.stringify({installation:{sdkVersion:ee,appId:E.appId}})},at=yield ge(()=>fetch(V,Be));if(at.ok)return ve(yield at.json());throw yield Ce("Generate Auth Token",at)})).apply(this,arguments)}function At(E,{fid:I}){return`${Te(E)}/${I}/authTokens:generate`}function K(E){return z.apply(this,arguments)}function z(){return(z=(0,N.Z)(function*(E,I=!1){let k;const V=yield ui(E.appConfig,ce=>{if(!nt(ce))throw Ge.create("not-registered");const Se=ce.authToken;if(!I&&Qt(Se))return ce;if(1===Se.requestStatus)return k=U(E,I),ce;{if(!navigator.onLine)throw Ge.create("app-offline");const Be=$n(ce);return k=Ie(E,Be),Be}});return k?yield k:V.authToken})).apply(this,arguments)}function U(E,I){return G.apply(this,arguments)}function G(){return(G=(0,N.Z)(function*(E,I){let k=yield q(E.appConfig);for(;1===k.authToken.requestStatus;)yield Re(100),k=yield q(E.appConfig);const V=k.authToken;return 0===V.requestStatus?K(E,I):V})).apply(this,arguments)}function q(E){return ui(E,I=>{if(!nt(I))throw Ge.create("not-registered");return function Ke(E){return 1===E.requestStatus&&E.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function Ie(E,I){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,N.Z)(function*(E,I){try{const k=yield Ht(E,I),V=Object.assign(Object.assign({},I),{authToken:k});return yield en(E.appConfig,V),k}catch(k){if(!Je(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const V=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield en(E.appConfig,V)}else yield An(E.appConfig);throw k}})).apply(this,arguments)}function nt(E){return void 0!==E&&2===E.registrationStatus}function Qt(E){return 2===E.requestStatus&&!function jt(E){const I=Date.now();return I<E.creationTime||E.creationTime+E.expiresIn<I+36e5}(E)}function $n(E){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:I})}function on(){return(on=(0,N.Z)(function*(E){const I=E,{installationEntry:k,registrationPromise:V}=yield rn(I);return V?V.catch(console.error):K(I).catch(console.error),k.fid})).apply(this,arguments)}function nr(){return(nr=(0,N.Z)(function*(E,I=!1){const k=E;return yield je(k),(yield K(k,I)).token})).apply(this,arguments)}function je(E){return dt.apply(this,arguments)}function dt(){return(dt=(0,N.Z)(function*(E){const{registrationPromise:I}=yield rn(E);I&&(yield I)})).apply(this,arguments)}function vt(E){return Ge.create("missing-app-config-values",{valueName:E})}const ta="installations",fn=E=>{const I=E.getProvider("app").getImmediate(),k=function Ki(E){if(!E||!E.options)throw vt("App Configuration");if(!E.name)throw vt("App Name");const I=["projectId","apiKey","appId"];for(const k of I)if(!E.options[k])throw vt(k);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(I);return{app:I,appConfig:k,heartbeatServiceProvider:(0,ue._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},Qi=E=>{const I=E.getProvider("app").getImmediate(),k=(0,ue._getProvider)(I,ta).getImmediate();return{getId:()=>function Jt(E){return on.apply(this,arguments)}(k),getToken:X=>function Yn(E){return nr.apply(this,arguments)}(k,X)}};(function rr(){(0,ue._registerComponent)(new he.wA(ta,fn,"PUBLIC")),(0,ue._registerComponent)(new he.wA("installations-internal",Qi,"PRIVATE"))})(),(0,ue.registerVersion)(me,j),(0,ue.registerVersion)(me,j,"esm2017");const Ji="@firebase/remote-config",St=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Pf{constructor(I,k,V,X){this.client=I,this.storage=k,this.storageCache=V,this.logger=X}isCachedDataFresh(I,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-k,X=V<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${X}.`),X}fetch(I){var k=this;return(0,N.Z)(function*(){const[V,X]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(X&&k.isCachedDataFresh(I.cacheMaxAgeMillis,V))return X;I.eTag=X&&X.eTag;const ce=yield k.client.fetch(I),Se=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ce.status&&Se.push(k.storage.setLastSuccessfulFetchResponse(ce)),yield Promise.all(Se),ce})()}}function Gc(E=navigator){return E.languages&&E.languages[0]||E.language}class Ll{constructor(I,k,V,X,ce,Se){this.firebaseInstallations=I,this.sdkVersion=k,this.namespace=V,this.projectId=X,this.apiKey=ce,this.appId=Se}fetch(I){var k=this;return(0,N.Z)(function*(){var V,X,ce;const[Se,Be]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),ft=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,gt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},rt={sdk_version:k.sdkVersion,app_instance_id:Se,app_instance_id_token:Be,app_id:k.appId,language_code:Gc()},In={method:"POST",headers:gt,body:JSON.stringify(rt)},Tr=fetch(ft,In),Aa=new Promise((ms,Ra)=>{I.signal.addEventListener(()=>{const Xl=new Error("The operation was aborted.");Xl.name="AbortError",Ra(Xl)})});let ti;try{yield Promise.race([Tr,Aa]),ti=yield Tr}catch(ms){let Ra="fetch-client-network";throw"AbortError"===(null===(V=ms)||void 0===V?void 0:V.name)&&(Ra="fetch-timeout"),St.create(Ra,{originalErrorMessage:null===(X=ms)||void 0===X?void 0:X.message})}let fr=ti.status;const Jl=ti.headers.get("ETag")||void 0;let Ma,_i;if(200===ti.status){let ms;try{ms=yield ti.json()}catch(Ra){throw St.create("fetch-client-parse",{originalErrorMessage:null===(ce=Ra)||void 0===ce?void 0:ce.message})}Ma=ms.entries,_i=ms.state}if("INSTANCE_STATE_UNSPECIFIED"===_i?fr=500:"NO_CHANGE"===_i?fr=304:("NO_TEMPLATE"===_i||"EMPTY_CONFIG"===_i)&&(Ma={}),304!==fr&&200!==fr)throw St.create("fetch-status",{httpStatus:fr});return{status:fr,eTag:Jl,config:Ma}})()}}class Ff{constructor(I,k){this.client=I,this.storage=k}fetch(I){var k=this;return(0,N.Z)(function*(){const V=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(I,V)})()}attemptFetch(I,{throttleEndTimeMillis:k,backoffCount:V}){var X=this;return(0,N.Z)(function*(){yield function zn(E,I){return new Promise((k,V)=>{const X=Math.max(I-Date.now(),0),ce=setTimeout(k,X);E.addEventListener(()=>{clearTimeout(ce),V(St.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,k);try{const ce=yield X.client.fetch(I);return yield X.storage.deleteThrottleMetadata(),ce}catch(ce){if(!function Wc(E){if(!(E instanceof ae.ZR&&E.customData))return!1;const I=Number(E.customData.httpStatus);return 429===I||500===I||503===I||504===I}(ce))throw ce;const Se={throttleEndTimeMillis:Date.now()+(0,ae.$s)(V),backoffCount:V+1};return yield X.storage.setThrottleMetadata(Se),X.attemptFetch(I,Se)}})()}}class qc{constructor(I,k,V,X,ce){this.app=I,this._client=k,this._storageCache=V,this._storage=X,this._logger=ce,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Vl(E,I){var k;const V=E.target.error||void 0;return St.create(I,{originalErrorMessage:V&&(null===(k=V)||void 0===k?void 0:k.message)})}const ns="app_namespace_store";class Yc{constructor(I,k,V,X=function Bf(){return new Promise((E,I)=>{var k;try{const V=indexedDB.open("firebase_remote_config",1);V.onerror=X=>{I(Vl(X,"storage-open"))},V.onsuccess=X=>{E(X.target.result)},V.onupgradeneeded=X=>{0===X.oldVersion&&X.target.result.createObjectStore(ns,{keyPath:"compositeKey"})}}catch(V){I(St.create("storage-open",{originalErrorMessage:null===(k=V)||void 0===k?void 0:k.message}))}})}()){this.appId=I,this.appName=k,this.namespace=V,this.openDbPromise=X}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var k=this;return(0,N.Z)(function*(){const V=yield k.openDbPromise;return new Promise((X,ce)=>{var Se;const at=V.transaction([ns],"readonly").objectStore(ns),ft=k.createCompositeKey(I);try{const gt=at.get(ft);gt.onerror=rt=>{ce(Vl(rt,"storage-get"))},gt.onsuccess=rt=>{const In=rt.target.result;X(In?In.value:void 0)}}catch(gt){ce(St.create("storage-get",{originalErrorMessage:null===(Se=gt)||void 0===Se?void 0:Se.message}))}})})()}set(I,k){var V=this;return(0,N.Z)(function*(){const X=yield V.openDbPromise;return new Promise((ce,Se)=>{var Be;const ft=X.transaction([ns],"readwrite").objectStore(ns),gt=V.createCompositeKey(I);try{const rt=ft.put({compositeKey:gt,value:k});rt.onerror=In=>{Se(Vl(In,"storage-set"))},rt.onsuccess=()=>{ce()}}catch(rt){Se(St.create("storage-set",{originalErrorMessage:null===(Be=rt)||void 0===Be?void 0:Be.message}))}})})()}delete(I){var k=this;return(0,N.Z)(function*(){const V=yield k.openDbPromise;return new Promise((X,ce)=>{var Se;const at=V.transaction([ns],"readwrite").objectStore(ns),ft=k.createCompositeKey(I);try{const gt=at.delete(ft);gt.onerror=rt=>{ce(Vl(rt,"storage-delete"))},gt.onsuccess=()=>{X()}}catch(gt){ce(St.create("storage-delete",{originalErrorMessage:null===(Se=gt)||void 0===Se?void 0:Se.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class ia{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,N.Z)(function*(){const k=I.storage.getLastFetchStatus(),V=I.storage.getLastSuccessfulFetchTimestampMillis(),X=I.storage.getActiveConfig(),ce=yield k;ce&&(I.lastFetchStatus=ce);const Se=yield V;Se&&(I.lastSuccessfulFetchTimestampMillis=Se);const Be=yield X;Be&&(I.activeConfig=Be)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function Kr(){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,N.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}!function fo(){(0,ue._registerComponent)(new he.wA("remote-config",function E(I,{instanceIdentifier:k}){const V=I.getProvider("app").getImmediate(),X=I.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw St.create("registration-window");if(!(0,ae.hl)())throw St.create("indexed-db-unavailable");const{projectId:ce,apiKey:Se,appId:Be}=V.options;if(!ce)throw St.create("registration-project-id");if(!Se)throw St.create("registration-api-key");if(!Be)throw St.create("registration-app-id");const at=new Yc(Be,V.name,k=k||"firebase"),ft=new ia(at),gt=new oe.Yd(Ji);gt.logLevel=oe.in.ERROR;const rt=new Ll(X,ue.SDK_VERSION,k,ce,Se,Be),In=new Ff(rt,at),Tr=new Pf(In,at,ft,gt),Aa=new qc(V,Tr,ft,at,gt);return function wn(E){const I=(0,ae.m9)(E);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(Aa),Aa},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(Ji,"0.3.11"),(0,ue.registerVersion)(Ji,"0.3.11","esm2017")}();const po="/firebase-messaging-sw.js",hi="/firebase-cloud-messaging-push-scope",Ms="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",go="google.c.a.c_id",sa="google.c.a.c_l",Jc="google.c.a.ts",Xc="google.c.a.e";var Gn=(()=>{return(E=Gn||(Gn={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",Gn;var E})();function hr(E){const I=new Uint8Array(E);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function eu(E){const k=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(k),X=new Uint8Array(V.length);for(let ce=0;ce<V.length;++ce)X[ce]=V.charCodeAt(ce);return X}const _o="fcm_token_details_db",Lr="fcm_token_object_Store";function kn(E){return tu.apply(this,arguments)}function tu(){return tu=(0,N.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ce=>ce.name).includes(_o))return null;let I=null;return(yield(0,fe.X3)(_o,5,{upgrade:(V=(0,N.Z)(function*(X,ce,Se,Be){var at;if(ce<2||!X.objectStoreNames.contains(Lr))return;const ft=Be.objectStore(Lr),gt=yield ft.index("fcmSenderId").get(E);if(yield ft.clear(),gt)if(2===ce){const rt=gt;if(!rt.auth||!rt.p256dh||!rt.endpoint)return;I={token:rt.fcmToken,createTime:null!==(at=rt.createTime)&&void 0!==at?at:Date.now(),subscriptionOptions:{auth:rt.auth,p256dh:rt.p256dh,endpoint:rt.endpoint,swScope:rt.swScope,vapidKey:"string"==typeof rt.vapidKey?rt.vapidKey:hr(rt.vapidKey)}}}else if(3===ce){const rt=gt;I={token:rt.fcmToken,createTime:rt.createTime,subscriptionOptions:{auth:hr(rt.auth),p256dh:hr(rt.p256dh),endpoint:rt.endpoint,swScope:rt.swScope,vapidKey:hr(rt.vapidKey)}}}else if(4===ce){const rt=gt;I={token:rt.fcmToken,createTime:rt.createTime,subscriptionOptions:{auth:hr(rt.auth),p256dh:hr(rt.p256dh),endpoint:rt.endpoint,swScope:rt.swScope,vapidKey:hr(rt.vapidKey)}}}}),function(ce,Se,Be,at){return V.apply(this,arguments)})})).close(),yield(0,fe.Lj)(_o),yield(0,fe.Lj)("fcm_vapid_details_db"),yield(0,fe.Lj)("undefined"),Fd(I)?I:null;var V}),tu.apply(this,arguments)}function Fd(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:I}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const Ai="firebase-messaging-store";let oa=null;function Mi(){return oa||(oa=(0,fe.X3)("firebase-messaging-database",1,{upgrade:(E,I)=>{0===I&&E.createObjectStore(Ai)}})),oa}function Qn(E){return yo.apply(this,arguments)}function yo(){return(yo=(0,N.Z)(function*(E){const I=vo(E),V=yield(yield Mi()).transaction(Ai).objectStore(Ai).get(I);if(V)return V;{const X=yield kn(E.appConfig.senderId);if(X)return yield Qr(E,X),X}})).apply(this,arguments)}function Qr(E,I){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,N.Z)(function*(E,I){const k=vo(E),X=(yield Mi()).transaction(Ai,"readwrite");return yield X.objectStore(Ai).put(I,k),yield X.done,I})).apply(this,arguments)}function ki(E){return xi.apply(this,arguments)}function xi(){return(xi=(0,N.Z)(function*(E){const I=vo(E),V=(yield Mi()).transaction(Ai,"readwrite");yield V.objectStore(Ai).delete(I),yield V.done})).apply(this,arguments)}function vo({appConfig:E}){return E.appId}const Cn=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function nu(E,I){return $a.apply(this,arguments)}function $a(){return($a=(0,N.Z)(function*(E,I){var k;const V=yield Ee(E),X=is(I),ce={method:"POST",headers:V,body:JSON.stringify(X)};let Se;try{Se=yield(yield fetch(bo(E.appConfig),ce)).json()}catch(Be){throw Cn.create("token-subscribe-failed",{errorInfo:null===(k=Be)||void 0===k?void 0:k.toString()})}if(Se.error)throw Cn.create("token-subscribe-failed",{errorInfo:Se.error.message});if(!Se.token)throw Cn.create("token-subscribe-no-token");return Se.token})).apply(this,arguments)}function Ul(E,I){return ks.apply(this,arguments)}function ks(){return(ks=(0,N.Z)(function*(E,I){var k;const V=yield Ee(E),X=is(I.subscriptionOptions),ce={method:"PATCH",headers:V,body:JSON.stringify(X)};let Se;try{Se=yield(yield fetch(`${bo(E.appConfig)}/${I.token}`,ce)).json()}catch(Be){throw Cn.create("token-update-failed",{errorInfo:null===(k=Be)||void 0===k?void 0:k.toString()})}if(Se.error)throw Cn.create("token-update-failed",{errorInfo:Se.error.message});if(!Se.token)throw Cn.create("token-update-no-token");return Se.token})).apply(this,arguments)}function rs(E,I){return za.apply(this,arguments)}function za(){return(za=(0,N.Z)(function*(E,I){var k;const X={method:"DELETE",headers:yield Ee(E)};try{const Se=yield(yield fetch(`${bo(E.appConfig)}/${I}`,X)).json();if(Se.error)throw Cn.create("token-unsubscribe-failed",{errorInfo:Se.error.message})}catch(ce){throw Cn.create("token-unsubscribe-failed",{errorInfo:null===(k=ce)||void 0===k?void 0:k.toString()})}})).apply(this,arguments)}function bo({projectId:E}){return`https://fcmregistrations.googleapis.com/v1/projects/${E}/registrations`}function Ee(E){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,N.Z)(function*({appConfig:E,installations:I}){const k=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function is({p256dh:E,auth:I,endpoint:k,vapidKey:V}){const X={web:{endpoint:k,auth:I,p256dh:E}};return V!==Ms&&(X.web.applicationPubKey=V),X}const wo=6048e5;function an(E){return aa.apply(this,arguments)}function aa(){return(aa=(0,N.Z)(function*(E){const I=yield Ld(E.swRegistration,E.vapidKey),k={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:I.endpoint,auth:hr(I.getKey("auth")),p256dh:hr(I.getKey("p256dh"))},V=yield Qn(E.firebaseDependencies);if(V){if(Ln(V.subscriptionOptions,k))return Date.now()>=V.createTime+wo?la(E,{token:V.token,createTime:Date.now(),subscriptionOptions:k}):V.token;try{yield rs(E.firebaseDependencies,V.token)}catch(X){console.warn(X)}return Co(E.firebaseDependencies,k)}return Co(E.firebaseDependencies,k)})).apply(this,arguments)}function ss(E){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,N.Z)(function*(E){const I=yield Qn(E.firebaseDependencies);I&&(yield rs(E.firebaseDependencies,I.token),yield ki(E.firebaseDependencies));const k=yield E.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function la(E,I){return ca.apply(this,arguments)}function ca(){return(ca=(0,N.Z)(function*(E,I){try{const k=yield Ul(E.firebaseDependencies,I),V=Object.assign(Object.assign({},I),{token:k,createTime:Date.now()});return yield Qr(E.firebaseDependencies,V),k}catch(k){throw yield ss(E),k}})).apply(this,arguments)}function Co(E,I){return ua.apply(this,arguments)}function ua(){return(ua=(0,N.Z)(function*(E,I){const V={token:yield nu(E,I),createTime:Date.now(),subscriptionOptions:I};return yield Qr(E,V),V.token})).apply(this,arguments)}function Ld(E,I){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,N.Z)(function*(E,I){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:eu(I)})})).apply(this,arguments)}function Ln(E,I){return I.vapidKey===E.vapidKey&&I.endpoint===E.endpoint&&I.auth===E.auth&&I.p256dh===E.p256dh}function fi(E){const I={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function da(E,I){if(!I.notification)return;E.notification={};const k=I.notification.title;k&&(E.notification.title=k);const V=I.notification.body;V&&(E.notification.body=V);const X=I.notification.image;X&&(E.notification.image=X)}(I,E),function xs(E,I){!I.data||(E.data=I.data)}(I,E),function Ni(E,I){var k,V,X,ce,Se;if(!(I.fcmOptions||null!==(k=I.notification)&&void 0!==k&&k.click_action))return;E.fcmOptions={};const Be=null!==(X=null===(V=I.fcmOptions)||void 0===V?void 0:V.link)&&void 0!==X?X:null===(ce=I.notification)||void 0===ce?void 0:ce.click_action;Be&&(E.fcmOptions.link=Be);const at=null===(Se=I.fcmOptions)||void 0===Se?void 0:Se.analytics_label;at&&(E.fcmOptions.analyticsLabel=at)}(I,E),I}function Hl(E){return"object"==typeof E&&!!E&&go in E}function jl(E,I){const k=[];for(let V=0;V<E.length;V++)k.push(E.charAt(V)),V<I.length&&k.push(I.charAt(V));return k.join("")}function ha(E){return Cn.create("missing-app-config-values",{valueName:E})}jl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),jl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class $l{constructor(I,k,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const X=function ru(E){if(!E||!E.options)throw ha("App Configuration Object");if(!E.name)throw ha("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:k}=E;for(const V of I)if(!k[V])throw ha(V);return{appName:E.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:X,installations:k,analyticsProvider:V}}_delete(){return Promise.resolve()}}function Os(E){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,N.Z)(function*(E){var I;try{E.swRegistration=yield navigator.serviceWorker.register(po,{scope:hi}),E.swRegistration.update().catch(()=>{})}catch(k){throw Cn.create("failed-service-worker-registration",{browserErrorMessage:null===(I=k)||void 0===I?void 0:I.message})}})).apply(this,arguments)}function fa(E,I){return zl.apply(this,arguments)}function zl(){return(zl=(0,N.Z)(function*(E,I){if(!I&&!E.swRegistration&&(yield Os(E)),I||!E.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw Cn.create("invalid-sw-registration");E.swRegistration=I}})).apply(this,arguments)}function Eo(E,I){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,N.Z)(function*(E,I){I?E.vapidKey=I:E.vapidKey||(E.vapidKey=Ms)})).apply(this,arguments)}function Za(){return(Za=(0,N.Z)(function*(E,I){if(!navigator)throw Cn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Cn.create("permission-blocked");return yield Eo(E,I?.vapidKey),yield fa(E,I?.serviceWorkerRegistration),an(E)})).apply(this,arguments)}function Ya(E,I,k){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,N.Z)(function*(E,I,k){const V=Do(I);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:k[go],message_name:k[sa],message_time:k[Jc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Do(E){switch(E){case Gn.NOTIFICATION_CLICKED:return"notification_open";case Gn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Qa(){return(Qa=(0,N.Z)(function*(E,I){const k=I.data;if(!k.isFirebaseMessaging)return;E.onMessageHandler&&k.messageType===Gn.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(fi(k)):E.onMessageHandler.next(fi(k)));const V=k.data;Hl(V)&&"1"===V[Xc]&&(yield Ya(E,k.messageType,V))})).apply(this,arguments)}const Wn="@firebase/messaging",ln=E=>{const I=new $l(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function Vd(E,I){return Qa.apply(this,arguments)}(I,k)),I},pa=E=>{const I=E.getProvider("messaging").getImmediate();return{getToken:V=>function qa(E,I){return Za.apply(this,arguments)}(I,V)}};function Bd(){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,N.Z)(function*(){try{yield(0,ae.eu)()}catch{return!1}return typeof window<"u"&&(0,ae.hl)()&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function iu(){(0,ue._registerComponent)(new he.wA("messaging",ln,"PUBLIC")),(0,ue._registerComponent)(new he.wA("messaging-internal",pa,"PRIVATE")),(0,ue.registerVersion)(Wn,"0.9.16"),(0,ue.registerVersion)(Wn,"0.9.16","esm2017")}();const pi="analytics",Io="firebase_id",mi="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ga="https://www.googletagmanager.com/gtag/js",Jn=new oe.Yd("@firebase/analytics");function $d(E){return Promise.all(E.map(I=>I.catch(k=>k)))}function Hm(E,I){const k=document.createElement("script");k.src=`${ga}?l=${E}&id=${I}`,k.async=!0,document.head.appendChild(k)}function _a(E,I,k,V,X,ce){return ya.apply(this,arguments)}function ya(){return(ya=(0,N.Z)(function*(E,I,k,V,X,ce){const Se=V[X];try{if(Se)yield I[Se];else{const at=(yield $d(k)).find(ft=>ft.measurementId===X);at&&(yield I[at.appId])}}catch(Be){Jn.error(Be)}E("config",X,ce)})).apply(this,arguments)}function au(E,I,k,V,X){return os.apply(this,arguments)}function os(){return(os=(0,N.Z)(function*(E,I,k,V,X){try{let ce=[];if(X&&X.send_to){let Se=X.send_to;Array.isArray(Se)||(Se=[Se]);const Be=yield $d(k);for(const at of Se){const ft=Be.find(rt=>rt.measurementId===at),gt=ft&&I[ft.appId];if(!gt){ce=[];break}ce.push(gt)}}0===ce.length&&(ce=Object.values(I)),yield Promise.all(ce),E("event",V,X||{})}catch(ce){Jn.error(ce)}})).apply(this,arguments)}function va(){const E=window.document.getElementsByTagName("script");for(const I of Object.values(E))if(I.src&&I.src.includes(ga))return I;return null}const ir=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),cu=new class ls{constructor(I={},k=1e3){this.throttleMetadata=I,this.intervalMillis=k}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,k){this.throttleMetadata[I]=k}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function $t(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function Jr(E){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,N.Z)(function*(E){var I;const{appId:k,apiKey:V}=E,X={method:"GET",headers:$t(V)},ce=mi.replace("{app-id}",k),Se=yield fetch(ce,X);if(200!==Se.status&&304!==Se.status){let Be="";try{const at=yield Se.json();null!==(I=at.error)&&void 0!==I&&I.message&&(Be=at.error.message)}catch{}throw ir.create("config-fetch-failed",{httpStatus:Se.status,responseMessage:Be})}return Se.json()})).apply(this,arguments)}function Le(E){return cn.apply(this,arguments)}function cn(){return(cn=(0,N.Z)(function*(E,I=cu,k){const{appId:V,apiKey:X,measurementId:ce}=E.options;if(!V)throw ir.create("no-app-id");if(!X){if(ce)return{measurementId:ce,appId:V};throw ir.create("no-api-key")}const Se=I.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Be=new mn;return setTimeout((0,N.Z)(function*(){Be.abort()}),void 0!==k?k:6e4),gi({appId:V,apiKey:X,measurementId:ce},Se,Be,I)})).apply(this,arguments)}function gi(E,I,k){return cs.apply(this,arguments)}function cs(){return(cs=(0,N.Z)(function*(E,{throttleEndTimeMillis:I,backoffCount:k},V,X=cu){var ce,Se;const{appId:Be,measurementId:at}=E;try{yield Er(V,I)}catch(ft){if(at)return Jn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${at} provided in the "measurementId" field in the local Firebase config. [${null===(ce=ft)||void 0===ce?void 0:ce.message}]`),{appId:Be,measurementId:at};throw ft}try{const ft=yield Jr(E);return X.deleteThrottleMetadata(Be),ft}catch(ft){const gt=ft;if(!pn(gt)){if(X.deleteThrottleMetadata(Be),at)return Jn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${at} provided in the "measurementId" field in the local Firebase config. [${gt?.message}]`),{appId:Be,measurementId:at};throw ft}const rt=503===Number(null===(Se=gt?.customData)||void 0===Se?void 0:Se.httpStatus)?(0,ae.$s)(k,X.intervalMillis,30):(0,ae.$s)(k,X.intervalMillis),In={throttleEndTimeMillis:Date.now()+rt,backoffCount:k+1};return X.setThrottleMetadata(Be,In),Jn.debug(`Calling attemptFetch again in ${rt} millis`),gi(E,In,V,X)}})).apply(this,arguments)}function Er(E,I){return new Promise((k,V)=>{const X=Math.max(I-Date.now(),0),ce=setTimeout(k,X);E.addEventListener(()=>{clearTimeout(ce),V(ir.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function pn(E){if(!(E instanceof ae.ZR&&E.customData))return!1;const I=Number(E.customData.httpStatus);return 429===I||500===I||503===I||504===I}class mn{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let un,ds;function Ps(){return(Ps=(0,N.Z)(function*(E,I,k,V,X){if(X&&X.global)E("event",k,V);else{const ce=yield I;E("event",k,Object.assign(Object.assign({},V),{send_to:ce}))}})).apply(this,arguments)}function ba(E){ds=E}function Xa(E){un=E}function To(){return ei.apply(this,arguments)}function ei(){return(ei=(0,N.Z)(function*(){var E;if(!(0,ae.hl)())return Jn.warn(ir.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(I){return Jn.warn(ir.create("indexeddb-unavailable",{errorInfo:null===(E=I)||void 0===E?void 0:E.toString()}).message),!1}return!0})).apply(this,arguments)}function Fi(){return(Fi=(0,N.Z)(function*(E,I,k,V,X,ce,Se){var Be;const at=Le(E);at.then(Tr=>{k[Tr.measurementId]=Tr.appId,E.options.measurementId&&Tr.measurementId!==E.options.measurementId&&Jn.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${Tr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Tr=>Jn.error(Tr)),I.push(at);const ft=To().then(Tr=>{if(Tr)return V.getId()}),[gt,rt]=yield Promise.all([at,ft]);va()||Hm(ce,gt.measurementId),ds&&(X("consent","default",ds),ba(void 0)),X("js",new Date);const In=null!==(Be=Se?.config)&&void 0!==Be?Be:{};return In.origin="firebase",In.update=!0,null!=rt&&(In[Io]=rt),X("config",gt.measurementId,In),un&&(X("set",un),Xa(void 0)),gt.measurementId})).apply(this,arguments)}class hs{constructor(I){this.app=I}_delete(){return delete nn[this.app.options.appId],Promise.resolve()}}let nn={},ar=[];const wa={};let Gd,Ot,Dr="dataLayer",Ls=!1;function Hf(E,I,k){!function $m(){const E=[];if((0,ae.ru)()&&E.push("This is a browser extension environment."),(0,ae.zI)()||E.push("Cookies are not available."),E.length>0){const I=E.map((V,X)=>`(${X+1}) ${V}`).join(" "),k=ir.create("invalid-analytics-context",{errorInfo:I});Jn.warn(k.message)}}();const V=E.options.appId;if(!V)throw ir.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw ir.create("no-api-key");Jn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=nn[V])throw ir.create("already-exists",{id:V});if(!Ls){!function jm(E){let I=[];Array.isArray(window[E])?I=window[E]:window[E]=I}(Dr);const{wrappedGtag:ce,gtagCore:Se}=function zd(E,I,k,V,X){let ce=function(...Se){window[V].push(arguments)};return window[X]&&"function"==typeof window[X]&&(ce=window[X]),window[X]=function lu(E,I,k,V){function ce(){return(ce=(0,N.Z)(function*(Se,Be,at){try{"event"===Se?yield au(E,I,k,Be,at):"config"===Se?yield _a(E,I,k,V,Be,at):"consent"===Se?E("consent","update",at):E("set",Be)}catch(ft){Jn.error(ft)}})).apply(this,arguments)}return function X(Se,Be,at){return ce.apply(this,arguments)}}(ce,E,I,k),{gtagCore:ce,wrappedGtag:window[X]}}(nn,ar,wa,Dr,"gtag");Ot=ce,Gd=Se,Ls=!0}return nn[V]=function Vn(E,I,k,V,X,ce,Se){return Fi.apply(this,arguments)}(E,ar,wa,I,Gd,Dr,k),new hs(E)}function Gm(){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,N.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}const xn="@firebase/analytics",F="0.8.0";!function Ca(){(0,ue._registerComponent)(new he.wA(pi,(I,{options:k})=>Hf(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,ue._registerComponent)(new he.wA("analytics-internal",function E(I){try{const k=I.getProvider(pi).getImmediate();return{logEvent:(V,X,ce)=>function Mo(E,I,k,V){E=(0,ae.m9)(E),function et(E,I,k,V,X){return Ps.apply(this,arguments)}(Ot,nn[E.app.options.appId],I,k,V).catch(X=>Jn.error(X))}(k,V,X,ce)}}catch(k){throw ir.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,ue.registerVersion)(xn,F),(0,ue.registerVersion)(xn,F,"esm2017")}();var Vs=P(4408),el=P(7565);const Ir=new class Dn extends el.v{}(class Ea extends Vs.o{constructor(I,k){super(I,k),this.scheduler=I,this.work=k}schedule(I,k=0){return k>0?super.schedule(I,k):(this.delay=k,this.state=I,this.scheduler.flush(this),this)}execute(I,k){return k>0||this.closed?super.execute(I,k):this._execute(I,k)}requestAsyncId(I,k,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(I,k,V):I.flush(this)}});var tl=P(4986),Ro=P(8505),Bn=P(9468),Da=P(5363);const Bs=new l.GfV("7.4.1"),hu="__angularfire_symbol__analyticsIsSupportedValue",nl="__angularfire_symbol__analyticsIsSupported",Ia="__angularfire_symbol__remoteConfigIsSupportedValue",rl="__angularfire_symbol__remoteConfigIsSupported",Xn="__angularfire_symbol__messagingIsSupportedValue",ko="__angularfire_symbol__messagingIsSupported";function il(E,I,k){if(I){if(1===I.length)return I[0];const ce=I.filter(Se=>Se.app===k);if(1===ce.length)return ce[0]}return k.container.getProvider(E).getImmediate({optional:!0})}globalThis[nl]||(globalThis[nl]=Gm().then(E=>globalThis[hu]=E).catch(()=>globalThis[hu]=!1)),globalThis[ko]||(globalThis[ko]=Bd().then(E=>globalThis[Xn]=E).catch(()=>globalThis[Xn]=!1)),globalThis[rl]||(globalThis[rl]=Kr().then(E=>globalThis[Ia]=E).catch(()=>globalThis[Ia]=!1));const Hs=(E,I)=>{const k=I?[I]:(0,te.C6)(),V=[];return k.forEach(X=>{X.container.getProvider(E).instances.forEach(Se=>{V.includes(Se)||V.push(Se)})}),V};function ps(){}class Li{constructor(I,k=Ir){this.zone=I,this.delegate=k}now(){return this.delegate.now()}schedule(I,k,V){const X=this.zone;return this.delegate.schedule(function(Se){X.runGuarded(()=>{I.apply(this,[Se])})},k,V)}}class Zd{constructor(I){this.zone=I,this.task=null}call(I,k){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ps,{},ps,ps)),k.pipe((0,Ro.b)({next:V,complete:V,error:V})).subscribe(I).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Yd=(()=>{class E{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new Li(Zone.current)),this.insideAngular=k.run(()=>new Li(Zone.current,tl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(k){return new(k||E)(l.LFG(l.R0b))},E.\u0275prov=l.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Sr(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function _n(E){return Sr(),function Kl(E){return function(k){return(k=k.lift(new Zd(E.ngZone))).pipe((0,Bn.R)(E.outsideAngular),(0,Da.Q)(E.insideAngular))}}(Sr())(E)}},2090:(Xe,De,P)=>{P.d(De,{$s:()=>Yi,BH:()=>Pe,DV:()=>Ct,Dv:()=>ui,GJ:()=>Vt,L:()=>fe,LL:()=>Oe,Pz:()=>Rt,Sg:()=>Ae,UG:()=>_e,UI:()=>Ss,US:()=>he,Wj:()=>Zi,Yr:()=>Ve,ZB:()=>$,ZR:()=>se,b$:()=>Je,cI:()=>Nt,dS:()=>Ye,eu:()=>ge,g5:()=>N,gK:()=>bn,gQ:()=>qr,h$:()=>oe,hl:()=>H,hu:()=>te,jU:()=>pe,lb:()=>tn,m9:()=>At,ne:()=>lt,p$:()=>j,pd:()=>Pr,r3:()=>cr,ru:()=>Ge,tV:()=>me,uI:()=>Ze,ug:()=>ze,vZ:()=>Nr,w1:()=>ve,w9:()=>Lt,xO:()=>li,xb:()=>qt,z$:()=>be,zI:()=>J,zd:()=>Di});const te=function(K,z){if(!K)throw N(z)},N=function(K){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+K)},ue=function(K){const z=[];let U=0;for(let G=0;G<K.length;G++){let q=K.charCodeAt(G);q<128?z[U++]=q:q<2048?(z[U++]=q>>6|192,z[U++]=63&q|128):55296==(64512&q)&&G+1<K.length&&56320==(64512&K.charCodeAt(G+1))?(q=65536+((1023&q)<<10)+(1023&K.charCodeAt(++G)),z[U++]=q>>18|240,z[U++]=q>>12&63|128,z[U++]=q>>6&63|128,z[U++]=63&q|128):(z[U++]=q>>12|224,z[U++]=q>>6&63|128,z[U++]=63&q|128)}return z},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(K,z){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();const U=z?this.byteToCharMapWebSafe_:this.byteToCharMap_,G=[];for(let q=0;q<K.length;q+=3){const Ie=K[q],Fe=q+1<K.length,nt=Fe?K[q+1]:0,Qt=q+2<K.length,jt=Qt?K[q+2]:0;let Jt=(15&nt)<<2|jt>>6,on=63&jt;Qt||(on=64,Fe||(Jt=64)),G.push(U[Ie>>2],U[(3&Ie)<<4|nt>>4],U[Jt],U[on])}return G.join("")},encodeString(K,z){return this.HAS_NATIVE_SUPPORT&&!z?btoa(K):this.encodeByteArray(ue(K),z)},decodeString(K,z){return this.HAS_NATIVE_SUPPORT&&!z?atob(K):function(K){const z=[];let U=0,G=0;for(;U<K.length;){const q=K[U++];if(q<128)z[G++]=String.fromCharCode(q);else if(q>191&&q<224){const Ie=K[U++];z[G++]=String.fromCharCode((31&q)<<6|63&Ie)}else if(q>239&&q<365){const Qt=((7&q)<<18|(63&K[U++])<<12|(63&K[U++])<<6|63&K[U++])-65536;z[G++]=String.fromCharCode(55296+(Qt>>10)),z[G++]=String.fromCharCode(56320+(1023&Qt))}else{const Ie=K[U++],Fe=K[U++];z[G++]=String.fromCharCode((15&q)<<12|(63&Ie)<<6|63&Fe)}}return z.join("")}(this.decodeStringToByteArray(K,z))},decodeStringToByteArray(K,z){this.init_();const U=z?this.charToByteMapWebSafe_:this.charToByteMap_,G=[];for(let q=0;q<K.length;){const Ie=U[K.charAt(q++)],nt=q<K.length?U[K.charAt(q)]:0;++q;const jt=q<K.length?U[K.charAt(q)]:64;++q;const Ke=q<K.length?U[K.charAt(q)]:64;if(++q,null==Ie||null==nt||null==jt||null==Ke)throw Error();G.push(Ie<<2|nt>>4),64!==jt&&(G.push(nt<<4&240|jt>>2),64!==Ke&&G.push(jt<<6&192|Ke))}return G},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}},oe=function(K){const z=ue(K);return he.encodeByteArray(z,!0)},fe=function(K){return oe(K).replace(/\./g,"")},me=function(K){try{return he.decodeString(K,!0)}catch(z){console.error("base64Decode failed: ",z)}return null};function j(K){return $(void 0,K)}function $(K,z){if(!(z instanceof Object))return z;switch(z.constructor){case Date:return new Date(z.getTime());case Object:void 0===K&&(K={});break;case Array:K=[];break;default:return z}for(const U in z)!z.hasOwnProperty(U)||!ee(U)||(K[U]=$(K[U],z[U]));return K}function ee(K){return"__proto__"!==K}class Pe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((z,U)=>{this.resolve=z,this.reject=U})}wrapCallback(z){return(U,G)=>{U?this.reject(U):this.resolve(G),"function"==typeof z&&(this.promise.catch(()=>{}),1===z.length?z(U):z(U,G))}}}function Ae(K,z){if(K.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const G=z||"demo-project",q=K.iat||0,Ie=K.sub||K.user_id;if(!Ie)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Fe=Object.assign({iss:`https://securetoken.google.com/${G}`,aud:G,iat:q,exp:q+3600,auth_time:q,sub:Ie,user_id:Ie,firebase:{sign_in_provider:"custom",identities:{}}},K);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(Fe)),""].join(".")}function be(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ze(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(be())}function _e(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function pe(){return"object"==typeof self&&self.self===self}function Ge(){const K="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof K&&void 0!==K.id}function Je(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ve(){const K=be();return K.indexOf("MSIE ")>=0||K.indexOf("Trident/")>=0}function Ve(){return!1}function H(){return"object"==typeof indexedDB}function ge(){return new Promise((K,z)=>{try{let U=!0;const G="validate-browser-context-for-indexeddb-analytics-module",q=self.indexedDB.open(G);q.onsuccess=()=>{q.result.close(),U||self.indexedDB.deleteDatabase(G),K(!0)},q.onupgradeneeded=()=>{U=!1},q.onerror=()=>{var Ie;z((null===(Ie=q.error)||void 0===Ie?void 0:Ie.message)||"")}}catch(U){z(U)}})}function J(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class se extends Error{constructor(z,U,G){super(U),this.code=z,this.customData=G,this.name="FirebaseError",Object.setPrototypeOf(this,se.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Oe.prototype.create)}}class Oe{constructor(z,U,G){this.service=z,this.serviceName=U,this.errors=G}create(z,...U){const G=U[0]||{},q=`${this.service}/${z}`,Ie=this.errors[z],Fe=Ie?function Re(K,z){return K.replace(ot,(U,G)=>{const q=z[G];return null!=q?String(q):`<${G}?>`})}(Ie,G):"Error";return new se(q,`${this.serviceName}: ${Fe} (${q}).`,G)}}const ot=/\{\$([^}]+)}/g;function Nt(K){return JSON.parse(K)}function Rt(K){return JSON.stringify(K)}const He=function(K){let z={},U={},G={},q="";try{const Ie=K.split(".");z=Nt(me(Ie[0])||""),U=Nt(me(Ie[1])||""),q=Ie[2],G=U.d||{},delete U.d}catch{}return{header:z,claims:U,data:G,signature:q}},Lt=function(K){const U=He(K).claims;return!!U&&"object"==typeof U&&U.hasOwnProperty("iat")},Vt=function(K){const z=He(K).claims;return"object"==typeof z&&!0===z.admin};function cr(K,z){return Object.prototype.hasOwnProperty.call(K,z)}function Ct(K,z){if(Object.prototype.hasOwnProperty.call(K,z))return K[z]}function qt(K){for(const z in K)if(Object.prototype.hasOwnProperty.call(K,z))return!1;return!0}function Ss(K,z,U){const G={};for(const q in K)Object.prototype.hasOwnProperty.call(K,q)&&(G[q]=z.call(U,K[q],q,K));return G}function Nr(K,z){if(K===z)return!0;const U=Object.keys(K),G=Object.keys(z);for(const q of U){if(!G.includes(q))return!1;const Ie=K[q],Fe=z[q];if(or(Ie)&&or(Fe)){if(!Nr(Ie,Fe))return!1}else if(Ie!==Fe)return!1}for(const q of G)if(!U.includes(q))return!1;return!0}function or(K){return null!==K&&"object"==typeof K}function li(K){const z=[];for(const[U,G]of Object.entries(K))Array.isArray(G)?G.forEach(q=>{z.push(encodeURIComponent(U)+"="+encodeURIComponent(q))}):z.push(encodeURIComponent(U)+"="+encodeURIComponent(G));return z.length?"&"+z.join("&"):""}function Di(K){const z={};return K.replace(/^\?/,"").split("&").forEach(G=>{if(G){const[q,Ie]=G.split("=");z[decodeURIComponent(q)]=decodeURIComponent(Ie)}}),z}function Pr(K){const z=K.indexOf("?");if(!z)return"";const U=K.indexOf("#",z);return K.substring(z,U>0?U:void 0)}class qr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let z=1;z<this.blockSize;++z)this.pad_[z]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(z,U){U||(U=0);const G=this.W_;if("string"==typeof z)for(let Ke=0;Ke<16;Ke++)G[Ke]=z.charCodeAt(U)<<24|z.charCodeAt(U+1)<<16|z.charCodeAt(U+2)<<8|z.charCodeAt(U+3),U+=4;else for(let Ke=0;Ke<16;Ke++)G[Ke]=z[U]<<24|z[U+1]<<16|z[U+2]<<8|z[U+3],U+=4;for(let Ke=16;Ke<80;Ke++){const Jt=G[Ke-3]^G[Ke-8]^G[Ke-14]^G[Ke-16];G[Ke]=4294967295&(Jt<<1|Jt>>>31)}let jt,$n,q=this.chain_[0],Ie=this.chain_[1],Fe=this.chain_[2],nt=this.chain_[3],Qt=this.chain_[4];for(let Ke=0;Ke<80;Ke++){Ke<40?Ke<20?(jt=nt^Ie&(Fe^nt),$n=1518500249):(jt=Ie^Fe^nt,$n=1859775393):Ke<60?(jt=Ie&Fe|nt&(Ie|Fe),$n=2400959708):(jt=Ie^Fe^nt,$n=3395469782);const Jt=(q<<5|q>>>27)+jt+Qt+$n+G[Ke]&4294967295;Qt=nt,nt=Fe,Fe=4294967295&(Ie<<30|Ie>>>2),Ie=q,q=Jt}this.chain_[0]=this.chain_[0]+q&4294967295,this.chain_[1]=this.chain_[1]+Ie&4294967295,this.chain_[2]=this.chain_[2]+Fe&4294967295,this.chain_[3]=this.chain_[3]+nt&4294967295,this.chain_[4]=this.chain_[4]+Qt&4294967295}update(z,U){if(null==z)return;void 0===U&&(U=z.length);const G=U-this.blockSize;let q=0;const Ie=this.buf_;let Fe=this.inbuf_;for(;q<U;){if(0===Fe)for(;q<=G;)this.compress_(z,q),q+=this.blockSize;if("string"==typeof z){for(;q<U;)if(Ie[Fe]=z.charCodeAt(q),++Fe,++q,Fe===this.blockSize){this.compress_(Ie),Fe=0;break}}else for(;q<U;)if(Ie[Fe]=z[q],++Fe,++q,Fe===this.blockSize){this.compress_(Ie),Fe=0;break}}this.inbuf_=Fe,this.total_+=U}digest(){const z=[];let U=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let q=this.blockSize-1;q>=56;q--)this.buf_[q]=255&U,U/=256;this.compress_(this.buf_);let G=0;for(let q=0;q<5;q++)for(let Ie=24;Ie>=0;Ie-=8)z[G]=this.chain_[q]>>Ie&255,++G;return z}}function lt(K,z){const U=new en(K,z);return U.subscribe.bind(U)}class en{constructor(z,U){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=U,this.task.then(()=>{z(this)}).catch(G=>{this.error(G)})}next(z){this.forEachObserver(U=>{U.next(z)})}error(z){this.forEachObserver(U=>{U.error(z)}),this.close(z)}complete(){this.forEachObserver(z=>{z.complete()}),this.close()}subscribe(z,U,G){let q;if(void 0===z&&void 0===U&&void 0===G)throw new Error("Missing Observer.");q=function An(K,z){if("object"!=typeof K||null===K)return!1;for(const U of z)if(U in K&&"function"==typeof K[U])return!0;return!1}(z,["next","error","complete"])?z:{next:z,error:U,complete:G},void 0===q.next&&(q.next=ci),void 0===q.error&&(q.error=ci),void 0===q.complete&&(q.complete=ci);const Ie=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?q.error(this.finalError):q.complete()}catch{}}),this.observers.push(q),Ie}unsubscribeOne(z){void 0===this.observers||void 0===this.observers[z]||(delete this.observers[z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(z){if(!this.finalized)for(let U=0;U<this.observers.length;U++)this.sendOne(U,z)}sendOne(z,U){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[z])try{U(this.observers[z])}catch(G){typeof console<"u"&&console.error&&console.error(G)}})}close(z){this.finalized||(this.finalized=!0,void 0!==z&&(this.finalError=z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ci(){}const ui=function(K,z,U,G){let q;if(G<z?q="at least "+z:G>U&&(q=0===U?"none":"no more than "+U),q)throw new Error(K+" failed: Was called with "+G+(1===G?" argument.":" arguments.")+" Expects "+q+".")};function bn(K,z){return`${K} failed: ${z} argument `}function Zi(K,z,U,G){if((!G||U)&&"function"!=typeof U)throw new Error(bn(K,z)+"must be a valid function.")}function tn(K,z,U,G){if((!G||U)&&("object"!=typeof U||null===U))throw new Error(bn(K,z)+"must be a valid context object.")}const Ye=function(K){const z=[];let U=0;for(let G=0;G<K.length;G++){let q=K.charCodeAt(G);if(q>=55296&&q<=56319){const Ie=q-55296;G++,te(G<K.length,"Surrogate pair missing trail surrogate."),q=65536+(Ie<<10)+(K.charCodeAt(G)-56320)}q<128?z[U++]=q:q<2048?(z[U++]=q>>6|192,z[U++]=63&q|128):q<65536?(z[U++]=q>>12|224,z[U++]=q>>6&63|128,z[U++]=63&q|128):(z[U++]=q>>18|240,z[U++]=q>>12&63|128,z[U++]=q>>6&63|128,z[U++]=63&q|128)}return z},ze=function(K){let z=0;for(let U=0;U<K.length;U++){const G=K.charCodeAt(U);G<128?z++:G<2048?z+=2:G>=55296&&G<=56319?(z+=4,U++):z+=3}return z};function Yi(K,z=1e3,U=2){const G=z*Math.pow(U,K),q=Math.round(.5*G*(Math.random()-.5)*2);return Math.min(144e5,G+q)}function At(K){return K&&K._delegate?K._delegate:K}},7962:(Xe,De,P)=>{var l=P(4650);let te=null;function N(){return te}const oe=new l.OlP("DocumentToken");let fe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function me(){return(0,l.LFG)($)}()},providedIn:"platform"}),n})();const j=new l.OlP("Location Initialized");let $=(()=>{class n extends fe{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(e){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,o){ee()?this._history.pushState(e,r,o):this.location.hash=o}replaceState(e,r,o){ee()?this._history.replaceState(e,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(oe))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Pe(){return new $((0,l.LFG)(oe))}()},providedIn:"platform"}),n})();function ee(){return!!window.history.pushState}function Ae(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function be(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Ze(n){return n&&"?"!==n[0]?"?"+n:n}let _e=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(Ge)},providedIn:"root"}),n})();const pe=new l.OlP("appBaseHref");let Ge=(()=>{class n extends _e{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(oe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ae(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+Ze(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${r}${o}`:r}pushState(e,r,o,c){const h=this.prepareExternalUrl(o+Ze(c));this._platformLocation.pushState(e,r,h)}replaceState(e,r,o,c){const h=this.prepareExternalUrl(o+Ze(c));this._platformLocation.replaceState(e,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(fe),l.LFG(pe,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Je=(()=>{class n extends _e{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=Ae(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,o,c){let h=this.prepareExternalUrl(o+Ze(c));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(e,r,h)}replaceState(e,r,o,c){let h=this.prepareExternalUrl(o+Ze(c));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(fe),l.LFG(pe,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Te=(()=>{class n{constructor(e){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._baseHref=be(Ve(r)),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Ze(r))}normalize(e){return n.stripTrailingSlash(function Ce(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Ve(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",o=null){this._locationStrategy.pushState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ze(r)),o)}replaceState(e,r="",o=null){this._locationStrategy.replaceState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ze(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(o=>o(e,r))}subscribe(e,r,o){return this._subject.subscribe({next:e,error:r,complete:o})}}return n.normalizeQueryParams=Ze,n.joinWithSlash=Ae,n.stripTrailingSlash=be,n.\u0275fac=function(e){return new(e||n)(l.LFG(_e))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function ve(){return new Te((0,l.LFG)(_e))}()},providedIn:"root"}),n})();function Ve(n){return n.replace(/\/index.html$/,"")}function Ha(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[o,c]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(o.trim()===t)return decodeURIComponent(c)}return null}let wn=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new br,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){uo("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){uo("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class br{constructor(){this.$implicit=null,this.ngIf=null}}function uo(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(t)}'.`)}class As{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let ho=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const r=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),wr=(()=>{class n{constructor(e,r,o){this.ngSwitch=o,o._addCase(),this._view=new As(e,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(ho,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Ti=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Gn="browser";let Rs=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new Cr((0,l.LFG)(oe),window)}),n})();class Cr{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function oa(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const c=o.shadowRoot;if(c){const h=c.getElementById(t)||c.querySelector(`[name="${t}"]`);if(h)return h}o=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],o-c[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Ai(this.window.history)||Ai(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ai(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Qn{}class Qr extends class yo extends class he{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ae(n){te||(te=n)}(new Qr)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function ki(){return Ri=Ri||document.querySelector("base"),Ri?Ri.getAttribute("href"):null}();return null==e?null:function vo(n){xi=xi||document.createElement("a"),xi.setAttribute("href",n);const t=xi.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Ri=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Ha(document.cookie,t)}}let xi,Ri=null;const ht=new l.OlP("TRANSITION_ID"),nu=[{provide:l.ip1,useFactory:function Cn(n,t,e){return()=>{e.get(l.CZH).donePromise.then(()=>{const r=N(),o=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let c=0;c<o.length;c++)r.remove(o[c])})}},deps:[ht,oe,l.zs3],multi:!0}];let Ul=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const ks=new l.OlP("EventManagerPlugins");let rs=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(o=>o.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,o){return this._findPluginFor(r).addEventListener(e,r,o)}addGlobalEventListener(e,r,o){return this._findPluginFor(r).addGlobalEventListener(e,r,o)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const o=this._plugins;for(let c=0;c<o.length;c++){const h=o[c];if(h.supports(e))return this._eventNameToPlugin.set(e,h),h}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ks),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class za{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const o=N().getGlobalEventTarget(this._doc,t);if(!o)throw new Error(`Unsupported event target ${o} for event ${e}`);return this.addEventListener(o,e,r)}}let bo=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ee=(()=>{class n extends bo{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,o){e.forEach(c=>{const h=this._doc.createElement("style");h.textContent=c,o.push(r.appendChild(h))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(Tt),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(e,o,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Tt))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(oe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Tt(n){N().remove(n)}const is={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},wo=/%COMP%/g;function Co(n,t,e){for(let r=0;r<t.length;r++){let o=t[r];Array.isArray(o)?Co(n,o,e):(o=o.replace(wo,n),e.push(o))}return e}function ua(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Oi=(()=>{class n{constructor(e,r,o){this.eventManager=e,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Ln(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case l.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new Ni(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(e),o}case 1:case l.ifc.ShadowDom:return new Hl(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const o=Co(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(rs),l.LFG(Ee),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Ln{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(is[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(xs(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(xs(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,o){if(o){e=o+":"+e;const c=is[o];c?t.setAttributeNS(c,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const o=is[r];o?t.removeAttributeNS(o,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,o){o&(l.JOm.DashCase|l.JOm.Important)?t.style.setProperty(e,r,o&l.JOm.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&l.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ua(r)):this.eventManager.addEventListener(t,e,ua(r))}}function xs(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Ni extends Ln{constructor(t,e,r,o){super(t),this.component=r;const c=Co(o+"-"+r.id,r.styles,[]);e.addStyles(c),this.contentAttr=function la(n){return"_ngcontent-%COMP%".replace(wo,n)}(o+"-"+r.id),this.hostAttr=function ca(n){return"_nghost-%COMP%".replace(wo,n)}(o+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class Hl extends Ln{constructor(t,e,r,o){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Co(o.id,o.styles,[]);for(let h=0;h<c.length;h++){const g=document.createElement("style");g.textContent=c[h],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let jl=(()=>{class n extends za{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,o){return e.addEventListener(r,o,!1),()=>this.removeEventListener(e,r,o)}removeEventListener(e,r,o){return e.removeEventListener(r,o)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(oe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const ru=["alt","control","meta","shift"],$l={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Os={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ga={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let fa=(()=>{class n extends za{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,o){const c=n.parseEventName(r),h=n.eventCallback(c.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(e,c.domEventName,h))}static parseEventName(e){const r=e.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const c=n._normalizeKey(r.pop());let h="";if(ru.forEach(v=>{const D=r.indexOf(v);D>-1&&(r.splice(D,1),h+=v+".")}),h+=c,0!=r.length||0===c.length)return null;const g={};return g.domEventName=o,g.fullKey=h,g}static getEventFullKey(e){let r="",o=function zl(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Os.hasOwnProperty(t)&&(t=Os[t]))}return $l[t]||t}(e);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),ru.forEach(c=>{c!=o&&(0,Ga[c])(e)&&(r+=c+".")}),r+=o,r}static eventCallback(e,r,o){return c=>{n.getEventFullKey(c)===e&&o.runGuarded(()=>r(c))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(oe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Vd=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:Gn},{provide:l.g9A,useValue:function Za(){Qr.makeCurrent()},multi:!0},{provide:oe,useFactory:function Ka(){return(0,l.RDi)(document),document},deps:[]}]),Qa=new l.OlP(""),Wn=[{provide:l.rWj,useClass:class $a{addToWindow(t){l.dqk.getAngularTestability=(r,o=!0)=>{const c=t.findTestabilityInTree(r,o);if(null==c)throw new Error("Could not find testability for element.");return c},l.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(r=>{const o=l.dqk.getAllAngularTestabilities();let c=o.length,h=!1;const g=function(v){h=h||v,c--,0==c&&r(h)};o.forEach(function(v){v.whenStable(g)})})}findTestabilityInTree(t,e,r){return null==e?null:t.getTestability(e)??(r?N().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],Br=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Ya(){return new l.qLn},deps:[]},{provide:ks,useClass:jl,multi:!0,deps:[oe,l.R0b,l.Lbi]},{provide:ks,useClass:fa,multi:!0,deps:[oe]},{provide:Oi,useClass:Oi,deps:[rs,Ee,l.AFp]},{provide:l.FYo,useExisting:Oi},{provide:bo,useExisting:Ee},{provide:Ee,useClass:Ee,deps:[oe]},{provide:rs,useClass:rs,deps:[ks,l.R0b]},{provide:Qn,useClass:Ul,deps:[]},[]];let ln=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:l.AFp,useValue:e.appId},{provide:ht,useExisting:l.AFp},nu]}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Qa,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...Br,...Wn],imports:[Ti,l.hGG]}),n})(),su=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(oe))},n.\u0275prov=l.Yz7({token:n,factory:function(e){let r=null;return r=e?new e:function Gl(){return new su((0,l.LFG)(oe))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let as=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(e){let r=null;return r=e?new(e||n):l.LFG(ls),r},providedIn:"root"}),n})(),ls=(()=>{class n extends as{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case l.q3G.NONE:return r;case l.q3G.HTML:return(0,l.qzn)(r,"HTML")?(0,l.z3N)(r):(0,l.EiD)(this._doc,String(r)).toString();case l.q3G.STYLE:return(0,l.qzn)(r,"Style")?(0,l.z3N)(r):r;case l.q3G.SCRIPT:if((0,l.qzn)(r,"Script"))return(0,l.z3N)(r);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.qzn)(r,"URL")?(0,l.z3N)(r):(0,l.mCW)(String(r));case l.q3G.RESOURCE_URL:if((0,l.qzn)(r,"ResourceURL"))return(0,l.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,l.JVY)(e)}bypassSecurityTrustStyle(e){return(0,l.L6k)(e)}bypassSecurityTrustScript(e){return(0,l.eBb)(e)}bypassSecurityTrustUrl(e){return(0,l.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,l.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(oe))},n.\u0275prov=l.Yz7({token:n,factory:function(e){let r=null;return r=e?new e:function ql(n){return new ls(n.get(oe))}(l.LFG(l.zs3)),r},providedIn:"root"}),n})();var $t=P(7579),Jr=P(3269),Pt=P(8996);function Le(...n){const t=(0,Jr.yG)(n);return(0,Pt.D)(n,t)}var cn=P(9751),gi=P(6451),cs=P(5363),Er=P(8421),pn=P(4482),mn=P(5403);function un(n,t){return(0,pn.e)((e,r)=>{let o=null,c=0,h=!1;const g=()=>h&&!o&&r.complete();e.subscribe((0,mn.x)(r,v=>{o?.unsubscribe();let D=0;const M=c++;(0,Er.Xf)(n(v,M)).subscribe(o=(0,mn.x)(r,O=>r.next(t?t(v,O,M,D++):O),()=>{o=null,g()}))},()=>{h=!0,g()}))})}var et=P(4004),Ps=P(6063);class Zl extends $t.x{constructor(t=1/0,e=1/0,r=Ps.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:c,_windowTime:h}=this;e||(r.push(t),!o&&r.push(c.now()+h)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:o}=this,c=o.slice();for(let h=0;h<c.length&&!t.closed;h+=r?1:2)t.next(c[h]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:o}=this,c=(o?1:2)*t;if(t<1/0&&c<r.length&&r.splice(0,r.length-c),!o){const h=e.now();let g=0;for(let v=1;v<r.length&&r[v]<=h;v+=2)g=v;g&&r.splice(0,g+1)}}}var Pi=P(3099);function us(n,t,e){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:e}=n):r=n??1/0,(0,Pi.B)({connector:()=>new Zl(r,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}const So=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function gn(n,t){return(0,pn.e)((e,r)=>{let o=0;e.subscribe((0,mn.x)(r,c=>n.call(t,c,o++)&&r.next(c)))})}var Xr=P(515);function En(n){return n<=0?()=>Xr.E:(0,pn.e)((t,e)=>{let r=0;t.subscribe((0,mn.x)(e,o=>{++r<=n&&(e.next(o),n<=r&&e.complete())}))})}function ds(n){return(0,pn.e)((t,e)=>{let r=!1;t.subscribe((0,mn.x)(e,o=>{r=!0,e.next(o)},()=>{r||e.next(n),e.complete()}))})}function ba(n=Xa){return(0,pn.e)((t,e)=>{let r=!1;t.subscribe((0,mn.x)(e,o=>{r=!0,e.next(o)},()=>r?e.complete():e.error(n())))})}function Xa(){return new So}var To=P(4671);function ei(n,t){const e=arguments.length>=2;return r=>r.pipe(n?gn((o,c)=>n(o,c,r)):To.y,En(1),e?ds(t):ba(()=>new So))}var Vn=P(576);function Fi(n,t){return(0,Vn.m)(t)?un(()=>n,t):un(()=>n)}var hs=P(9468),nn=P(5813),ar=P(2011);P(5867);var Mo=P(5861),fs=P(9681),xn=P(4859),F=P(2090),Ca=P(1877);const Vs=new Map,Ea={activated:!1,tokenObservers:[]},el={initialized:!1,enabled:!1};function Dn(n){return Vs.get(n)||Ea}function Ir(n,t){Vs.set(n,t)}function du(){return el}class nl{constructor(t,e,r,o,c){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=o,o>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Mo.Z)(function*(){e.stop();try{e.pending=new F.BH,yield function Ia(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new F.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(r){e.retryPolicy(r)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Xn=new F.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function xo(n){if(!Dn(n).activated)throw Xn.create("use-before-activation",{appName:n.name})}function Sa(n,t){return il.apply(this,arguments)}function il(){return(il=(0,Mo.Z)(function*({url:n,body:t},e){var r,o;const c={"Content-Type":"application/json"},h=e.getImmediate({optional:!0});if(h){const Q=yield h.getHeartbeatsHeader();Q&&(c["X-Firebase-Client"]=Q)}const g={method:"POST",body:JSON.stringify(t),headers:c};let v,D;try{v=yield fetch(n,g)}catch(Q){throw Xn.create("fetch-network-error",{originalErrorMessage:null===(r=Q)||void 0===r?void 0:r.message})}if(200!==v.status)throw Xn.create("fetch-status-error",{httpStatus:v.status});try{D=yield v.json()}catch(Q){throw Xn.create("fetch-parse-error",{originalErrorMessage:null===(o=Q)||void 0===o?void 0:o.message})}const M=D.ttl.match(/^([\d.]+)(s)$/);if(!M||!M[2]||isNaN(Number(M[1])))throw Xn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${D.ttl}`});const O=1e3*Number(M[1]),B=Date.now();return{token:D.token,expireTimeMillis:B+O,issuedAtTimeMillis:B}})).apply(this,arguments)}function Li(n,t){const{projectId:e,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:t}}}const Sr="firebase-app-check-store";let sr=null;function Oo(){return sr||(sr=new Promise((n,t)=>{var e;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=o=>{n(o.target.result)},r.onerror=o=>{var c;t(Xn.create("storage-open",{originalErrorMessage:null===(c=o.target.error)||void 0===c?void 0:c.message}))},r.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore(Sr,{keyPath:"compositeKey"})}}catch(r){t(Xn.create("storage-open",{originalErrorMessage:null===(e=r)||void 0===e?void 0:e.message}))}}),sr)}function E(){return(E=(0,Mo.Z)(function*(n,t){const r=(yield Oo()).transaction(Sr,"readwrite"),c=r.objectStore(Sr).put({compositeKey:n,value:t});return new Promise((h,g)=>{c.onsuccess=v=>{h()},r.onerror=v=>{var D;g(Xn.create("storage-set",{originalErrorMessage:null===(D=v.target.error)||void 0===D?void 0:D.message}))}})})).apply(this,arguments)}const X=new Ca.Yd("@firebase/app-check");function Be(n,t){return(0,F.hl)()?function _n(n,t){return function Ql(n,t){return E.apply(this,arguments)}(function V(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{X.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function gt(){return du().enabled}function rt(){return In.apply(this,arguments)}function In(){return(In=(0,Mo.Z)(function*(){const n=du();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Aa={error:"UNKNOWN_ERROR"};function ti(n){return F.US.encodeString(JSON.stringify(n),!1)}function fr(n){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,Mo.Z)(function*(n,t=!1){const e=n.app;xo(e);const r=Dn(e);let c,o=r.token;if(!o){const v=yield r.cachedTokenPromise;v&&sl(v)&&(o=v)}if(!t&&o&&sl(o))return{token:o.token};let g,h=!1;if(gt()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Sa(Li(e,yield rt()),n.heartbeatServiceProvider).then(D=>(r.exchangeTokenPromise=void 0,D)),h=!0);const v=yield r.exchangeTokenPromise;return yield Be(e,v),Ir(e,Object.assign(Object.assign({},r),{token:v})),{token:v.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(v=>(r.exchangeTokenPromise=void 0,v)),h=!0),o=yield r.exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?X.warn(v.message):X.error(v),c=v}return o?(g={token:o.token},Ir(e,Object.assign(Object.assign({},r),{token:o})),yield Be(e,o)):g=Wm(c),h&&Xl(e,g),g})).apply(this,arguments)}function _i(n,t){const e=Dn(n),r=e.tokenObservers.filter(o=>o.next!==t);0===r.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Ir(n,Object.assign(Object.assign({},e),{tokenObservers:r}))}function ms(n){const{app:t}=n,e=Dn(t);let r=e.tokenRefresher;r||(r=function Ra(n){const{app:t}=n;return new nl((0,Mo.Z)(function*(){let r;if(r=Dn(t).token?yield fr(n,!0):yield fr(n),r.error)throw r.error}),()=>!0,()=>{const e=Dn(t);if(e.token){let r=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,e.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Ir(t,Object.assign(Object.assign({},e),{tokenRefresher:r}))),!r.isRunning()&&e.isTokenAutoRefreshEnabled&&r.start()}function Xl(n,t){const e=Dn(n).tokenObservers;for(const r of e)try{"EXTERNAL"===r.type&&null!=t.error?r.error(t.error):r.next(t)}catch{}}function sl(n){return n.expireTimeMillis-Date.now()>0}function Wm(n){return{token:ti(Aa),error:n}}class gu{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Dn(this.app);for(const e of t)_i(this.app,e.next);return Promise.resolve()}}const ka="app-check-internal";!function eh(){(0,fs._registerComponent)(new xn.wA("app-check",n=>function Kd(n,t){return new gu(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(ka).initialize()})),(0,fs._registerComponent)(new xn.wA(ka,n=>function qm(n){return{getToken:t=>fr(n,t),addTokenListener:t=>function Ma(n,t,e,r){const{app:o}=n,c=Dn(o),h={next:e,error:r,type:t};if(Ir(o,Object.assign(Object.assign({},c),{tokenObservers:[...c.tokenObservers,h]})),c.token&&sl(c.token)){const g=c.token;Promise.resolve().then(()=>{e({token:g.token}),ms(n)}).catch(()=>{})}c.cachedTokenPromise.then(()=>ms(n))}(n,"INTERNAL",t),removeTokenListener:t=>_i(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,fs.registerVersion)("@firebase/app-check","0.5.12")}();class wu{constructor(){return(0,nn.vb)("app-check")}}typeof window<"u"&&window,P(127);const sg=new l.OlP("angularfire2.auth.use-emulator"),og=new l.OlP("angularfire2.auth.settings"),Cu=new l.OlP("angularfire2.auth.tenant-id"),Eu=new l.OlP("angularfire2.auth.langugage-code"),sc=new l.OlP("angularfire2.auth.use-device-language"),rh=new l.OlP("angularfire.auth.persistence"),ag=(n,t,e,r,o,c,h,g)=>(0,ar.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=t.runOutsideAngular(()=>n.auth());if(e&&v.useEmulator(...e),r&&(v.tenantId=r),v.languageCode=o,c&&v.useDeviceLanguage(),h)for(const[D,M]of Object.entries(h))v.settings[D]=M;return g&&v.setPersistence(g),v},[e,r,o,c,h,g]);let oc=(()=>{class n{constructor(e,r,o,c,h,g,v,D,M,O,B,Q){const re=new $t.x,ye=Le(void 0).pipe((0,cs.Q)(h.outsideAngular),un(()=>c.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,2476)))),(0,et.U)(()=>(0,ar.on)(e,c,r)),(0,et.U)(Ne=>ag(Ne,c,g,D,M,O,v,B)),us({bufferSize:1,refCount:!1}));if(function Lr(n){return"server"===n}(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Le(null);else{ye.pipe(ei()).subscribe();const qe=ye.pipe(un(Mt=>Mt.getRedirectResult().then(Or=>Or,()=>null)),nn.iC,us({bufferSize:1,refCount:!1})),yt=ye.pipe(un(Mt=>new cn.y(Or=>({unsubscribe:c.runOutsideAngular(()=>Mt.onAuthStateChanged(Gr=>Or.next(Gr),Gr=>Or.error(Gr),()=>Or.complete()))})))),Yt=ye.pipe(un(Mt=>new cn.y(Or=>({unsubscribe:c.runOutsideAngular(()=>Mt.onIdTokenChanged(Gr=>Or.next(Gr),Gr=>Or.error(Gr),()=>Or.complete()))}))));this.authState=qe.pipe(Fi(yt),(0,hs.R)(h.outsideAngular),(0,cs.Q)(h.insideAngular)),this.user=qe.pipe(Fi(Yt),(0,hs.R)(h.outsideAngular),(0,cs.Q)(h.insideAngular)),this.idToken=this.user.pipe(un(Mt=>Mt?(0,Pt.D)(Mt.getIdToken()):Le(null))),this.idTokenResult=this.user.pipe(un(Mt=>Mt?(0,Pt.D)(Mt.getIdTokenResult()):Le(null))),this.credential=(0,gi.T)(qe,re,this.authState.pipe(gn(Mt=>!Mt))).pipe((0,et.U)(Mt=>Mt?.user?Mt:null),(0,hs.R)(h.outsideAngular),(0,cs.Q)(h.insideAngular))}return(0,ar.pX)(this,ye,c,{spy:{apply:(Ne,qe,yt)=>{(Ne.startsWith("signIn")||Ne.startsWith("createUser"))&&yt.then(Yt=>re.next(Yt))}}})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ar.Dh),l.LFG(ar.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(nn.HU),l.LFG(sg,8),l.LFG(og,8),l.LFG(Cu,8),l.LFG(Eu,8),l.LFG(sc,8),l.LFG(rh,8),l.LFG(wu,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();class Ar extends $t.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}const{isArray:lg}=Array,{getPrototypeOf:cg,prototype:ac,keys:Du}=Object;function ih(n){if(1===n.length){const t=n[0];if(lg(t))return{args:t,keys:null};if(function sh(n){return n&&"object"==typeof n&&cg(n)===ac}(t)){const e=Du(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}const{isArray:Wf}=Array;function oh(n){return(0,et.U)(t=>function Un(n,t){return Wf(t)?n(...t):n(t)}(n,t))}function qf(n,t){return n.reduce((e,r,o)=>(e[r]=t[o],e),{})}var ah=P(9672);function No(...n){const t=(0,Jr.yG)(n),e=(0,Jr.jO)(n),{args:r,keys:o}=ih(n);if(0===r.length)return(0,Pt.D)([],t);const c=new cn.y(function ug(n,t,e=To.y){return r=>{lh(t,()=>{const{length:o}=n,c=new Array(o);let h=o,g=o;for(let v=0;v<o;v++)lh(t,()=>{const D=(0,Pt.D)(n[v],t);let M=!1;D.subscribe((0,mn.x)(r,O=>{c[v]=O,M||(M=!0,g--),g||r.next(e(c.slice()))},()=>{--h||r.complete()}))},r)},r)}}(r,t,o?h=>qf(o,h):To.y));return e?c.pipe(oh(e)):c}function lh(n,t,e){n?(0,ah.f)(e,n,t):t()}var lc=P(8189);function Iu(...n){return function dg(){return(0,lc.J)(1)}()((0,Pt.D)(n,(0,Jr.yG)(n)))}function hg(n){return new cn.y(t=>{(0,Er.Xf)(n()).subscribe(t)})}var fg=P(9635);function yi(n,t){const e=(0,Vn.m)(n)?n:()=>n,r=o=>o.error(e());return new cn.y(t?o=>t.schedule(r,0,o):r)}var Po=P(727);function cc(){return(0,pn.e)((n,t)=>{let e=null;n._refCount++;const r=(0,mn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const o=n._connection,c=e;e=null,o&&(!c||o===c)&&o.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class ch extends cn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,pn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Po.w0;const e=this.getSubject();t.add(this.source.subscribe((0,mn.x)(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Po.w0.EMPTY)}return t}refCount(){return cc()(this)}}function ys(...n){const t=(0,Jr.yG)(n);return(0,pn.e)((e,r)=>{(t?Iu(n,e,t):Iu(n,e)).subscribe(r)})}var pr=P(5577);function Hn(n,t){return(0,Vn.m)(t)?(0,pr.z)(n,t,1):(0,pr.z)(n,1)}var yn=P(8505);function vi(n){return(0,pn.e)((t,e)=>{let c,r=null,o=!1;r=t.subscribe((0,mn.x)(e,void 0,void 0,h=>{c=(0,Er.Xf)(n(h,vi(n)(t))),r?(r.unsubscribe(),r=null,c.subscribe(e)):o=!0})),o&&(r.unsubscribe(),r=null,c.subscribe(e))})}function _v(n,t,e,r,o){return(c,h)=>{let g=e,v=t,D=0;c.subscribe((0,mn.x)(h,M=>{const O=D++;v=g?n(v,M,O):(g=!0,M),r&&h.next(v)},o&&(()=>{g&&h.next(v),h.complete()})))}}function cl(n,t){return(0,pn.e)(_v(n,t,arguments.length>=2,!0))}function Oa(n){return n<=0?()=>Xr.E:(0,pn.e)((t,e)=>{let r=[];t.subscribe((0,mn.x)(e,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)e.next(o);e.complete()},void 0,()=>{r=null}))})}function uh(n,t){const e=arguments.length>=2;return r=>r.pipe(n?gn((o,c)=>n(o,c,r)):To.y,Oa(1),e?ds(t):ba(()=>new So))}function $s(n){return(0,et.U)(()=>n)}function Vi(n){return(0,pn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const Et="primary";class Su{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ul(n){return new Su(n)}function hh(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const o={};for(let c=0;c<r.length;c++){const h=r[c],g=n[c];if(h.startsWith(":"))o[h.substring(1)]=g;else if(h!==g.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Zt(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let o;for(let c=0;c<e.length;c++)if(o=e[c],!dc(n[o],t[o]))return!1;return!0}function dc(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((o,c)=>r[c]===o)}return n===t}function dl(n){return Array.prototype.concat.apply([],n)}function Zf(n){return n.length>0?n[n.length-1]:null}function On(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Mr(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,Pt.D)(Promise.resolve(n)):Le(n)}const fh={exact:function ph(n,t,e){if(!ke(n.segments,t.segments)||!b(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!ph(n.children[r],t.children[r],e))return!1;return!0},subset:f},Yf={exact:function mg(n,t){return Zt(n,t)},subset:function _(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>dc(n[e],t[e]))},ignored:()=>!0};function Au(n,t,e){return fh[e.paths](n.root,t.root,e.matrixParams)&&Yf[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function f(n,t,e){return m(n,t,t.segments,e)}function m(n,t,e,r){if(n.segments.length>e.length){const o=n.segments.slice(0,e.length);return!(!ke(o,e)||t.hasChildren()||!b(o,e,r))}if(n.segments.length===e.length){if(!ke(n.segments,e)||!b(n.segments,e,r))return!1;for(const o in t.children)if(!n.children[o]||!f(n.children[o],t.children[o],r))return!1;return!0}{const o=e.slice(0,n.segments.length),c=e.slice(n.segments.length);return!!(ke(n.segments,o)&&b(n.segments,o,r)&&n.children[Et])&&m(n.children[Et],t,c,r)}}function b(n,t,e){return t.every((r,o)=>Yf[e](n[o].parameters,r.parameters))}class T{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ul(this.queryParams)),this._queryParamMap}toString(){return er.serialize(this)}}class R{constructor(t,e){this.segments=t,this.children=e,this.parent=null,On(e,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ur(this)}}class W{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ul(this.parameters)),this._parameterMap}toString(){return Jf(this)}}function ke(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}let ct=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new st},providedIn:"root"}),n})();class st{parse(t){const e=new _g(t);return new T(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${zs(t.root,!0)}`,r=function gg(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(o=>`${Lo(e)}=${Lo(o)}`).join("&"):`${Lo(e)}=${Lo(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function Kf(n){return encodeURI(n)}(t.fragment)}`:""}`}}const er=new st;function Ur(n){return n.segments.map(t=>Jf(t)).join("/")}function zs(n,t){if(!n.hasChildren())return Ur(n);if(t){const e=n.children[Et]?zs(n.children[Et],!1):"",r=[];return On(n.children,(o,c)=>{c!==Et&&r.push(`${c}:${zs(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function We(n,t){let e=[];return On(n.children,(r,o)=>{o===Et&&(e=e.concat(t(r,o)))}),On(n.children,(r,o)=>{o!==Et&&(e=e.concat(t(r,o)))}),e}(n,(r,o)=>o===Et?[zs(n.children[Et],!1)]:[`${o}:${zs(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Et]?`${Ur(n)}/${e[0]}`:`${Ur(n)}/(${e.join("//")})`}}function Mu(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Lo(n){return Mu(n).replace(/%3B/gi,";")}function Ru(n){return Mu(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vo(n){return decodeURIComponent(n)}function Qf(n){return Vo(n.replace(/\+/g,"%20"))}function Jf(n){return`${Ru(n.path)}${function hc(n){return Object.keys(n).map(t=>`;${Ru(t)}=${Ru(n[t])}`).join("")}(n.parameters)}`}const yv=/^[^\/()?;=#]+/;function fc(n){const t=n.match(yv);return t?t[0]:""}const vv=/^[^=?&#]+/,VE=/^[^&#]+/;class _g{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new R([],{}):new R([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[Et]=new R(t,e)),r}parseSegment(){const t=fc(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(t),new W(Vo(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=fc(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const o=fc(this.remaining);o&&(r=o,this.capture(r))}t[Vo(e)]=Vo(r)}parseQueryParam(t){const e=function FT(n){const t=n.match(vv);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const h=function bv(n){const t=n.match(VE);return t?t[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const o=Qf(e),c=Qf(r);if(t.hasOwnProperty(o)){let h=t[o];Array.isArray(h)||(h=[h],t[o]=h),h.push(c)}else t[o]=c}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=fc(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new l.vHH(4010,!1);let c;r.indexOf(":")>-1?(c=r.slice(0,r.indexOf(":")),this.capture(c),this.capture(":")):t&&(c=Et);const h=this.parseChildren();e[c]=1===Object.keys(h).length?h[Et]:new R([],h),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new l.vHH(4011,!1)}}function Xf(n){return n.segments.length>0?new R([],{[Et]:n}):n}function mh(n){const t={};for(const r of Object.keys(n.children)){const c=mh(n.children[r]);(c.segments.length>0||c.hasChildren())&&(t[r]=c)}return function wv(n){if(1===n.numberOfChildren&&n.children[Et]){const t=n.children[Et];return new R(n.segments.concat(t.segments),t.children)}return n}(new R(n.segments,t))}function Na(n){return n instanceof T}function UE(n,t,e,r,o){if(0===e.length)return xu(t.root,t.root,t.root,r,o);const c=function Iv(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Dv(!0,0,n);let t=0,e=!1;const r=n.reduce((o,c,h)=>{if("object"==typeof c&&null!=c){if(c.outlets){const g={};return On(c.outlets,(v,D)=>{g[D]="string"==typeof v?v.split("/"):v}),[...o,{outlets:g}]}if(c.segmentPath)return[...o,c.segmentPath]}return"string"!=typeof c?[...o,c]:0===h?(c.split("/").forEach((g,v)=>{0==v&&"."===g||(0==v&&""===g?e=!0:".."===g?t++:""!=g&&o.push(g))}),o):[...o,c]},[]);return new Dv(e,t,r)}(e);return c.toRoot()?xu(t.root,t.root,new R([],{}),r,o):function h(v){const D=function jE(n,t,e,r){if(n.isAbsolute)return new hl(t.root,!0,0);if(-1===r)return new hl(e,e===t.root,0);return function Sv(n,t,e){let r=n,o=t,c=e;for(;c>o;){if(c-=o,r=r.parent,!r)throw new l.vHH(4005,!1);o=r.segments.length}return new hl(r,!1,o-c)}(e,r+(_h(n.commands[0])?0:1),n.numberOfDoubleDots)}(c,t,n.snapshot?._urlSegment,v),M=D.processChildren?yh(D.segmentGroup,D.index,c.commands):vg(D.segmentGroup,D.index,c.commands);return xu(t.root,D.segmentGroup,M,r,o)}(n.snapshot?._lastPathIndex)}function _h(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ku(n){return"object"==typeof n&&null!=n&&n.outlets}function xu(n,t,e,r,o){let h,c={};r&&On(r,(v,D)=>{c[D]=Array.isArray(v)?v.map(M=>`${M}`):`${v}`}),h=n===t?e:Ev(n,t,e);const g=Xf(mh(h));return new T(g,c,o)}function Ev(n,t,e){const r={};return On(n.children,(o,c)=>{r[c]=o===t?e:Ev(o,t,e)}),new R(n.segments,r)}class Dv{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&_h(r[0]))throw new l.vHH(4003,!1);const o=r.find(ku);if(o&&o!==Zf(r))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class hl{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function vg(n,t,e){if(n||(n=new R([],{})),0===n.segments.length&&n.hasChildren())return yh(n,t,e);const r=function ni(n,t,e){let r=0,o=t;const c={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=e.length)return c;const h=n.segments[o],g=e[r];if(ku(g))break;const v=`${g}`,D=r<e.length-1?e[r+1]:null;if(o>0&&void 0===v)break;if(v&&D&&"object"==typeof D&&void 0===D.outlets){if(!Rr(v,D,h))return c;r+=2}else{if(!Rr(v,{},h))return c;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,t,e),o=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const c=new R(n.segments.slice(0,r.pathIndex),{});return c.children[Et]=new R(n.segments.slice(r.pathIndex),n.children),yh(c,0,o)}return r.match&&0===o.length?new R(n.segments,{}):r.match&&!n.hasChildren()?vh(n,t,e):r.match?yh(n,0,o):vh(n,t,e)}function yh(n,t,e){if(0===e.length)return new R(n.segments,{});{const r=function Tv(n){return ku(n[0])?n[0].outlets:{[Et]:n}}(e),o={};return On(r,(c,h)=>{"string"==typeof c&&(c=[c]),null!==c&&(o[h]=vg(n.children[h],t,c))}),On(n.children,(c,h)=>{void 0===r[h]&&(o[h]=c)}),new R(n.segments,o)}}function vh(n,t,e){const r=n.segments.slice(0,t);let o=0;for(;o<e.length;){const c=e[o];if(ku(c)){const v=Av(c.outlets);return new R(r,v)}if(0===o&&_h(e[0])){r.push(new W(n.segments[t].path,ep(e[0]))),o++;continue}const h=ku(c)?c.outlets[Et]:`${c}`,g=o<e.length-1?e[o+1]:null;h&&g&&_h(g)?(r.push(new W(h,ep(g))),o+=2):(r.push(new W(h,{})),o++)}return new R(r,{})}function Av(n){const t={};return On(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=vh(new R([],{}),0,e))}),t}function ep(n){const t={};return On(n,(e,r)=>t[r]=`${e}`),t}function Rr(n,t,e){return n==e.path&&Zt(t,e.parameters)}class Bi{constructor(t,e){this.id=t,this.url=e}}class bh extends Bi{constructor(t,e,r="imperative",o=null){super(t,e),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class pc extends Bi{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class tp extends Bi{constructor(t,e,r,o){super(t,e),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class bg extends Bi{constructor(t,e,r,o){super(t,e),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $E extends Bi{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mv extends Bi{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zE extends Bi{constructor(t,e,r,o,c){super(t,e),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=c,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Rv extends Bi{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GE extends Bi{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class WE{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class qE{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ZE{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class YE{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KE{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ou{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bo{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class kv{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=xv(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=xv(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Ov(t,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return Ov(t,this._root).map(e=>e.value)}}function xv(n,t){if(n===t.value)return t;for(const e of t.children){const r=xv(n,e);if(r)return r}return null}function Ov(n,t){if(n===t.value)return[t];for(const e of t.children){const r=Ov(n,e);if(r.length)return r.unshift(t),r}return[]}class Uo{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function wh(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Gs extends kv{constructor(t,e){super(t),this.snapshot=e,rp(this,t)}toString(){return this.snapshot.toString()}}function np(n,t){const e=function wg(n,t){const h=new fl([],{},{},"",{},Et,t,null,n.root,-1,{});return new Nv("",new Uo(h,[]))}(n,t),r=new Ar([new W("",{})]),o=new Ar({}),c=new Ar({}),h=new Ar({}),g=new Ar(""),v=new Nu(r,o,h,g,c,Et,t,e.root);return v.snapshot=e.root,new Gs(new Uo(v,[]),e)}class Nu{constructor(t,e,r,o,c,h,g,v){this.url=t,this.params=e,this.queryParams=r,this.fragment=o,this.data=c,this.outlet=h,this.component=g,this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,et.U)(t=>ul(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,et.U)(t=>ul(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Cg(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const o=e[r],c=e[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(c.component)break;r--}}return function JE(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(r))}class fl{constructor(t,e,r,o,c,h,g,v,D,M,O,B){this.url=t,this.params=e,this.queryParams=r,this.fragment=o,this.data=c,this.outlet=h,this.component=g,this.routeConfig=v,this._urlSegment=D,this._lastPathIndex=M,this._correctedLastPathIndex=B??M,this._resolve=O}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ul(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ul(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Nv extends kv{constructor(t,e){super(e),this.url=t,rp(this,e)}toString(){return ip(this._root)}}function rp(n,t){t.value._routerState=n,t.children.forEach(e=>rp(n,e))}function ip(n){const t=n.children.length>0?` { ${n.children.map(ip).join(", ")} } `:"";return`${n.value}${t}`}function Ch(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Zt(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Zt(t.params,e.params)||n.params.next(e.params),function uc(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Zt(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Zt(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function sp(n,t){const e=Zt(n.params,t.params)&&function de(n,t){return ke(n,t)&&n.every((e,r)=>Zt(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||sp(n.parent,t.parent))}function Ho(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const o=function Eg(n,t,e){return t.children.map(r=>{for(const o of e.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Ho(n,r,o);return Ho(n,r)})}(n,t,e);return new Uo(r,o)}{if(n.shouldAttach(t.value)){const c=n.retrieve(t.value);if(null!==c){const h=c.route;return h.value._futureSnapshot=t.value,h.children=t.children.map(g=>Ho(n,g)),h}}const r=function Pv(n){return new Nu(new Ar(n.url),new Ar(n.params),new Ar(n.queryParams),new Ar(n.fragment),new Ar(n.data),n.outlet,n.component,n)}(t.value),o=t.children.map(c=>Ho(n,c));return new Uo(r,o)}}const Dg="ngNavigationCancelingError";function op(n,t){const{redirectTo:e,navigationBehaviorOptions:r}=Na(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=Fv(!1,0,t);return o.url=e,o.navigationBehaviorOptions=r,o}function Fv(n,t,e){const r=new Error("NavigationCancelingError: "+(n||""));return r[Dg]=!0,r.cancellationCode=t,e&&(r.url=e),r}function Lv(n){return Vv(n)&&Na(n.url)}function Vv(n){return n&&n[Dg]}class XE{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Eh,this.attachRef=null}}let Eh=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const o=this.getOrCreateContext(e);o.outlet=r,this.contexts.set(e,o)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new XE,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ap=!1;let lp=(()=>{class n{constructor(e,r,o,c,h){this.parentContexts=e,this.location=r,this.changeDetector=c,this.environmentInjector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=o||Et,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,ap);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,ap);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,ap);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new l.vHH(4013,ap);this._activatedRoute=e;const o=this.location,h=e._futureSnapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,v=new Ig(e,g,o.injector);if(r&&function Bv(n){return!!n.resolveComponentFactory}(r)){const D=r.resolveComponentFactory(h);this.activated=o.createComponent(D,o.length,v)}else this.activated=o.createComponent(h,{index:o.length,injector:v,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Eh),l.Y36(l.s_b),l.$8M("name"),l.Y36(l.sBO),l.Y36(l.lqb))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Ig{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===Nu?this.route:t===Eh?this.childContexts:this.parent.get(t,e)}}let cp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,r){1&e&&l._UZ(0,"router-outlet")},dependencies:[lp],encapsulation:2}),n})();function Uv(n,t){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Fu(n){const t=n.children&&n.children.map(Fu),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Et&&(e.component=cp),e}function vs(n){return n.outlet||Et}function Sg(n,t){const e=n.filter(r=>vs(r)===t);return e.push(...n.filter(r=>vs(r)!==t)),e}function Tg(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Ag{constructor(t,e,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=o}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),Ch(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const o=wh(e);t.children.forEach(c=>{const h=c.value.outlet;this.deactivateRoutes(c,o[h],r),delete o[h]}),On(o,(c,h)=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(t,e,r){const o=t.value,c=e?e.value:null;if(o===c)if(o.component){const h=r.getContext(o.outlet);h&&this.deactivateChildRoutes(t,e,h.children)}else this.deactivateChildRoutes(t,e,r);else c&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),o=r&&t.value.component?r.children:e,c=wh(t);for(const h of Object.keys(c))this.deactivateRouteAndItsChildren(c[h],o);if(r&&r.outlet){const h=r.outlet.detach(),g=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:h,route:t,contexts:g})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),o=r&&t.value.component?r.children:e,c=wh(t);for(const h of Object.keys(c))this.deactivateRouteAndItsChildren(c[h],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const o=wh(e);t.children.forEach(c=>{this.activateRoutes(c,o[c.value.outlet],r),this.forwardEvent(new Ou(c.value.snapshot))}),t.children.length&&this.forwardEvent(new YE(t.value.snapshot))}activateRoutes(t,e,r){const o=t.value,c=e?e.value:null;if(Ch(o),o===c)if(o.component){const h=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,e,h.children)}else this.activateChildRoutes(t,e,r);else if(o.component){const h=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const g=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),h.children.onOutletReAttached(g.contexts),h.attachRef=g.componentRef,h.route=g.route.value,h.outlet&&h.outlet.attach(g.componentRef,g.route.value),Ch(g.route.value),this.activateChildRoutes(t,null,h.children)}else{const g=Tg(o.snapshot),v=g?.get(l._Vd)??null;h.attachRef=null,h.route=o,h.resolver=v,h.injector=g,h.outlet&&h.outlet.activateWith(o,h.injector),this.activateChildRoutes(t,null,h.children)}}else this.activateChildRoutes(t,null,r)}}class Mg{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class mc{constructor(t,e){this.component=t,this.route=e}}function dp(n,t,e){const r=n._root;return Vu(r,t?t._root:null,e,[r.value])}function Lu(n,t,e){return(Tg(t)??e).get(n)}function Vu(n,t,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const c=wh(t);return n.children.forEach(h=>{(function Rg(n,t,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,h=t?t.value:null,g=e?e.getContext(n.value.outlet):null;if(h&&c.routeConfig===h.routeConfig){const v=function Dh(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!ke(n.url,t.url);case"pathParamsOrQueryParamsChange":return!ke(n.url,t.url)||!Zt(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!sp(n,t)||!Zt(n.queryParams,t.queryParams);default:return!sp(n,t)}}(h,c,c.routeConfig.runGuardsAndResolvers);v?o.canActivateChecks.push(new Mg(r)):(c.data=h.data,c._resolvedData=h._resolvedData),Vu(n,t,c.component?g?g.children:null:e,r,o),v&&g&&g.outlet&&g.outlet.isActivated&&o.canDeactivateChecks.push(new mc(g.outlet.component,h))}else h&&Ih(t,g,o),o.canActivateChecks.push(new Mg(r)),Vu(n,null,c.component?g?g.children:null:e,r,o)})(h,c[h.value.outlet],e,r.concat([h.value]),o),delete c[h.value.outlet]}),On(c,(h,g)=>Ih(h,e.getContext(g),o)),o}function Ih(n,t,e){const r=wh(n),o=n.value;On(r,(c,h)=>{Ih(c,o.component?t?t.children.getContext(h):null:t,e)}),e.canDeactivateChecks.push(new mc(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function Bu(n){return"function"==typeof n}function hp(n){return n instanceof So||"EmptyError"===n?.name}const fp=Symbol("INITIAL_VALUE");function Uu(){return un(n=>No(n.map(t=>t.pipe(En(1),ys(fp)))).pipe((0,et.U)(t=>{for(const e of t)if(!0!==e){if(e===fp)return fp;if(!1===e||e instanceof T)return e}return!0}),gn(t=>t!==fp),En(1)))}function Zv(n){return(0,fg.z)((0,yn.b)(t=>{if(Na(t))throw op(0,t)}),(0,et.U)(t=>!0===t))}const wt={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xg(n,t,e,r,o){const c=pp(n,t,e);return c.matched?function p0(n,t,e,r){const o=t.canMatch;return o&&0!==o.length?Le(o.map(h=>{const g=n.get(h),v=function UT(n){return n&&Bu(n.canMatch)}(g)?g.canMatch(t,e):g(t,e);return Mr(v)})).pipe(Uu(),Zv()):Le(!0)}(r=Uv(t,r),t,e).pipe((0,et.U)(h=>!0===h?c:{...wt})):Le(c)}function pp(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...wt}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(t.matcher||hh)(e,n,t);if(!o)return{...wt};const c={};On(o.posParams,(g,v)=>{c[v]=g.path});const h=o.consumed.length>0?{...c,...o.consumed[o.consumed.length-1].parameters}:c;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:h,positionalParamSegments:o.posParams??{}}}function Sh(n,t,e,r,o="corrected"){if(e.length>0&&function Yv(n,t,e){return e.some(r=>Th(n,t,r)&&vs(r)!==Et)}(n,e,r)){const h=new R(t,function g0(n,t,e,r){const o={};o[Et]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const c of e)if(""===c.path&&vs(c)!==Et){const h=new R([],{});h._sourceSegment=n,h._segmentIndexShift=t.length,o[vs(c)]=h}return o}(n,t,r,new R(e,n.children)));return h._sourceSegment=n,h._segmentIndexShift=t.length,{segmentGroup:h,slicedSegments:[]}}if(0===e.length&&function _0(n,t,e){return e.some(r=>Th(n,t,r))}(n,e,r)){const h=new R(n.segments,function m0(n,t,e,r,o,c){const h={};for(const g of r)if(Th(n,e,g)&&!o[vs(g)]){const v=new R([],{});v._sourceSegment=n,v._segmentIndexShift="legacy"===c?n.segments.length:t.length,h[vs(g)]=v}return{...o,...h}}(n,t,e,r,n.children,o));return h._sourceSegment=n,h._segmentIndexShift=t.length,{segmentGroup:h,slicedSegments:e}}const c=new R(n.segments,n.children);return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}function Th(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Kv(n,t,e,r){return!!(vs(n)===r||r!==Et&&Th(t,e,n))&&("**"===n.path||pp(t,n,e).matched)}function Qv(n,t,e){return 0===t.length&&!n.children[e]}const Og=!1;class Ah{constructor(t){this.segmentGroup=t||null}}class Ng{constructor(t){this.urlTree=t}}function qs(n){return yi(new Ah(n))}function Jv(n){return yi(new Ng(n))}class HT{constructor(t,e,r,o,c){this.injector=t,this.configLoader=e,this.urlSerializer=r,this.urlTree=o,this.config=c,this.allowRedirects=!0}apply(){const t=Sh(this.urlTree.root,[],[],this.config).segmentGroup,e=new R(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Et).pipe((0,et.U)(c=>this.createUrlTree(mh(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(vi(c=>{if(c instanceof Ng)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof Ah?this.noMatchError(c):c}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Et).pipe((0,et.U)(o=>this.createUrlTree(mh(o),t.queryParams,t.fragment))).pipe(vi(o=>{throw o instanceof Ah?this.noMatchError(o):o}))}noMatchError(t){return new l.vHH(4002,Og)}createUrlTree(t,e,r){const o=Xf(t);return new T(o,e,r)}expandSegmentGroup(t,e,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe((0,et.U)(c=>new R([],c))):this.expandSegment(t,r,e,r.segments,o,!0)}expandChildren(t,e,r){const o=[];for(const c of Object.keys(r.children))"primary"===c?o.unshift(c):o.push(c);return(0,Pt.D)(o).pipe(Hn(c=>{const h=r.children[c],g=Sg(e,c);return this.expandSegmentGroup(t,g,h,c).pipe((0,et.U)(v=>({segment:v,outlet:c})))}),cl((c,h)=>(c[h.outlet]=h.segment,c),{}),uh())}expandSegment(t,e,r,o,c,h){return(0,Pt.D)(r).pipe(Hn(g=>this.expandSegmentAgainstRoute(t,e,r,g,o,c,h).pipe(vi(D=>{if(D instanceof Ah)return Le(null);throw D}))),ei(g=>!!g),vi((g,v)=>{if(hp(g))return Qv(e,o,c)?Le(new R([],{})):qs(e);throw g}))}expandSegmentAgainstRoute(t,e,r,o,c,h,g){return Kv(o,e,c,h)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(t,e,o,c,h):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,o,c,h):qs(e):qs(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,o,c,h){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,o,h):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,o,c,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,o){const c=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Jv(c):this.lineralizeSegments(r,c).pipe((0,pr.z)(h=>{const g=new R(h,{});return this.expandSegment(t,g,e,h,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,o,c,h){const{matched:g,consumedSegments:v,remainingSegments:D,positionalParamSegments:M}=pp(e,o,c);if(!g)return qs(e);const O=this.applyRedirectCommands(v,o.redirectTo,M);return o.redirectTo.startsWith("/")?Jv(O):this.lineralizeSegments(o,O).pipe((0,pr.z)(B=>this.expandSegment(t,e,r,B.concat(D),h,!1)))}matchSegmentAgainstRoute(t,e,r,o,c){return"**"===r.path?(t=Uv(r,t),r.loadChildren?(r._loadedRoutes?Le({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(t,r)).pipe((0,et.U)(g=>(r._loadedRoutes=g.routes,r._loadedInjector=g.injector,new R(o,{})))):Le(new R(o,{}))):xg(e,r,o,t).pipe(un(({matched:h,consumedSegments:g,remainingSegments:v})=>h?this.getChildConfig(t=r._injector??t,r,o).pipe((0,pr.z)(M=>{const O=M.injector??t,B=M.routes,{segmentGroup:Q,slicedSegments:re}=Sh(e,g,v,B),ye=new R(Q.segments,Q.children);if(0===re.length&&ye.hasChildren())return this.expandChildren(O,B,ye).pipe((0,et.U)(Yt=>new R(g,Yt)));if(0===B.length&&0===re.length)return Le(new R(g,{}));const Ne=vs(r)===c;return this.expandSegment(O,ye,B,re,Ne?Et:c,!0).pipe((0,et.U)(yt=>new R(g.concat(yt.segments),yt.children)))})):qs(e)))}getChildConfig(t,e,r){return e.children?Le({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Le({routes:e._loadedRoutes,injector:e._loadedInjector}):function f0(n,t,e,r){const o=t.canLoad;return void 0===o||0===o.length?Le(!0):Le(o.map(h=>{const g=n.get(h),v=function s0(n){return n&&Bu(n.canLoad)}(g)?g.canLoad(t,e):g(t,e);return Mr(v)})).pipe(Uu(),Zv())}(t,e,r).pipe((0,pr.z)(o=>o?this.configLoader.loadChildren(t,e).pipe((0,yn.b)(c=>{e._loadedRoutes=c.routes,e._loadedInjector=c.injector})):function Fg(n){return yi(Fv(Og,3))}())):Le({routes:[],injector:t})}lineralizeSegments(t,e){let r=[],o=e.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return Le(r);if(o.numberOfChildren>1||!o.children[Et])return yi(new l.vHH(4e3,Og));o=o.children[Et]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreateUrlTree(t,e,r,o){const c=this.createSegmentGroup(t,e.root,r,o);return new T(c,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return On(t,(o,c)=>{if("string"==typeof o&&o.startsWith(":")){const g=o.substring(1);r[c]=e[g]}else r[c]=o}),r}createSegmentGroup(t,e,r,o){const c=this.createSegments(t,e.segments,r,o);let h={};return On(e.children,(g,v)=>{h[v]=this.createSegmentGroup(t,g,r,o)}),new R(c,h)}createSegments(t,e,r,o){return e.map(c=>c.path.startsWith(":")?this.findPosParam(t,c,o):this.findOrReturn(c,r))}findPosParam(t,e,r){const o=r[e.path.substring(1)];if(!o)throw new l.vHH(4001,Og);return o}findOrReturn(t,e){let r=0;for(const o of e){if(o.path===t.path)return e.splice(r),o;r++}return t}}class v0{}class b0{constructor(t,e,r,o,c,h,g,v){this.injector=t,this.rootComponentType=e,this.config=r,this.urlTree=o,this.url=c,this.paramsInheritanceStrategy=h,this.relativeLinkResolution=g,this.urlSerializer=v}recognize(){const t=Sh(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Et).pipe((0,et.U)(e=>{if(null===e)return null;const r=new fl([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Et,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Uo(r,e),c=new Nv(this.url,o);return this.inheritParamsAndData(c._root),c}))}inheritParamsAndData(t){const e=t.value,r=Cg(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(t,e,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,e,r):this.processSegment(t,e,r,r.segments,o)}processChildren(t,e,r){return(0,Pt.D)(Object.keys(r.children)).pipe(Hn(o=>{const c=r.children[o],h=Sg(e,o);return this.processSegmentGroup(t,h,c,o)}),cl((o,c)=>o&&c?(o.push(...c),o):null),function dh(n,t=!1){return(0,pn.e)((e,r)=>{let o=0;e.subscribe((0,mn.x)(r,c=>{const h=n(c,o++);(h||t)&&r.next(c),!h&&r.complete()}))})}(o=>null!==o),ds(null),uh(),(0,et.U)(o=>{if(null===o)return null;const c=Mh(o);return function Hu(n){n.sort((t,e)=>t.value.outlet===Et?-1:e.value.outlet===Et?1:t.value.outlet.localeCompare(e.value.outlet))}(c),c}))}processSegment(t,e,r,o,c){return(0,Pt.D)(e).pipe(Hn(h=>this.processSegmentAgainstRoute(h._injector??t,h,r,o,c)),ei(h=>!!h),vi(h=>{if(hp(h))return Qv(r,o,c)?Le([]):Le(null);throw h}))}processSegmentAgainstRoute(t,e,r,o,c){if(e.redirectTo||!Kv(e,r,o,c))return Le(null);let h;if("**"===e.path){const g=o.length>0?Zf(o).parameters:{},v=tb(r)+o.length;h=Le({snapshot:new fl(o,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,rb(e),vs(e),e.component??e._loadedComponent??null,e,Vg(r),v,ib(e),v),consumedSegments:[],remainingSegments:[]})}else h=xg(r,e,o,t).pipe((0,et.U)(({matched:g,consumedSegments:v,remainingSegments:D,parameters:M})=>{if(!g)return null;const O=tb(r)+v.length;return{snapshot:new fl(v,M,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,rb(e),vs(e),e.component??e._loadedComponent??null,e,Vg(r),O,ib(e),O),consumedSegments:v,remainingSegments:D}}));return h.pipe(un(g=>{if(null===g)return Le(null);const{snapshot:v,consumedSegments:D,remainingSegments:M}=g;t=e._injector??t;const O=e._loadedInjector??t,B=function w0(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:Q,slicedSegments:re}=Sh(r,D,M,B.filter(Ne=>void 0===Ne.redirectTo),this.relativeLinkResolution);if(0===re.length&&Q.hasChildren())return this.processChildren(O,B,Q).pipe((0,et.U)(Ne=>null===Ne?null:[new Uo(v,Ne)]));if(0===B.length&&0===re.length)return Le([new Uo(v,[])]);const ye=vs(e)===c;return this.processSegment(O,B,Q,re,ye?Et:c).pipe((0,et.U)(Ne=>null===Ne?null:[new Uo(v,Ne)]))}))}}function eb(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Mh(n){const t=[],e=new Set;for(const r of n){if(!eb(r)){t.push(r);continue}const o=t.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==o?(o.children.push(...r.children),e.add(o)):t.push(r)}for(const r of e){const o=Mh(r.children);t.push(new Uo(r.value,o))}return t.filter(r=>!e.has(r))}function Vg(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function tb(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function rb(n){return n.data||{}}function ib(n){return n.resolve||{}}const mp=Symbol("RouteTitle");function gp(n){return"string"==typeof n.title||null===n.title}function Ug(n){return un(t=>{const e=n(t);return e?(0,Pt.D)(e).pipe((0,et.U)(()=>t)):Le(t)})}let I0=(()=>{class n{buildTitle(e){let r,o=e.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(c=>c.outlet===Et);return r}getResolvedTitleForRoute(e){return e.data[mp]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(gc)},providedIn:"root"}),n})(),gc=(()=>{class n extends I0{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(su))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ab{}class Zs extends class _p{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Hg=new l.OlP("",{providedIn:"root",factory:()=>({})}),Ys=new l.OlP("ROUTES");let Rh=(()=>{class n{constructor(e,r){this.injector=e,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Le(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=Mr(e.loadComponent()).pipe((0,yn.b)(c=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=c}),Vi(()=>{this.componentLoaders.delete(e)})),o=new ch(r,()=>new $t.x).pipe(cc());return this.componentLoaders.set(e,o),o}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Le({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const c=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,et.U)(g=>{this.onLoadEndListener&&this.onLoadEndListener(r);let v,D,M=!1;Array.isArray(g)?D=g:(v=g.create(e).injector,D=dl(v.get(Ys,[],l.XFs.Self|l.XFs.Optional)));return{routes:D.map(Fu),injector:v}}),Vi(()=>{this.childrenLoaders.delete(r)})),h=new ch(c,()=>new $t.x).pipe(cc());return this.childrenLoaders.set(r,h),h}loadModuleFactoryOrRoutes(e){return Mr(e()).pipe((0,pr.z)(r=>r instanceof l.YKP||Array.isArray(r)?Le(r):(0,Pt.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.zs3),l.LFG(l.Sil))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class cb{}class jg{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function ub(n){throw n}function GT(n,t,e){return t.parse("/")}const vp={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bp={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function wp(){const n=(0,l.f3M)(ct),t=(0,l.f3M)(Eh),e=(0,l.f3M)(Te),r=(0,l.f3M)(l.zs3),o=(0,l.f3M)(l.Sil),c=(0,l.f3M)(Ys,{optional:!0})??[],h=(0,l.f3M)(Hg,{optional:!0})??{},g=(0,l.f3M)(gc),v=(0,l.f3M)(I0,{optional:!0}),D=(0,l.f3M)(cb,{optional:!0}),M=(0,l.f3M)(ab,{optional:!0}),O=new mr(null,n,t,e,r,o,dl(c));return D&&(O.urlHandlingStrategy=D),M&&(O.routeReuseStrategy=M),O.titleStrategy=v??g,function zg(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(h,O),O}let mr=(()=>{class n{constructor(e,r,o,c,h,g,v){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=o,this.location=c,this.config=v,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new $t.x,this.errorHandler=ub,this.malformedUriErrorHandler=GT,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Le(void 0),this.urlHandlingStrategy=new jg,this.routeReuseStrategy=new Zs,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=h.get(Rh),this.configLoader.onLoadEndListener=B=>this.triggerEvent(new qE(B)),this.configLoader.onLoadStartListener=B=>this.triggerEvent(new WE(B)),this.ngModule=h.get(l.h0i),this.console=h.get(l.c2e);const O=h.get(l.R0b);this.isNgZoneEnabled=O instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(v),this.currentUrlTree=function pg(){return new T(new R([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=np(this.currentUrlTree,this.rootComponentType),this.transitions=new Ar({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(gn(o=>0!==o.id),(0,et.U)(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),un(o=>{let c=!1,h=!1;return Le(o).pipe((0,yn.b)(g=>{this.currentNavigation={id:g.id,initialUrl:g.rawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),un(g=>{const v=this.browserUrlTree.toString(),D=!this.navigated||g.extractedUrl.toString()!==v||v!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||D)&&this.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return db(g.source)&&(this.browserUrlTree=g.extractedUrl),Le(g).pipe(un(O=>{const B=this.transitions.getValue();return r.next(new bh(O.id,this.serializeUrl(O.extractedUrl),O.source,O.restoredState)),B!==this.transitions.getValue()?Xr.E:Promise.resolve(O)}),function jT(n,t,e,r){return un(o=>function y0(n,t,e,r,o){return new HT(n,t,e,r,o).apply()}(n,t,e,o.extractedUrl,r).pipe((0,et.U)(c=>({...o,urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,yn.b)(O=>{this.currentNavigation={...this.currentNavigation,finalUrl:O.urlAfterRedirects},o.urlAfterRedirects=O.urlAfterRedirects}),function E0(n,t,e,r,o,c){return(0,pr.z)(h=>function $T(n,t,e,r,o,c,h="emptyOnly",g="legacy"){return new b0(n,t,e,r,o,h,g,c).recognize().pipe(un(v=>null===v?function Xv(n){return new cn.y(t=>t.error(n))}(new v0):Le(v)))}(n,t,e,h.urlAfterRedirects,r.serialize(h.urlAfterRedirects),r,o,c).pipe((0,et.U)(g=>({...h,targetSnapshot:g}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,yn.b)(O=>{if(o.targetSnapshot=O.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!O.extras.skipLocationChange){const Q=this.urlHandlingStrategy.merge(O.urlAfterRedirects,O.rawUrl);this.setBrowserUrl(Q,O)}this.browserUrlTree=O.urlAfterRedirects}const B=new $E(O.id,this.serializeUrl(O.extractedUrl),this.serializeUrl(O.urlAfterRedirects),O.targetSnapshot);r.next(B)}));if(D&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:B,extractedUrl:Q,source:re,restoredState:ye,extras:Ne}=g,qe=new bh(B,this.serializeUrl(Q),re,ye);r.next(qe);const yt=np(Q,this.rootComponentType).snapshot;return Le(o={...g,targetSnapshot:yt,urlAfterRedirects:Q,extras:{...Ne,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=g.rawUrl,g.resolve(null),Xr.E}),(0,yn.b)(g=>{const v=new Mv(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(v)}),(0,et.U)(g=>o={...g,guards:dp(g.targetSnapshot,g.currentSnapshot,this.rootContexts)}),function Ws(n,t){return(0,pr.z)(e=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:c,canDeactivateChecks:h}}=e;return 0===h.length&&0===c.length?Le({...e,guardsResult:!0}):function l0(n,t,e,r){return(0,Pt.D)(n).pipe((0,pr.z)(o=>function qv(n,t,e,r,o){const c=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return c&&0!==c.length?Le(c.map(g=>{const v=Lu(g,t,o);return Mr(function Gv(n){return n&&Bu(n.canDeactivate)}(v)?v.canDeactivate(n,t,e,r):v(n,t,e,r)).pipe(ei())})).pipe(Uu()):Le(!0)}(o.component,o.route,e,t,r)),ei(o=>!0!==o,!0))}(h,r,o,n).pipe((0,pr.z)(g=>g&&function r0(n){return"boolean"==typeof n}(g)?function Wv(n,t,e,r){return(0,Pt.D)(t).pipe(Hn(o=>Iu(function u0(n,t){return null!==n&&t&&t(new ZE(n)),Le(!0)}(o.route.parent,r),function c0(n,t){return null!==n&&t&&t(new KE(n)),Le(!0)}(o.route,r),function h0(n,t,e){const r=t[t.length-1],c=t.slice(0,t.length-1).reverse().map(h=>function $v(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(h)).filter(h=>null!==h).map(h=>hg(()=>Le(h.guards.map(v=>{const D=Lu(v,h.node,e);return Mr(function kg(n){return n&&Bu(n.canActivateChild)}(D)?D.canActivateChild(r,n):D(r,n)).pipe(ei())})).pipe(Uu())));return Le(c).pipe(Uu())}(n,o.path,e),function d0(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Le(!0);const o=r.map(c=>hg(()=>{const h=Lu(c,t,e);return Mr(function zv(n){return n&&Bu(n.canActivate)}(h)?h.canActivate(t,n):h(t,n)).pipe(ei())}));return Le(o).pipe(Uu())}(n,o.route,e))),ei(o=>!0!==o,!0))}(r,c,n,t):Le(g)),(0,et.U)(g=>({...e,guardsResult:g})))})}(this.ngModule.injector,g=>this.triggerEvent(g)),(0,yn.b)(g=>{if(o.guardsResult=g.guardsResult,Na(g.guardsResult))throw op(0,g.guardsResult);const v=new zE(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.triggerEvent(v)}),gn(g=>!!g.guardsResult||(this.restoreHistory(g),this.cancelNavigationTransition(g,"",3),!1)),Ug(g=>{if(g.guards.canActivateChecks.length)return Le(g).pipe((0,yn.b)(v=>{const D=new Rv(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(D)}),un(v=>{let D=!1;return Le(v).pipe(function D0(n,t){return(0,pr.z)(e=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=e;if(!o.length)return Le(e);let c=0;return(0,Pt.D)(o).pipe(Hn(h=>function sb(n,t,e,r){const o=n.routeConfig,c=n._resolve;return void 0!==o?.title&&!gp(o)&&(c[mp]=o.title),function ob(n,t,e,r){const o=function Bg(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return Le({});const c={};return(0,Pt.D)(o).pipe((0,pr.z)(h=>function zT(n,t,e,r){const o=Lu(n,t,r);return Mr(o.resolve?o.resolve(t,e):o(t,e))}(n[h],t,e,r).pipe(ei(),(0,yn.b)(g=>{c[h]=g}))),Oa(1),$s(c),vi(h=>hp(h)?Xr.E:yi(h)))}(c,n,t,r).pipe((0,et.U)(h=>(n._resolvedData=h,n.data=Cg(n,e).resolve,o&&gp(o)&&(n.data[mp]=o.title),null)))}(h.route,r,n,t)),(0,yn.b)(()=>c++),Oa(1),(0,pr.z)(h=>c===o.length?Le(e):Xr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,yn.b)({next:()=>D=!0,complete:()=>{D||(this.restoreHistory(v),this.cancelNavigationTransition(v,"",2))}}))}),(0,yn.b)(v=>{const D=new GE(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(D)}))}),Ug(g=>{const v=D=>{const M=[];D.routeConfig?.loadComponent&&!D.routeConfig._loadedComponent&&M.push(this.configLoader.loadComponent(D.routeConfig).pipe((0,yn.b)(O=>{D.component=O}),(0,et.U)(()=>{})));for(const O of D.children)M.push(...v(O));return M};return No(v(g.targetSnapshot.root)).pipe(ds(),En(1))}),Ug(()=>this.afterPreactivation()),(0,et.U)(g=>{const v=function LT(n,t,e){const r=Ho(n,t._root,e?e._root:void 0);return new Gs(r,t)}(this.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return o={...g,targetRouterState:v}}),(0,yn.b)(g=>{this.currentUrlTree=g.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl),this.routerState=g.targetRouterState,"deferred"===this.urlUpdateStrategy&&(g.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,g),this.browserUrlTree=g.urlAfterRedirects)}),((n,t,e)=>(0,et.U)(r=>(new Ag(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,g=>this.triggerEvent(g)),(0,yn.b)({next(){c=!0},complete(){c=!0}}),Vi(()=>{c||h||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),vi(g=>{if(h=!0,Vv(g)){Lv(g)||(this.navigated=!0,this.restoreHistory(o,!0));const v=new tp(o.id,this.serializeUrl(o.extractedUrl),g.message,g.cancellationCode);if(r.next(v),Lv(g)){const D=this.urlHandlingStrategy.merge(g.url,this.rawUrlTree),M={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||db(o.source)};this.scheduleNavigation(D,"imperative",null,M,{resolve:o.resolve,reject:o.reject,promise:o.promise})}else o.resolve(!1)}else{this.restoreHistory(o,!0);const v=new bg(o.id,this.serializeUrl(o.extractedUrl),g,o.targetSnapshot??void 0);r.next(v);try{o.resolve(this.errorHandler(g))}catch(D){o.reject(D)}}return Xr.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const o={replaceUrl:!0},c=e.state?.navigationId?e.state:null;if(c){const g={...c};delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(o.state=g)}const h=this.parseUrl(e.url);this.scheduleNavigation(h,r,c,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(Fu),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:o,queryParams:c,fragment:h,queryParamsHandling:g,preserveFragment:v}=r,D=o||this.routerState.root,M=v?this.currentUrlTree.fragment:h;let O=null;switch(g){case"merge":O={...this.currentUrlTree.queryParams,...c};break;case"preserve":O=this.currentUrlTree.queryParams;break;default:O=c||null}return null!==O&&(O=this.removeEmptyProps(O)),UE(D,this.currentUrlTree,e,O,M??null)}navigateByUrl(e,r={skipLocationChange:!1}){const o=Na(e)?e:this.parseUrl(e),c=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function WT(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new l.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return r}isActive(e,r){let o;if(o=!0===r?{...vp}:!1===r?{...bp}:r,Na(e))return Au(this.currentUrlTree,e,o);const c=this.parseUrl(e);return Au(this.currentUrlTree,c,o)}removeEmptyProps(e){return Object.keys(e).reduce((r,o)=>{const c=e[o];return null!=c&&(r[o]=c),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new pc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,o,c,h){if(this.disposed)return Promise.resolve(!1);let g,v,D;h?(g=h.resolve,v=h.reject,D=h.promise):D=new Promise((B,Q)=>{g=B,v=Q});const M=++this.navigationId;let O;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),O=o&&o.\u0275routerPageId?o.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):O=0,this.setTransition({id:M,targetPageId:O,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:c,resolve:g,reject:v,promise:D,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),D.catch(B=>Promise.reject(B))}setBrowserUrl(e,r){const o=this.urlSerializer.serialize(e),c={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",c):this.location.go(o,"",c)}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===o?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r,o){const c=new tp(e.id,this.serializeUrl(e.extractedUrl),r,o);this.triggerEvent(c),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:function(){return wp()},providedIn:"root"}),n})();function db(n){return"imperative"!==n}let ju=(()=>{class n{constructor(e,r,o,c,h){this.router=e,this.route=r,this.tabIndexAttribute=o,this.renderer=c,this.el=h,this.commands=null,this.onChanges=new $t.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const r=this.renderer,o=this.el.nativeElement;null!==e?r.setAttribute(o,"tabindex",e):r.removeAttribute(o,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:(0,l.D6c)(this.skipLocationChange),replaceUrl:(0,l.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,l.D6c)(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(mr),l.Y36(Nu),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,r){1&e&&l.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[l.TTD]}),n})(),Cp=(()=>{class n{constructor(e,r,o){this.router=e,this.route=r,this.locationStrategy=o,this.commands=null,this.href=null,this.onChanges=new $t.x,this.subscription=e.events.subscribe(c=>{c instanceof pc&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,r,o,c,h){if(0!==e||r||o||c||h||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const g={skipLocationChange:(0,l.D6c)(this.skipLocationChange),replaceUrl:(0,l.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,g),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,l.D6c)(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(mr),l.Y36(Nu),l.Y36(_e))},n.\u0275dir=l.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,r){1&e&&l.NdJ("click",function(c){return r.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),2&e&&l.uIk("target",r.target)("href",r.href,l.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[l.TTD]}),n})();class A0{}let Gg=(()=>{class n{constructor(e,r,o,c,h){this.router=e,this.injector=o,this.preloadingStrategy=c,this.loader=h}setUpPreloading(){this.subscription=this.router.events.pipe(gn(e=>e instanceof pc),Hn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const o=[];for(const c of r){c.providers&&!c._injector&&(c._injector=(0,l.MMx)(c.providers,e,`Route: ${c.path}`));const h=c._injector??e,g=c._loadedInjector??h;c.loadChildren&&!c._loadedRoutes&&void 0===c.canLoad||c.loadComponent&&!c._loadedComponent?o.push(this.preloadConfig(h,c)):(c.children||c._loadedRoutes)&&o.push(this.processRoutes(g,c.children??c._loadedRoutes))}return(0,Pt.D)(o).pipe((0,lc.J)())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):Le(null);const c=o.pipe((0,pr.z)(h=>null===h?Le(void 0):(r._loadedRoutes=h.routes,r._loadedInjector=h.injector,this.processRoutes(h.injector??e,h.routes))));if(r.loadComponent&&!r._loadedComponent){const h=this.loader.loadComponent(r);return(0,Pt.D)([c,h]).pipe((0,lc.J)())}return c})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(mr),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(A0),l.LFG(Rh))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Wg=new l.OlP("");let M0=(()=>{class n{constructor(e,r,o={}){this.router=e,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof bh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof pc&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Bo&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new Bo(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const R0=new l.OlP("ROUTER_FORROOT_GUARD"),k0=new l.OlP(""),ZT=[Te,{provide:ct,useClass:st},{provide:mr,useFactory:wp},Eh,{provide:Nu,useFactory:function YT(n){return n.routerState.root},deps:[mr]},Rh];function KT(){return new l.PXZ("Router",mr)}let x0=(()=>{class n{constructor(e){}static forRoot(e,r){return{ngModule:n,providers:[ZT,[],Ep(e),{provide:R0,useFactory:pl,deps:[[mr,new l.FiY,new l.tp0]]},{provide:Hg,useValue:r||{}},r?.useHash?{provide:_e,useClass:Je}:{provide:_e,useClass:Ge},{provide:Wg,useFactory:()=>{const n=(0,l.f3M)(mr),t=(0,l.f3M)(Rs),e=(0,l.f3M)(Hg);return e.scrollOffset&&t.setOffset(e.scrollOffset),new M0(n,t,e)}},r?.preloadingStrategy?Yg(r.preloadingStrategy):[],{provide:l.PXZ,multi:!0,useFactory:KT},r?.initialNavigation?Zg(r):[],[{provide:qg,useFactory:O0},{provide:l.tb,multi:!0,useExisting:qg}]]}}static forChild(e){return{ngModule:n,providers:[Ep(e)]}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(R0,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function pl(n){return"guarded"}function Ep(n){return[{provide:Ys,multi:!0,useValue:n}]}function O0(){const n=(0,l.f3M)(l.zs3);return t=>{const e=n.get(l.z2F);if(t!==e.components[0])return;const r=n.get(mr),o=n.get(Dp);1===n.get($o)&&r.initialNavigation(),n.get(k0,null,l.XFs.Optional)?.setUpPreloading(),n.get(Wg,null,l.XFs.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),o.next(),o.complete()}}const qg=new l.OlP("");function Zg(n){return["disabled"===n.initialNavigation?[{provide:l.ip1,multi:!0,useFactory:()=>{const n=(0,l.f3M)(mr);return()=>{n.setUpLocationChangeListener()}}},{provide:$o,useValue:2}]:[],"enabledBlocking"===n.initialNavigation?[{provide:$o,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:n=>{const t=n.get(j,Promise.resolve(null));let e=!1;return()=>t.then(()=>new Promise(o=>{const c=n.get(mr),h=n.get(Dp);(function r(o){n.get(mr).events.pipe(gn(h=>h instanceof pc||h instanceof tp||h instanceof bg),(0,et.U)(h=>h instanceof pc||h instanceof tp&&(0===h.code||1===h.code)&&null),gn(h=>null!==h),En(1)).subscribe(()=>{o()})})(()=>{o(!0),e=!0}),c.afterPreactivation=()=>(o(!0),e||h.closed?Le(void 0):h),c.initialNavigation()}))}}]:[]]}const Dp=new l.OlP("",{factory:()=>new $t.x}),$o=new l.OlP("",{providedIn:"root",factory:()=>1});function Yg(n){return[Gg,{provide:k0,useExisting:Gg},{provide:A0,useExisting:n}]}var kh=P(4986);function Kg(n,t=To.y){return n=n??F0,(0,pn.e)((e,r)=>{let o,c=!0;e.subscribe((0,mn.x)(r,h=>{const g=t(h);(c||!n(o,g))&&(c=!1,o=g,r.next(h))}))})}function F0(n,t){return n===t}var xh=P(5032);P(2476);var Ip=P(3942);const zu="@firebase/database";let Sp="";function Jg(n){Sp=n}class Xg{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,F.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,F.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class e_{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,F.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const t_=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Xg(t)}}catch{}return new e_},Pa=t_("localStorage"),n_=t_("sessionStorage"),Nh=new Ca.Yd("@firebase/database"),gb=function(){let n=1;return function(){return n++}}(),r_=function(n){const t=(0,F.dS)(n),e=new F.gQ;e.update(t);const r=e.digest();return F.US.encodeByteArray(r)},Ph=function(...n){let t="";for(let e=0;e<n.length;e++){const r=n[e];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=Ph.apply(null,r):t+="object"==typeof r?(0,F.Pz)(r):r,t+=" "}return t};let ml=null,i_=!0;const _b=function(n,t){(0,F.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Nh.logLevel=Ca.in.VERBOSE,ml=Nh.log.bind(Nh),t&&n_.set("logging_enabled",!0)):"function"==typeof n?ml=n:(ml=null,n_.remove("logging_enabled"))},Xt=function(...n){if(!0===i_&&(i_=!1,null===ml&&!0===n_.get("logging_enabled")&&_b(!0)),ml){const t=Ph.apply(null,n);ml(t)}},Gu=function(n){return function(...t){Xt(n,...t)}},s_=function(...n){const t="FIREBASE INTERNAL ERROR: "+Ph(...n);Nh.error(t)},Fa=function(...n){const t=`FIREBASE FATAL ERROR: ${Ph(...n)}`;throw Nh.error(t),new Error(t)},Hr=function(...n){const t="FIREBASE WARNING: "+Ph(...n);Nh.warn(t)},Fh=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},La="[MIN_NAME]",zo="[MAX_NAME]",gl=function(n,t){if(n===t)return 0;if(n===La||t===zo)return-1;if(t===La||n===zo)return 1;{const e=Lh(n),r=Lh(t);return null!==e?null!==r?e-r==0?n.length-t.length:e-r:-1:null!==r?1:n<t?-1:1}},V0=function(n,t){return n===t?0:n<t?-1:1},Wu=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,F.Pz)(t))},a_=function(n){if("object"!=typeof n||null===n)return(0,F.Pz)(n);const t=[];for(const r in n)t.push(r);t.sort();let e="{";for(let r=0;r<t.length;r++)0!==r&&(e+=","),e+=(0,F.Pz)(t[r]),e+=":",e+=a_(n[t[r]]);return e+="}",e},yb=function(n,t){const e=n.length;if(e<=t)return[n];const r=[];for(let o=0;o<e;o+=t)r.push(n.substring(o,o+t>e?e:o+t));return r};function lr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const l_=function(n){(0,F.hu)(!Fh(n),"Invalid JSON number");const r=1023;let o,c,h,g,v;0===n?(c=0,h=0,o=1/n==-1/0?1:0):(o=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(g=Math.min(Math.floor(Math.log(n)/Math.LN2),r),c=g+r,h=Math.round(n*Math.pow(2,52-g)-Math.pow(2,52))):(c=0,h=Math.round(n/Math.pow(2,-1074))));const D=[];for(v=52;v;v-=1)D.push(h%2?1:0),h=Math.floor(h/2);for(v=11;v;v-=1)D.push(c%2?1:0),c=Math.floor(c/2);D.push(o?1:0),D.reverse();const M=D.join("");let O="";for(v=0;v<64;v+=8){let B=parseInt(M.substr(v,8),2).toString(16);1===B.length&&(B="0"+B),O+=B}return O.toLowerCase()},U0=new RegExp("^-?(0*)\\d{1,10}$"),vb=-2147483648,bb=2147483647,Lh=function(n){if(U0.test(n)){const t=Number(n);if(t>=vb&&t<=bb)return t}return null},qu=function(n){try{n()}catch(t){setTimeout(()=>{throw Hr("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Vh=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class u_{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){Hr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class j0{constructor(t,e,r){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Xt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Hr(t)}}let Bh=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const h_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,G0="websocket",Cb="long_polling";class Mp{constructor(t,e,r,o,c=!1,h="",g=!1){this.secure=e,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=c,this.persistenceKey=h,this.includeNamespaceInQueryParams=g,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Pa.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Pa.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function f_(n,t,e){let r;if((0,F.hu)("string"==typeof t,"typeof type must == string"),(0,F.hu)("object"==typeof e,"typeof params must == object"),t===G0)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==Cb)throw new Error("Unknown connection type: "+t);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Eb(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const o=[];return lr(e,(c,h)=>{o.push(c+"="+h)}),r+o.join("&")}class Db{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,F.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,F.p$)(this.counters_)}}const Hh={},Ks={};function Zu(n){const t=n.toString();return Hh[t]||(Hh[t]=new Db),Hh[t]}class jh{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&qu(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class _l{constructor(t,e,r,o,c,h,g){this.connId=t,this.repoInfo=e,this.applicationId=r,this.appCheckToken=o,this.authToken=c,this.transportSessionId=h,this.lastSessionId=g,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Gu(t),this.stats_=Zu(e),this.urlFn=v=>(this.appCheckToken&&(v.ac=this.appCheckToken),f_(e,Cb,v))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new jh(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,F.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new $h((...c)=>{const[h,g,v,D,M]=c;if(this.incrementIncomingBytes_(c),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===h)this.id=g,this.password=v;else{if("close"!==h)throw new Error("Unrecognized command received: "+h);g?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(g,()=>{this.onClosed_()})):this.onClosed_()}},(...c)=>{const[h,g]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(h,g)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&h_.test(location.hostname)&&(r.r="f");const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){_l.forceAllow_=!0}static forceDisallow(){_l.forceDisallow_=!0}static isAvailable(){return!((0,F.Yr)()||!_l.forceAllow_&&(_l.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,F.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const r=(0,F.h$)(e),o=yb(r,1840);for(let c=0;c<o.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[c]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,F.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=t,r.pw=e,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,F.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class $h{constructor(t,e,r,o){if(this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,F.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=gb(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=$h.createIFrame_();let c="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(c='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(g){Xt("frame writing exception"),g.stack&&Xt(g.stack),Xt(g)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Xt("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const h=this.pendingSegs.shift();r=r+"&seg"+o+"="+h.seg+"&ts"+o+"="+h.ts+"&d"+o+"="+h.d,o++}return e+=r,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,r){this.pendingSegs.push({seg:t,ts:e,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const r=()=>{this.outstandingRequests.delete(e),this.newRequest_()},o=setTimeout(r,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(o),r()})}addTag(t,e){(0,F.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||"loaded"===o||"complete"===o)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=()=>{Xt("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let kp=null;typeof MozWebSocket<"u"?kp=MozWebSocket:typeof WebSocket<"u"&&(kp=WebSocket);let Ku=(()=>{class n{constructor(e,r,o,c,h,g,v){this.connId=e,this.applicationId=o,this.appCheckToken=c,this.authToken=h,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Gu(this.connId),this.stats_=Zu(r),this.connURL=n.connectionURL_(r,g,v,c,o),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,o,c,h){const g={v:"5"};return!(0,F.Yr)()&&typeof location<"u"&&location.hostname&&h_.test(location.hostname)&&(g.r="f"),r&&(g.s=r),o&&(g.ls=o),c&&(g.ac=c),h&&(g.p=h),f_(e,G0,g)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Pa.set("previous_websocket_failure",!0);try{let o;if((0,F.Yr)()){o={headers:{"User-Agent":`Firebase/5/${Sp}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(o.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(o.headers["X-Firebase-AppCheck"]=this.appCheckToken);const h=process.env,g=0===this.connURL.indexOf("wss://")?h.HTTPS_PROXY||h.https_proxy:h.HTTP_PROXY||h.http_proxy;g&&(o.proxy={origin:g})}this.mySock=new kp(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const c=o.message||o.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const c=o.message||o.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const o=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);o&&o.length>1&&parseFloat(o[1])<4.4&&(e=!0)}return!e&&null!==kp&&!n.forceDisallow_}static previouslyFailed(){return Pa.isInMemoryStorage||!0===Pa.get("previous_websocket_failure")}markConnectionHealthy(){Pa.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const o=(0,F.cI)(r);this.onMessage(o)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,F.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const o=this.extractFrameCount_(r);null!==o&&this.appendFrame_(o)}}send(e){this.resetKeepAlive();const r=(0,F.Pz)(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=yb(r,16384);o.length>1&&this.sendString_(String(o.length));for(let c=0;c<o.length;c++)this.sendString_(o[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),xb=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[_l,Ku]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const r=Ku&&Ku.isAvailable();let o=r&&!Ku.previouslyFailed();if(e.webSocketOnly&&(r||Hr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Ku];else{const c=this.transports_=[];for(const h of n.ALL_TRANSPORTS)h&&h.isAvailable()&&c.push(h);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class Ui{constructor(t,e,r,o,c,h,g,v,D,M){this.id=t,this.repoInfo_=e,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=c,this.onMessage_=h,this.onReady_=g,this.onDisconnect_=v,this.onKill_=D,this.lastSessionId=M,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Gu("c:"+this.id+":"),this.transportManager_=new xb(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,r)},Math.floor(0));const o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=Vh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Wu("t",t),r=Wu("d",t);if("c"===e)this.onSecondaryControl_(r);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Wu("t",t),r=Wu("d",t);"c"===e?this.onControl_(r):"d"===e&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Wu("t",t);if("d"in t){const r=t.d;if("h"===e)this.onHandshake_(r);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(r):"r"===e?this.onReset_(r):"e"===e?s_("Server Error: "+r):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):s_("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,r=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==r&&Hr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,r),Vh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Vh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Pa.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Pp{put(t,e,r,o){}merge(t,e,r,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,r){}onDisconnectMerge(t,e,r){}onDisconnectCancel(t,e){}reportStats(t){}}class bc{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,F.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,e)}}on(t,e,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:r});const o=this.getInitialEvent(t);o&&e.apply(r,o)}off(t,e,r){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let c=0;c<o.length;c++)if(o[c].callback===e&&(!r||r===o[c].context))return void o.splice(c,1)}validateEventType_(t){(0,F.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Va extends bc{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,F.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Va}getInitialEvent(t){return(0,F.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Bt{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Ft(){return new Bt("")}function Dt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Hi(n){return n.pieces_.length-n.pieceNum_}function Gt(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Bt(n.pieces_,t)}function Fp(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Ju(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function g_(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Bt(t,0)}function Sn(n,t){const e=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)e.push(n.pieces_[r]);if(t instanceof Bt)for(let r=t.pieceNum_;r<t.pieces_.length;r++)e.push(t.pieces_[r]);else{const r=t.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&e.push(r[o])}return new Bt(e,0)}function kt(n){return n.pieceNum_>=n.pieces_.length}function jr(n,t){const e=Dt(n),r=Dt(t);if(null===e)return t;if(e===r)return jr(Gt(n),Gt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function Pb(n,t){const e=Ju(n,0),r=Ju(t,0);for(let o=0;o<e.length&&o<r.length;o++){const c=gl(e[o],r[o]);if(0!==c)return c}return e.length===r.length?0:e.length<r.length?-1:1}function Lp(n,t){if(Hi(n)!==Hi(t))return!1;for(let e=n.pieceNum_,r=t.pieceNum_;e<=n.pieces_.length;e++,r++)if(n.pieces_[e]!==t.pieces_[r])return!1;return!0}function bs(n,t){let e=n.pieceNum_,r=t.pieceNum_;if(Hi(n)>Hi(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[r])return!1;++e,++r}return!0}class tD{constructor(t,e){this.errorPrefix_=e,this.parts_=Ju(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,F.ug)(this.parts_[r]);Lb(this)}}function Lb(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+vl(n))}function vl(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class zh extends bc{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new zh}getInitialEvent(t){return(0,F.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Ec=1e3;let Xu,Wo=(()=>{class n extends Pp{constructor(e,r,o,c,h,g,v,D){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=o,this.onConnectStatus_=c,this.onServerInfoUpdate_=h,this.authTokenProvider_=g,this.appCheckTokenProvider_=v,this.authOverride_=D,this.id=n.nextPersistentConnectionId_++,this.log_=Gu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ec,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,D&&!(0,F.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");zh.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Va.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,o){const c=++this.requestNumber_,h={r:c,a:e,b:r};this.log_((0,F.Pz)(h)),(0,F.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(h),o&&(this.requestCBHash_[c]=o)}get(e){this.initConnection_();const r=new F.BH,o={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:o,onComplete:g=>{const v=g.d;"ok"===g.s?r.resolve(v):r.reject(v)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(e,r,o,c){this.initConnection_();const h=e._queryIdentifier,g=e._path.toString();this.log_("Listen called for "+g+" "+h),this.listens.has(g)||this.listens.set(g,new Map),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,F.hu)(!this.listens.get(g).has(h),"listen() called twice for same path/queryId.");const v={onComplete:c,hashFn:r,query:e,tag:o};this.listens.get(g).set(h,v),this.connected_&&this.sendListen_(v)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,o=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(o)})}sendListen_(e){const r=e.query,o=r._path.toString(),c=r._queryIdentifier;this.log_("Listen on "+o+" for "+c);const h={p:o};e.tag&&(h.q=r._queryObject,h.t=e.tag),h.h=e.hashFn(),this.sendRequest("q",h,v=>{const D=v.d,M=v.s;n.warnOnListenWarnings_(D,r),(this.listens.get(o)&&this.listens.get(o).get(c))===e&&(this.log_("listen response",v),"ok"!==M&&this.removeListen_(o,c),e.onComplete&&e.onComplete(M,D))})}static warnOnListenWarnings_(e,r){if(e&&"object"==typeof e&&(0,F.r3)(e,"w")){const o=(0,F.DV)(e,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const c='".indexOn": "'+r._queryParams.getIndex().toString()+'"',h=r._path.toString();Hr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${h} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,F.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=(0,F.w9)(e)?"auth":"gauth",o={cred:e};null===this.authOverride_?o.noauth=!0:"object"==typeof this.authOverride_&&(o.authvar=this.authOverride_),this.sendRequest(r,o,c=>{const h=c.s,g=c.d||"error";this.authToken_===e&&("ok"===h?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(h,g))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,o=e.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,o)})}unlisten(e,r){const o=e._path.toString(),c=e._queryIdentifier;this.log_("Unlisten called for "+o+" "+c),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,c)&&this.connected_&&this.sendUnlisten_(o,c,e._queryObject,r)}sendUnlisten_(e,r,o,c){this.log_("Unlisten on "+e+" for "+r);const h={p:e};c&&(h.q=o,h.t=c),this.sendRequest("n",h)}onDisconnectPut(e,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:o})}onDisconnectMerge(e,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:o})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,o,c){const h={p:r,d:o};this.log_("onDisconnect "+e,h),this.sendRequest(e,h,g=>{c&&setTimeout(()=>{c(g.s,g.d)},Math.floor(0))})}put(e,r,o,c){this.putInternal("p",e,r,o,c)}merge(e,r,o,c){this.putInternal("m",e,r,o,c)}putInternal(e,r,o,c,h){this.initConnection_();const g={p:r,d:o};void 0!==h&&(g.h=h),this.outstandingPuts_.push({action:e,request:g,onComplete:c}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,o=this.outstandingPuts_[e].request,c=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,o,h=>{this.log_(r+" response",h),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),c&&c(h.s,h.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,o=>{"ok"!==o.s&&this.log_("reportStats","Error sending stats: "+o.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,F.Pz)(e));const r=e.r,o=this.requestCBHash_[r];o&&(delete this.requestCBHash_[r],o(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),"d"===e?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===e?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===e?this.onListenRevoked_(r.p,r.q):"ac"===e?this.onAuthRevoked_(r.s,r.d):"apc"===e?this.onAppCheckRevoked_(r.s,r.d):"sd"===e?this.onSecurityDebugPacket_(r):s_("Unrecognized action received from server: "+(0,F.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,F.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ec,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ec,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ec),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Mo.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const r=e.onDataMessage_.bind(e),o=e.onReady_.bind(e),c=e.onRealtimeDisconnect_.bind(e),h=e.id+":"+n.nextConnectionId_++,g=e.lastSessionId;let v=!1,D=null;const M=function(){D?D.close():(v=!0,c())};e.realtime_={close:M,sendRequest:function(Q){(0,F.hu)(D,"sendRequest call when we're not connected not allowed."),D.sendRequest(Q)}};const B=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[Q,re]=yield Promise.all([e.authTokenProvider_.getToken(B),e.appCheckTokenProvider_.getToken(B)]);v?Xt("getToken() completed but was canceled"):(Xt("getToken() completed. Creating connection."),e.authToken_=Q&&Q.accessToken,e.appCheckToken_=re&&re.token,D=new Ui(h,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,r,o,c,ye=>{Hr(ye+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},g))}catch(Q){e.log_("Failed to get token: "+Q),v||(e.repoInfo_.nodeAdmin&&Hr(Q),M())}}})()}interrupt(e){Xt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Xt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,F.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Ec,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let o;o=r?r.map(h=>a_(h)).join("$"):"default";const c=this.removeListen_(e,o);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(e,r){const o=new Bt(e).toString();let c;if(this.listens.has(o)){const h=this.listens.get(o);c=h.get(r),h.delete(r),0===h.size&&this.listens.delete(o)}else c=void 0;return c}onAuthRevoked_(e,r){Xt("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){Xt("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";(0,F.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+r+"."+Sp.replace(/\./g,"-")]=1,(0,F.uI)()?e["framework.cordova"]=1:(0,F.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Va.getInstance().currentlyOnline();return(0,F.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class xt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new xt(t,e)}}class qh{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const r=new xt(La,t),o=new xt(La,e);return 0!==this.compare(r,o)}minPost(){return xt.MIN}}class y_ extends qh{static get __EMPTY_NODE(){return Xu}static set __EMPTY_NODE(t){Xu=t}compare(t,e){return gl(t.name,e.name)}isDefinedOn(t){throw(0,F.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return xt.MIN}maxPost(){return new xt(zo,Xu)}makePost(t,e){return(0,F.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new xt(t,Xu)}toString(){return".key"}}const Js=new y_;class ed{constructor(t,e,r,o,c=null){this.isReverse_=o,this.resultGenerator_=c,this.nodeStack_=[];let h=1;for(;!t.isEmpty();)if(h=e?r(t.key,e):1,o&&(h*=-1),h<0)t=this.isReverse_?t.left:t.right;else{if(0===h){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let Up,ji=(()=>{class n{constructor(e,r,o,c,h){this.key=e,this.value=r,this.color=o??n.RED,this.left=c??ri.EMPTY_NODE,this.right=h??ri.EMPTY_NODE}copy(e,r,o,c,h){return new n(e??this.key,r??this.value,o??this.color,c??this.left,h??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let c=this;const h=o(e,c.key);return c=h<0?c.copy(null,null,null,c.left.insert(e,r,o),null):0===h?c.copy(null,r,null,null,null):c.copy(null,null,null,null,c.right.insert(e,r,o)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return ri.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let o,c;if(o=this,r(e,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(e,r),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),0===r(e,o.key)){if(o.right.isEmpty())return ri.EMPTY_NODE;c=o.right.min_(),o=o.copy(c.key,c.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(e,r))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class ri{constructor(t,e=ri.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new ri(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,ji.BLACK,null,null))}remove(t){return new ri(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ji.BLACK,null,null))}get(t){let e,r=this.root_;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e)return r.value;e<0?r=r.left:e>0&&(r=r.right)}return null}getPredecessorKey(t){let e,r=this.root_,o=null;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}e<0?r=r.left:e>0&&(o=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new ed(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new ed(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new ed(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new ed(this.root_,null,this.comparator_,!0,t)}}function Vb(n,t){return gl(n.name,t.name)}function Bp(n,t){return gl(n,t)}ri.EMPTY_NODE=new class sD{copy(t,e,r,o,c){return this}insert(t,e,r){return new ji(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const v_=function(n){return"number"==typeof n?"number:"+l_(n):"string:"+n},b_=function(n){if(n.isLeafNode()){const t=n.val();(0,F.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,F.r3)(t,".sv"),"Priority must be a string or number.")}else(0,F.hu)(n===Up||n.isEmpty(),"priority of unexpected type.");(0,F.hu)(n===Up||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let w_,C_,E_,bl=(()=>{class n{constructor(e,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,(0,F.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),b_(this.priorityNode_)}static set __childrenNodeConstructor(e){w_=e}static get __childrenNodeConstructor(){return w_}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return kt(e)?this:".priority"===Dt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return".priority"===e?this.updatePriority(r):r.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const o=Dt(e);return null===o?r:r.isEmpty()&&".priority"!==o?this:((0,F.hu)(".priority"!==o||1===Hi(e),".priority must be the last token in a path"),this.updateImmediateChild(o,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Gt(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+v_(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",e+="number"===r?l_(this.value_):this.value_,this.lazyHash_=r_(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,F.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,o=typeof this.value_,c=n.VALUE_TYPE_ORDER.indexOf(r),h=n.VALUE_TYPE_ORDER.indexOf(o);return(0,F.hu)(c>=0,"Unknown leaf type: "+r),(0,F.hu)(h>=0,"Unknown leaf type: "+o),c===h?"object"===o?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:h-c}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const r=e;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const dn=new class Hb extends qh{compare(t,e){const r=t.node.getPriority(),o=e.node.getPriority(),c=r.compareTo(o);return 0===c?gl(t.name,e.name):c}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return xt.MIN}maxPost(){return new xt(zo,new bl("[PRIORITY-POST]",E_))}makePost(t,e){const r=C_(t);return new xt(e,new bl("[PRIORITY-POST]",r))}toString(){return".priority"}},jb=Math.log(2);class $b{constructor(t){this.count=parseInt(Math.log(t+1)/jb,10),this.current_=this.count-1;const o=(c=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&o}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const D_=function(n,t,e,r){n.sort(t);const o=function(v,D){const M=D-v;let O,B;if(0===M)return null;if(1===M)return O=n[v],B=e?e(O):O,new ji(B,O.node,ji.BLACK,null,null);{const Q=parseInt(M/2,10)+v,re=o(v,Q),ye=o(Q+1,D);return O=n[Q],B=e?e(O):O,new ji(B,O.node,ji.BLACK,re,ye)}},g=function(v){let D=null,M=null,O=n.length;const B=function(re,ye){const Ne=O-re,qe=O;O-=re;const yt=o(Ne+1,qe),Yt=n[Ne],Mt=e?e(Yt):Yt;Q(new ji(Mt,Yt.node,ye,null,yt))},Q=function(re){D?(D.left=re,D=re):(M=re,D=re)};for(let re=0;re<v.count;++re){const ye=v.nextBitIsOne(),Ne=Math.pow(2,v.count-(re+1));ye?B(Ne,ji.BLACK):(B(Ne,ji.BLACK),B(Ne,ji.RED))}return M}(new $b(n.length));return new ri(r||t,g)};let I_;const td={};class qo{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,F.hu)(td&&dn,"ChildrenNode.ts has not been loaded"),I_=I_||new qo({".priority":td},{".priority":dn}),I_}get(t){const e=(0,F.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof ri?e:null}hasIndex(t){return(0,F.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,F.hu)(t!==Js,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const c=e.getIterator(xt.Wrap);let g,h=c.getNext();for(;h;)o=o||t.isDefinedOn(h.node),r.push(h),h=c.getNext();g=o?D_(r,t.getCompare()):td;const v=t.toString(),D=Object.assign({},this.indexSet_);D[v]=t;const M=Object.assign({},this.indexes_);return M[v]=g,new qo(M,D)}addToIndexes(t,e){const r=(0,F.UI)(this.indexes_,(o,c)=>{const h=(0,F.DV)(this.indexSet_,c);if((0,F.hu)(h,"Missing index implementation for "+c),o===td){if(h.isDefinedOn(t.node)){const g=[],v=e.getIterator(xt.Wrap);let D=v.getNext();for(;D;)D.name!==t.name&&g.push(D),D=v.getNext();return g.push(t),D_(g,h.getCompare())}return td}{const g=e.get(t.name);let v=o;return g&&(v=v.remove(new xt(t.name,g))),v.insert(t,t.node)}});return new qo(r,this.indexSet_)}removeFromIndexes(t,e){const r=(0,F.UI)(this.indexes_,o=>{if(o===td)return o;{const c=e.get(t.name);return c?o.remove(new xt(t.name,c)):o}});return new qo(r,this.indexSet_)}}let Zh,tt=(()=>{class n{constructor(e,r,o){this.children_=e,this.priorityNode_=r,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&b_(this.priorityNode_),this.children_.isEmpty()&&(0,F.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Zh||(Zh=new n(new ri(Bp),null,qo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Zh}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const r=this.children_.get(e);return null===r?Zh:r}}getChild(e){const r=Dt(e);return null===r?this:this.getImmediateChild(r).getChild(Gt(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,r){if((0,F.hu)(r,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(r);{const o=new xt(e,r);let c,h;r.isEmpty()?(c=this.children_.remove(e),h=this.indexMap_.removeFromIndexes(o,this.children_)):(c=this.children_.insert(e,r),h=this.indexMap_.addToIndexes(o,this.children_));const g=c.isEmpty()?Zh:this.priorityNode_;return new n(c,g,h)}}updateChild(e,r){const o=Dt(e);if(null===o)return r;{(0,F.hu)(".priority"!==Dt(e)||1===Hi(e),".priority must be the last token in a path");const c=this.getImmediateChild(o).updateChild(Gt(e),r);return this.updateImmediateChild(o,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let o=0,c=0,h=!0;if(this.forEachChild(dn,(g,v)=>{r[g]=v.val(e),o++,h&&n.INTEGER_REGEXP_.test(g)?c=Math.max(c,Number(g)):h=!1}),!e&&h&&c<2*o){const g=[];for(const v in r)g[v]=r[v];return g}return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+v_(this.getPriority().val())+":"),this.forEachChild(dn,(r,o)=>{const c=o.hash();""!==c&&(e+=":"+r+":"+c)}),this.lazyHash_=""===e?"":r_(e)}return this.lazyHash_}getPredecessorChildName(e,r,o){const c=this.resolveIndex_(o);if(c){const h=c.getPredecessorKey(new xt(e,r));return h?h.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const o=r.minKey();return o&&o.name}return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new xt(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const o=r.maxKey();return o&&o.name}return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new xt(r,this.children_.get(r)):null}forEachChild(e,r){const o=this.resolveIndex_(e);return o?o.inorderTraversal(c=>r(c.name,c.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const o=this.resolveIndex_(r);if(o)return o.getIteratorFrom(e,c=>c);{const c=this.children_.getIteratorFrom(e.name,xt.Wrap);let h=c.peek();for(;null!=h&&r.compare(h,e)<0;)c.getNext(),h=c.peek();return c}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const o=this.resolveIndex_(r);if(o)return o.getReverseIteratorFrom(e,c=>c);{const c=this.children_.getReverseIteratorFrom(e.name,xt.Wrap);let h=c.peek();for(;null!=h&&r.compare(h,e)>0;)c.getNext(),h=c.peek();return c}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Yh?-1:0}withIndex(e){if(e===Js||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===Js||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const o=this.getIterator(dn),c=r.getIterator(dn);let h=o.getNext(),g=c.getNext();for(;h&&g;){if(h.name!==g.name||!h.node.equals(g.node))return!1;h=o.getNext(),g=c.getNext()}return null===h&&null===g}return!1}return!1}}resolveIndex_(e){return e===Js?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Yh=new class zb extends tt{constructor(){super(new ri(Bp),tt.EMPTY_NODE,qo.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return tt.EMPTY_NODE}isEmpty(){return!1}};function Nn(n,t=null){if(null===n)return tt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,F.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new bl(n,Nn(t));if(n instanceof Array){let e=tt.EMPTY_NODE;return lr(n,(r,o)=>{if((0,F.r3)(n,r)&&"."!==r.substring(0,1)){const c=Nn(o);(c.isLeafNode()||!c.isEmpty())&&(e=e.updateImmediateChild(r,c))}}),e.updatePriority(Nn(t))}{const e=[];let r=!1;if(lr(n,(h,g)=>{if("."!==h.substring(0,1)){const v=Nn(g);v.isEmpty()||(r=r||!v.getPriority().isEmpty(),e.push(new xt(h,v)))}}),0===e.length)return tt.EMPTY_NODE;const c=D_(e,Vb,h=>h.name,Bp);if(r){const h=D_(e,dn.getCompare());return new tt(c,Nn(t),new qo({".priority":h},{".priority":dn}))}return new tt(c,Nn(t),qo.Default)}}Object.defineProperties(xt,{MIN:{value:new xt(La,tt.EMPTY_NODE)},MAX:{value:new xt(zo,Yh)}}),y_.__EMPTY_NODE=tt.EMPTY_NODE,bl.__childrenNodeConstructor=tt,function oD(n){Up=n}(Yh),function Ub(n){E_=n}(Yh),function Bb(n){C_=n}(Nn);class S_ extends qh{constructor(t){super(),this.indexPath_=t,(0,F.hu)(!kt(t)&&".priority"!==Dt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const r=this.extractChild(t.node),o=this.extractChild(e.node),c=r.compareTo(o);return 0===c?gl(t.name,e.name):c}makePost(t,e){const r=Nn(t),o=tt.EMPTY_NODE.updateChild(this.indexPath_,r);return new xt(e,o)}maxPost(){const t=tt.EMPTY_NODE.updateChild(this.indexPath_,Yh);return new xt(zo,t)}toString(){return Ju(this.indexPath_,0).join("/")}}const Hp=new class Gb extends qh{compare(t,e){const r=t.node.compareTo(e.node);return 0===r?gl(t.name,e.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return xt.MIN}maxPost(){return xt.MAX}makePost(t,e){const r=Nn(t);return new xt(e,r)}toString(){return".value"}},Xs="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",lD=function(){let n=0;const t=[];return function(e){const r=e===n;let o;n=e;const c=new Array(8);for(o=7;o>=0;o--)c[o]=Xs.charAt(e%64),e=Math.floor(e/64);(0,F.hu)(0===e,"Cannot push at time == 0");let h=c.join("");if(r){for(o=11;o>=0&&63===t[o];o--)t[o]=0;t[o]++}else for(o=0;o<12;o++)t[o]=Math.floor(64*Math.random());for(o=0;o<12;o++)h+=Xs.charAt(t[o]);return(0,F.hu)(20===h.length,"nextPushId: Length should be 20."),h}}(),M_=function(n){if(n===""+bb)return"-";const t=Lh(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let h=0;h<e.length;h++)e[h]=n.charAt(h);if(e.length<786)return e.push("-"),e.join("");let r=e.length-1;for(;r>=0&&"z"===e[r];)r--;if(-1===r)return zo;const c=Xs.charAt(Xs.indexOf(e[r])+1);return e[r]=c,e.slice(0,r+1).join("")},cD=function(n){if(n===""+vb)return La;const t=Lh(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let r=0;r<e.length;r++)e[r]=n.charAt(r);return"-"===e[e.length-1]?1===e.length?""+bb:(delete e[e.length-1],e.join("")):(e[e.length-1]=Xs.charAt(Xs.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function jp(n){return{type:"value",snapshotNode:n}}function wl(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function bi(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function Kh(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class ws{constructor(t){this.index_=t}updateChild(t,e,r,o,c,h){(0,F.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const g=t.getImmediateChild(e);return g.getChild(o).equals(r.getChild(o))&&g.isEmpty()===r.isEmpty()||(null!=h&&(r.isEmpty()?t.hasChild(e)?h.trackChildChange(bi(e,g)):(0,F.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):g.isEmpty()?h.trackChildChange(wl(e,r)):h.trackChildChange(Kh(e,r,g))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(e,r).withIndex(this.index_)}updateFullNode(t,e,r){return null!=r&&(t.isLeafNode()||t.forEachChild(dn,(o,c)=>{e.hasChild(o)||r.trackChildChange(bi(o,c))}),e.isLeafNode()||e.forEachChild(dn,(o,c)=>{if(t.hasChild(o)){const h=t.getImmediateChild(o);h.equals(c)||r.trackChildChange(Kh(o,c,h))}else r.trackChildChange(wl(o,c))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?tt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class ii{constructor(t){this.indexedFilter_=new ws(t.getIndex()),this.index_=t.getIndex(),this.startPost_=ii.getStartPost_(t),this.endPost_=ii.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,r,o,c,h){return this.matches(new xt(e,r))||(r=tt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,r,o,c,h)}updateFullNode(t,e,r){e.isLeafNode()&&(e=tt.EMPTY_NODE);let o=e.withIndex(this.index_);o=o.updatePriority(tt.EMPTY_NODE);const c=this;return e.forEachChild(dn,(h,g)=>{c.matches(new xt(h,g))||(o=o.updateImmediateChild(h,tt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,o,r)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class eo{constructor(t){this.rangedFilter_=new ii(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,r,o,c,h){return this.rangedFilter_.matches(new xt(e,r))||(r=tt.EMPTY_NODE),t.getImmediateChild(e).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,r,o,c,h):this.fullLimitUpdateChild_(t,e,r,c,h)}updateFullNode(t,e,r){let o;if(e.isLeafNode()||e.isEmpty())o=tt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let c;o=tt.EMPTY_NODE.withIndex(this.index_),c=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;c.hasNext()&&h<this.limit_;){const g=c.getNext();let v;if(v=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),g)<=0:this.index_.compare(g,this.rangedFilter_.getEndPost())<=0,!v)break;o=o.updateImmediateChild(g.name,g.node),h++}}else{let c,h,g,v;if(o=e.withIndex(this.index_),o=o.updatePriority(tt.EMPTY_NODE),this.reverse_){v=o.getReverseIterator(this.index_),c=this.rangedFilter_.getEndPost(),h=this.rangedFilter_.getStartPost();const O=this.index_.getCompare();g=(B,Q)=>O(Q,B)}else v=o.getIterator(this.index_),c=this.rangedFilter_.getStartPost(),h=this.rangedFilter_.getEndPost(),g=this.index_.getCompare();let D=0,M=!1;for(;v.hasNext();){const O=v.getNext();!M&&g(c,O)<=0&&(M=!0),M&&D<this.limit_&&g(O,h)<=0?D++:o=o.updateImmediateChild(O.name,tt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,o,r)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,r,o,c){let h;if(this.reverse_){const O=this.index_.getCompare();h=(B,Q)=>O(Q,B)}else h=this.index_.getCompare();const g=t;(0,F.hu)(g.numChildren()===this.limit_,"");const v=new xt(e,r),D=this.reverse_?g.getFirstChild(this.index_):g.getLastChild(this.index_),M=this.rangedFilter_.matches(v);if(g.hasChild(e)){const O=g.getImmediateChild(e);let B=o.getChildAfterChild(this.index_,D,this.reverse_);for(;null!=B&&(B.name===e||g.hasChild(B.name));)B=o.getChildAfterChild(this.index_,B,this.reverse_);const Q=null==B?1:h(B,v);if(M&&!r.isEmpty()&&Q>=0)return c?.trackChildChange(Kh(e,r,O)),g.updateImmediateChild(e,r);{c?.trackChildChange(bi(e,O));const ye=g.updateImmediateChild(e,tt.EMPTY_NODE);return null!=B&&this.rangedFilter_.matches(B)?(c?.trackChildChange(wl(B.name,B.node)),ye.updateImmediateChild(B.name,B.node)):ye}}return r.isEmpty()?t:M&&h(D,v)>=0?(null!=c&&(c.trackChildChange(bi(D.name,D.node)),c.trackChildChange(wl(e,r))),g.updateImmediateChild(e,r).updateImmediateChild(D.name,tt.EMPTY_NODE)):t}}class Qh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=dn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:La}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:zo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,F.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===dn}copy(){const t=new Qh;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function R_(n,t,e){const r=n.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=e?(r.startNameSet_=!0,r.indexStartName_=e):(r.startNameSet_=!1,r.indexStartName_=""),r}function Jh(n,t,e){const r=n.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==e?(r.endNameSet_=!0,r.indexEndName_=e):(r.endNameSet_=!1,r.indexEndName_=""),r}function $p(n,t){const e=n.copy();return e.index_=t,e}function k_(n){const t={};if(n.isDefault())return t;let e;return n.index_===dn?e="$priority":n.index_===Hp?e="$value":n.index_===Js?e="$key":((0,F.hu)(n.index_ instanceof S_,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,F.Pz)(e),n.startSet_&&(t.startAt=(0,F.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,F.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,F.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,F.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function Zb(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==dn&&(t.i=n.index_.toString()),t}class ef extends Pp{constructor(t,e,r,o){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=Gu("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,F.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,r,o){const c=t._path.toString();this.log_("Listen called for "+c+" "+t._queryIdentifier);const h=ef.getListenId_(t,r),g={};this.listens_[h]=g;const v=k_(t._queryParams);this.restRequest_(c+".json",v,(D,M)=>{let O=M;if(404===D&&(O=null,D=null),null===D&&this.onDataUpdate_(c,O,!1,r),(0,F.DV)(this.listens_,h)===g){let B;B=D?401===D?"permission_denied":"rest_error:"+D:"ok",o(B,null)}})}unlisten(t,e){const r=ef.getListenId_(t,e);delete this.listens_[r]}get(t){const e=k_(t._queryParams),r=t._path.toString(),o=new F.BH;return this.restRequest_(r+".json",e,(c,h)=>{let g=h;404===c&&(g=null,c=null),null===c?(this.onDataUpdate_(r,g,!1,null),o.resolve(g)):o.reject(new Error(g))}),o.promise}refreshAuthToken(t){}restRequest_(t,e={},r){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,c])=>{o&&o.accessToken&&(e.auth=o.accessToken),c&&c.token&&(e.ac=c.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,F.xO)(e);this.log_("Sending REST request for "+h);const g=new XMLHttpRequest;g.onreadystatechange=()=>{if(r&&4===g.readyState){this.log_("REST Response for "+h+" received. status:",g.status,"response:",g.responseText);let v=null;if(g.status>=200&&g.status<300){try{v=(0,F.cI)(g.responseText)}catch{Hr("Failed to parse JSON response for "+h+": "+g.responseText)}r(null,v)}else 401!==g.status&&404!==g.status&&Hr("Got unsuccessful REST response for "+h+" Status: "+g.status),r(g.status);r=null}},g.open("GET",h,!0),g.send()})}}class Yb{constructor(){this.rootNode_=tt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function Dc(){return{value:null,children:new Map}}function nd(n,t,e){if(kt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const r=Dt(t);n.children.has(r)||n.children.set(r,Dc()),nd(n.children.get(r),t=Gt(t),e)}}function zp(n,t){if(kt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(dn,(r,o)=>{nd(n,new Bt(r),o)}),zp(n,t)}}if(n.children.size>0){const e=Dt(t);return t=Gt(t),n.children.has(e)&&zp(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function Gp(n,t,e){null!==n.value?e(t,n.value):function x_(n,t){n.children.forEach((e,r)=>{t(r,e)})}(n,(r,o)=>{Gp(o,new Bt(t.toString()+"/"+r),e)})}class Wp{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&lr(this.last_,(r,o)=>{e[r]=e[r]-o}),this.last_=t,e}}class Jb{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Wp(t);const r=1e4+2e4*Math.random();Vh(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),e={};let r=!1;lr(t,(o,c)=>{c>0&&(0,F.r3)(this.statsToReport_,o)&&(e[o]=c,r=!0)}),r&&this.server_.reportStats(e),Vh(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var $i=(()=>{return(n=$i||($i={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",$i;var n})();function Yp(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Kp{constructor(t,e,r){this.path=t,this.affectedTree=e,this.revert=r,this.type=$i.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(kt(this.path)){if(null!=this.affectedTree.value)return(0,F.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Bt(t));return new Kp(Ft(),e,this.revert)}}return(0,F.hu)(Dt(this.path)===t,"operationForChild called for unrelated child."),new Kp(Gt(this.path),this.affectedTree,this.revert)}}class tf{constructor(t,e){this.source=t,this.path=e,this.type=$i.LISTEN_COMPLETE}operationForChild(t){return kt(this.path)?new tf(this.source,Ft()):new tf(this.source,Gt(this.path))}}class Ic{constructor(t,e,r){this.source=t,this.path=e,this.snap=r,this.type=$i.OVERWRITE}operationForChild(t){return kt(this.path)?new Ic(this.source,Ft(),this.snap.getImmediateChild(t)):new Ic(this.source,Gt(this.path),this.snap)}}class rd{constructor(t,e,r){this.source=t,this.path=e,this.children=r,this.type=$i.MERGE}operationForChild(t){if(kt(this.path)){const e=this.children.subtree(new Bt(t));return e.isEmpty()?null:e.value?new Ic(this.source,Ft(),e.value):new rd(this.source,Ft(),e)}return(0,F.hu)(Dt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new rd(this.source,Gt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Cl{constructor(t,e,r){this.node_=t,this.fullyInitialized_=e,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(kt(t))return this.isFullyInitialized()&&!this.filtered_;const e=Dt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class pD{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function nf(n,t,e,r,o,c){const h=r.filter(g=>g.type===e);h.sort((g,v)=>function _D(n,t,e){if(null==t.childName||null==e.childName)throw(0,F.g5)("Should only compare child_ events.");const r=new xt(t.childName,t.snapshotNode),o=new xt(e.childName,e.snapshotNode);return n.index_.compare(r,o)}(n,g,v)),h.forEach(g=>{const v=function gD(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,g,c);o.forEach(D=>{D.respondsTo(g.type)&&t.push(D.createEvent(v,n.query_))})})}function Qp(n,t){return{eventCache:n,serverCache:t}}function rf(n,t,e,r){return Qp(new Cl(t,e,r),n.serverCache)}function Xb(n,t,e,r){return Qp(n.eventCache,new Cl(t,e,r))}function Jp(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Sc(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let N_;class vn{constructor(t,e=(()=>(N_||(N_=new ri(V0)),N_))()){this.value=t,this.children=e}static fromObject(t){let e=new vn(null);return lr(t,(r,o)=>{e=e.set(new Bt(r),o)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Ft(),value:this.value};if(kt(t))return null;{const r=Dt(t),o=this.children.get(r);if(null!==o){const c=o.findRootMostMatchingPathAndValue(Gt(t),e);return null!=c?{path:Sn(new Bt(r),c.path),value:c.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(kt(t))return this;{const e=Dt(t),r=this.children.get(e);return null!==r?r.subtree(Gt(t)):new vn(null)}}set(t,e){if(kt(t))return new vn(e,this.children);{const r=Dt(t),c=(this.children.get(r)||new vn(null)).set(Gt(t),e),h=this.children.insert(r,c);return new vn(this.value,h)}}remove(t){if(kt(t))return this.children.isEmpty()?new vn(null):new vn(null,this.children);{const e=Dt(t),r=this.children.get(e);if(r){const o=r.remove(Gt(t));let c;return c=o.isEmpty()?this.children.remove(e):this.children.insert(e,o),null===this.value&&c.isEmpty()?new vn(null):new vn(this.value,c)}return this}}get(t){if(kt(t))return this.value;{const e=Dt(t),r=this.children.get(e);return r?r.get(Gt(t)):null}}setTree(t,e){if(kt(t))return e;{const r=Dt(t),c=(this.children.get(r)||new vn(null)).setTree(Gt(t),e);let h;return h=c.isEmpty()?this.children.remove(r):this.children.insert(r,c),new vn(this.value,h)}}fold(t){return this.fold_(Ft(),t)}fold_(t,e){const r={};return this.children.inorderTraversal((o,c)=>{r[o]=c.fold_(Sn(t,o),e)}),e(t,this.value,r)}findOnPath(t,e){return this.findOnPath_(t,Ft(),e)}findOnPath_(t,e,r){const o=!!this.value&&r(e,this.value);if(o)return o;if(kt(t))return null;{const c=Dt(t),h=this.children.get(c);return h?h.findOnPath_(Gt(t),Sn(e,c),r):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Ft(),e)}foreachOnPath_(t,e,r){if(kt(t))return this;{this.value&&r(e,this.value);const o=Dt(t),c=this.children.get(o);return c?c.foreachOnPath_(Gt(t),Sn(e,o),r):new vn(null)}}foreach(t){this.foreach_(Ft(),t)}foreach_(t,e){this.children.inorderTraversal((r,o)=>{o.foreach_(Sn(t,r),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,r)=>{r.value&&t(e,r.value)})}}class Cs{constructor(t){this.writeTree_=t}static empty(){return new Cs(new vn(null))}}function id(n,t,e){if(kt(t))return new Cs(new vn(e));{const r=n.writeTree_.findRootMostValueAndPath(t);if(null!=r){const o=r.path;let c=r.value;const h=jr(o,t);return c=c.updateChild(h,e),new Cs(n.writeTree_.set(o,c))}{const o=new vn(e),c=n.writeTree_.setTree(t,o);return new Cs(c)}}}function Xp(n,t,e){let r=n;return lr(e,(o,c)=>{r=id(r,Sn(t,o),c)}),r}function P_(n,t){if(kt(t))return Cs.empty();{const e=n.writeTree_.setTree(t,new vn(null));return new Cs(e)}}function em(n,t){return null!=El(n,t)}function El(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(jr(e.path,t)):null}function F_(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(dn,(r,o)=>{t.push(new xt(r,o))}):n.writeTree_.children.inorderTraversal((r,o)=>{null!=o.value&&t.push(new xt(r,o.value))}),t}function Ba(n,t){if(kt(t))return n;{const e=El(n,t);return new Cs(null!=e?new vn(e):n.writeTree_.subtree(t))}}function tm(n){return n.writeTree_.isEmpty()}function Dl(n,t){return nm(Ft(),n.writeTree_,t)}function nm(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let r=null;return t.children.inorderTraversal((o,c)=>{".priority"===o?((0,F.hu)(null!==c.value,"Priority writes must always be leaf nodes"),r=c.value):e=nm(Sn(n,o),c,e)}),!e.getChild(n).isEmpty()&&null!==r&&(e=e.updateChild(Sn(n,".priority"),r)),e}}function Zo(n,t){return U_(t,n)}function L_(n,t){if(n.snap)return bs(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&bs(Sn(n.path,e),t))return!0;return!1}function ew(n){return n.visible}function V_(n,t,e){let r=Cs.empty();for(let o=0;o<n.length;++o){const c=n[o];if(t(c)){const h=c.path;let g;if(c.snap)bs(e,h)?(g=jr(e,h),r=id(r,g,c.snap)):bs(h,e)&&(g=jr(h,e),r=id(r,Ft(),c.snap.getChild(g)));else{if(!c.children)throw(0,F.g5)("WriteRecord should have .snap or .children");if(bs(e,h))g=jr(e,h),r=Xp(r,g,c.children);else if(bs(h,e))if(g=jr(h,e),kt(g))r=Xp(r,Ft(),c.children);else{const v=(0,F.DV)(c.children,Dt(g));if(v){const D=v.getChild(Gt(g));r=id(r,Ft(),D)}}}}}return r}function wD(n,t,e,r,o){if(r||o){const c=Ba(n.visibleWrites,t);return!o&&tm(c)?e:o||null!=e||em(c,Ft())?Dl(V_(n.allWrites,function(D){return(D.visible||o)&&(!r||!~r.indexOf(D.writeId))&&(bs(D.path,t)||bs(t,D.path))},t),e||tt.EMPTY_NODE):null}{const c=El(n.visibleWrites,t);if(null!=c)return c;{const h=Ba(n.visibleWrites,t);return tm(h)?e:null!=e||em(h,Ft())?Dl(h,e||tt.EMPTY_NODE):null}}}function Tc(n,t,e,r){return wD(n.writeTree,n.treePath,t,e,r)}function ad(n,t){return function pt(n,t,e){let r=tt.EMPTY_NODE;const o=El(n.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(dn,(c,h)=>{r=r.updateImmediateChild(c,h)}),r;if(e){const c=Ba(n.visibleWrites,t);return e.forEachChild(dn,(h,g)=>{const v=Dl(Ba(c,new Bt(h)),g);r=r.updateImmediateChild(h,v)}),F_(c).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}return F_(Ba(n.visibleWrites,t)).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}(n.writeTree,n.treePath,t)}function jn(n,t,e,r){return function CD(n,t,e,r,o){(0,F.hu)(r||o,"Either existingEventSnap or existingServerSnap must exist");const c=Sn(t,e);if(em(n.visibleWrites,c))return null;{const h=Ba(n.visibleWrites,c);return tm(h)?o.getChild(e):Dl(h,o.getChild(e))}}(n.writeTree,n.treePath,t,e,r)}function B_(n,t){return function DD(n,t){return El(n.visibleWrites,t)}(n.writeTree,Sn(n.treePath,t))}function rm(n,t,e){return function ED(n,t,e,r){const o=Sn(t,e),c=El(n.visibleWrites,o);return null!=c?c:r.isCompleteForChild(e)?Dl(Ba(n.visibleWrites,o),r.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function nw(n,t){return U_(Sn(n.treePath,t),n.writeTree)}function U_(n,t){return{treePath:n,writeTree:t}}class rw{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,r=t.childName;(0,F.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,F.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const c=o.type;if("child_added"===e&&"child_removed"===c)this.changeMap.set(r,Kh(r,t.snapshotNode,o.snapshotNode));else if("child_removed"===e&&"child_added"===c)this.changeMap.delete(r);else if("child_removed"===e&&"child_changed"===c)this.changeMap.set(r,bi(r,o.oldSnap));else if("child_changed"===e&&"child_added"===c)this.changeMap.set(r,wl(r,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==c)throw(0,F.g5)("Illegal combination of changes: "+t+" occurred after "+o);this.changeMap.set(r,Kh(r,t.snapshotNode,o.oldSnap))}}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}const H_=new class iw{getCompleteChild(t){return null}getChildAfterChild(t,e,r){return null}};class j_{constructor(t,e,r=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=r}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const r=null!=this.optCompleteServerCache_?new Cl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return rm(this.writes_,t,r)}}getChildAfterChild(t,e,r){const o=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Sc(this.viewCache_),c=function tw(n,t,e,r,o,c){return function od(n,t,e,r,o,c,h){let g;const v=Ba(n.visibleWrites,t),D=El(v,Ft());if(null!=D)g=D;else{if(null==e)return[];g=Dl(v,e)}if(g=g.withIndex(h),g.isEmpty()||g.isLeafNode())return[];{const M=[],O=h.getCompare(),B=c?g.getReverseIteratorFrom(r,h):g.getIteratorFrom(r,h);let Q=B.getNext();for(;Q&&M.length<o;)0!==O(Q,r)&&M.push(Q),Q=B.getNext();return M}}(n.writeTree,n.treePath,t,e,r,o,c)}(this.writes_,o,e,1,r,t);return 0===c.length?null:c[0]}}function sw(n,t,e,r,o,c){const h=t.eventCache;if(null!=B_(r,e))return t;{let g,v;if(kt(e))if((0,F.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const D=Sc(t),O=ad(r,D instanceof tt?D:tt.EMPTY_NODE);g=n.filter.updateFullNode(t.eventCache.getNode(),O,c)}else{const D=Tc(r,Sc(t));g=n.filter.updateFullNode(t.eventCache.getNode(),D,c)}else{const D=Dt(e);if(".priority"===D){(0,F.hu)(1===Hi(e),"Can't have a priority with additional path components");const M=h.getNode();v=t.serverCache.getNode();const O=jn(r,e,M,v);g=null!=O?n.filter.updatePriority(M,O):h.getNode()}else{const M=Gt(e);let O;if(h.isCompleteForChild(D)){v=t.serverCache.getNode();const B=jn(r,e,h.getNode(),v);O=null!=B?h.getNode().getImmediateChild(D).updateChild(M,B):h.getNode().getImmediateChild(D)}else O=rm(r,D,t.serverCache);g=null!=O?n.filter.updateChild(h.getNode(),D,O,M,o,c):h.getNode()}}return rf(t,g,h.isFullyInitialized()||kt(e),n.filter.filtersNodes())}}function im(n,t,e,r,o,c,h,g){const v=t.serverCache;let D;const M=h?n.filter:n.filter.getIndexedFilter();if(kt(e))D=M.updateFullNode(v.getNode(),r,null);else if(M.filtersNodes()&&!v.isFiltered()){const Q=v.getNode().updateChild(e,r);D=M.updateFullNode(v.getNode(),Q,null)}else{const Q=Dt(e);if(!v.isCompleteForPath(e)&&Hi(e)>1)return t;const re=Gt(e),Ne=v.getNode().getImmediateChild(Q).updateChild(re,r);D=".priority"===Q?M.updatePriority(v.getNode(),Ne):M.updateChild(v.getNode(),Q,Ne,re,H_,null)}const O=Xb(t,D,v.isFullyInitialized()||kt(e),M.filtersNodes());return sw(n,O,e,o,new j_(o,O,c),g)}function ld(n,t,e,r,o,c,h){const g=t.eventCache;let v,D;const M=new j_(o,t,c);if(kt(e))D=n.filter.updateFullNode(t.eventCache.getNode(),r,h),v=rf(t,D,!0,n.filter.filtersNodes());else{const O=Dt(e);if(".priority"===O)D=n.filter.updatePriority(t.eventCache.getNode(),r),v=rf(t,D,g.isFullyInitialized(),g.isFiltered());else{const B=Gt(e),Q=g.getNode().getImmediateChild(O);let re;if(kt(B))re=r;else{const ye=M.getCompleteChild(O);re=null!=ye?".priority"===Fp(B)&&ye.getChild(g_(B)).isEmpty()?ye:ye.updateChild(B,r):tt.EMPTY_NODE}v=Q.equals(re)?t:rf(t,n.filter.updateChild(g.getNode(),O,re,B,M,h),g.isFullyInitialized(),n.filter.filtersNodes())}}return v}function $_(n,t){return n.eventCache.isCompleteForChild(t)}function z_(n,t,e){return e.foreach((r,o)=>{t=t.updateChild(r,o)}),t}function G_(n,t,e,r,o,c,h,g){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let D,v=t;D=kt(e)?r:new vn(null).setTree(e,r);const M=t.serverCache.getNode();return D.children.inorderTraversal((O,B)=>{if(M.hasChild(O)){const re=z_(0,t.serverCache.getNode().getImmediateChild(O),B);v=im(n,v,new Bt(O),re,o,c,h,g)}}),D.children.inorderTraversal((O,B)=>{const Q=!t.serverCache.isCompleteForChild(O)&&null===B.value;if(!M.hasChild(O)&&!Q){const ye=z_(0,t.serverCache.getNode().getImmediateChild(O),B);v=im(n,v,new Bt(O),ye,o,c,h,g)}}),v}class RD{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new ws(r.getIndex()),c=function qb(n){return n.loadsAllData()?new ws(n.getIndex()):n.hasLimit()?new eo(n):new ii(n)}(r);this.processor_=function SD(n){return{filter:n}}(c);const h=e.serverCache,g=e.eventCache,v=o.updateFullNode(tt.EMPTY_NODE,h.getNode(),null),D=c.updateFullNode(tt.EMPTY_NODE,g.getNode(),null),M=new Cl(v,h.isFullyInitialized(),o.filtersNodes()),O=new Cl(D,g.isFullyInitialized(),c.filtersNodes());this.viewCache_=Qp(O,M),this.eventGenerator_=new pD(this.query_)}get query(){return this.query_}}function lw(n,t){const e=Sc(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!kt(t)&&!e.getImmediateChild(Dt(t)).isEmpty())?e.getChild(t):null}function W_(n){return 0===n.eventRegistrations_.length}function q_(n,t,e){const r=[];if(e){(0,F.hu)(null==t,"A cancel should cancel all event registrations.");const o=n.query._path;n.eventRegistrations_.forEach(c=>{const h=c.createCancelEvent(e,o);h&&r.push(h)})}if(t){let o=[];for(let c=0;c<n.eventRegistrations_.length;++c){const h=n.eventRegistrations_[c];if(h.matches(t)){if(t.hasAnyCallback()){o=o.concat(n.eventRegistrations_.slice(c+1));break}}else o.push(h)}n.eventRegistrations_=o}else n.eventRegistrations_=[];return r}function cw(n,t,e,r){t.type===$i.MERGE&&null!==t.source.queryId&&((0,F.hu)(Sc(n.viewCache_),"We should always have a full cache before handling merges"),(0,F.hu)(Jp(n.viewCache_),"Missing event cache, even though we have a server cache"));const o=n.viewCache_,c=function sf(n,t,e,r,o){const c=new rw;let h,g;if(e.type===$i.OVERWRITE){const D=e;D.source.fromUser?h=ld(n,t,D.path,D.snap,r,o,c):((0,F.hu)(D.source.fromServer,"Unknown source."),g=D.source.tagged||t.serverCache.isFiltered()&&!kt(D.path),h=im(n,t,D.path,D.snap,r,o,g,c))}else if(e.type===$i.MERGE){const D=e;D.source.fromUser?h=function ow(n,t,e,r,o,c,h){let g=t;return r.foreach((v,D)=>{const M=Sn(e,v);$_(t,Dt(M))&&(g=ld(n,g,M,D,o,c,h))}),r.foreach((v,D)=>{const M=Sn(e,v);$_(t,Dt(M))||(g=ld(n,g,M,D,o,c,h))}),g}(n,t,D.path,D.children,r,o,c):((0,F.hu)(D.source.fromServer,"Unknown source."),g=D.source.tagged||t.serverCache.isFiltered(),h=G_(n,t,D.path,D.children,r,o,g,c))}else if(e.type===$i.ACK_USER_WRITE){const D=e;h=D.revert?function MD(n,t,e,r,o,c){let h;if(null!=B_(r,e))return t;{const g=new j_(r,t,o),v=t.eventCache.getNode();let D;if(kt(e)||".priority"===Dt(e)){let M;if(t.serverCache.isFullyInitialized())M=Tc(r,Sc(t));else{const O=t.serverCache.getNode();(0,F.hu)(O instanceof tt,"serverChildren would be complete if leaf node"),M=ad(r,O)}D=n.filter.updateFullNode(v,M,c)}else{const M=Dt(e);let O=rm(r,M,t.serverCache);null==O&&t.serverCache.isCompleteForChild(M)&&(O=v.getImmediateChild(M)),D=null!=O?n.filter.updateChild(v,M,O,Gt(e),g,c):t.eventCache.getNode().hasChild(M)?n.filter.updateChild(v,M,tt.EMPTY_NODE,Gt(e),g,c):v,D.isEmpty()&&t.serverCache.isFullyInitialized()&&(h=Tc(r,Sc(t)),h.isLeafNode()&&(D=n.filter.updateFullNode(D,h,c)))}return h=t.serverCache.isFullyInitialized()||null!=B_(r,Ft()),rf(t,D,h,n.filter.filtersNodes())}}(n,t,D.path,r,o,c):function af(n,t,e,r,o,c,h){if(null!=B_(o,e))return t;const g=t.serverCache.isFiltered(),v=t.serverCache;if(null!=r.value){if(kt(e)&&v.isFullyInitialized()||v.isCompleteForPath(e))return im(n,t,e,v.getNode().getChild(e),o,c,g,h);if(kt(e)){let D=new vn(null);return v.getNode().forEachChild(Js,(M,O)=>{D=D.set(new Bt(M),O)}),G_(n,t,e,D,o,c,g,h)}return t}{let D=new vn(null);return r.foreach((M,O)=>{const B=Sn(e,M);v.isCompleteForPath(B)&&(D=D.set(M,v.getNode().getChild(B)))}),G_(n,t,e,D,o,c,g,h)}}(n,t,D.path,D.affectedTree,r,o,c)}else{if(e.type!==$i.LISTEN_COMPLETE)throw(0,F.g5)("Unknown operation type: "+e.type);h=function lf(n,t,e,r,o){const c=t.serverCache;return sw(n,Xb(t,c.getNode(),c.isFullyInitialized()||kt(e),c.isFiltered()),e,r,H_,o)}(n,t,e.path,r,c)}const v=c.getChanges();return function AD(n,t,e){const r=t.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),c=Jp(n);(e.length>0||!n.eventCache.isFullyInitialized()||o&&!r.getNode().equals(c)||!r.getNode().getPriority().equals(c.getPriority()))&&e.push(jp(Jp(t)))}}(t,h,v),{viewCache:h,changes:v}}(n.processor_,o,t,e,r);return function TD(n,t){(0,F.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,F.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,c.viewCache),(0,F.hu)(c.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=c.viewCache,ND(n,c.changes,c.viewCache.eventCache.getNode(),null)}function ND(n,t,e,r){return function mD(n,t,e,r){const o=[],c=[];return t.forEach(h=>{"child_changed"===h.type&&n.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&c.push(function uD(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(h.childName,h.snapshotNode))}),nf(n,o,"child_removed",t,r,e),nf(n,o,"child_added",t,r,e),nf(n,o,"child_moved",c,r,e),nf(n,o,"child_changed",t,r,e),nf(n,o,"value",t,r,e),o}(n.eventGenerator_,t,e,r?[r]:n.eventRegistrations_)}let Z_,om;class PD{constructor(){this.views=new Map}}function Y_(n,t,e,r){const o=t.source.queryId;if(null!==o){const c=n.views.get(o);return(0,F.hu)(null!=c,"SyncTree gave us an op for an invalid query."),cw(c,t,e,r)}{let c=[];for(const h of n.views.values())c=c.concat(cw(h,t,e,r));return c}}function dw(n,t,e,r,o){const h=n.views.get(t._queryIdentifier);if(!h){let g=Tc(e,o?r:null),v=!1;g?v=!0:r instanceof tt?(g=ad(e,r),v=!1):(g=tt.EMPTY_NODE,v=!1);const D=Qp(new Cl(g,v,!1),new Cl(r,o,!1));return new RD(t,D)}return h}function fw(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Il(n,t){let e=null;for(const r of n.views.values())e=e||lw(r,t);return e}function pw(n,t){return t._queryParams.loadsAllData()?uf(n):n.views.get(t._queryIdentifier)}function mw(n,t){return null!=pw(n,t)}function Sl(n){return null!=uf(n)}function uf(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let LD=1;class K_{constructor(t){this.listenProvider_=t,this.syncPointTree_=new vn(null),this.pendingWriteTree_=function ID(){return{visibleWrites:Cs.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Q_(n,t,e,r,o){return function vD(n,t,e,r,o){(0,F.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),n.allWrites.push({path:t,snap:e,writeId:r,visible:o}),o&&(n.visibleWrites=id(n.visibleWrites,t,e)),n.lastWriteId=r}(n.pendingWriteTree_,t,e,r,o),o?dd(n,new Ic({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Tl(n,t,e=!1){const r=function sd(n,t){for(let e=0;e<n.allWrites.length;e++){const r=n.allWrites[e];if(r.writeId===t)return r}return null}(n.pendingWriteTree_,t);if(function sA(n,t){const e=n.allWrites.findIndex(g=>g.writeId===t);(0,F.hu)(e>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[e];n.allWrites.splice(e,1);let o=r.visible,c=!1,h=n.allWrites.length-1;for(;o&&h>=0;){const g=n.allWrites[h];g.visible&&(h>=e&&L_(g,r.path)?o=!1:bs(r.path,g.path)&&(c=!0)),h--}return!!o&&(c?(function oA(n){n.visibleWrites=V_(n.allWrites,ew,Ft()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=P_(n.visibleWrites,r.path):lr(r.children,v=>{n.visibleWrites=P_(n.visibleWrites,Sn(r.path,v))}),!0))}(n.pendingWriteTree_,t)){let c=new vn(null);return null!=r.snap?c=c.set(Ft(),!0):lr(r.children,h=>{c=c.set(new Bt(h),!0)}),dd(n,new Kp(r.path,c,e))}return[]}function ud(n,t,e){return dd(n,new Ic({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function df(n,t,e,r,o=!1){const c=t._path,h=n.syncPointTree_.get(c);let g=[];if(h&&("default"===t._queryIdentifier||mw(h,t))){const v=function cf(n,t,e,r){const o=t._queryIdentifier,c=[];let h=[];const g=Sl(n);if("default"===o)for(const[v,D]of n.views.entries())h=h.concat(q_(D,e,r)),W_(D)&&(n.views.delete(v),D.query._queryParams.loadsAllData()||c.push(D.query));else{const v=n.views.get(o);v&&(h=h.concat(q_(v,e,r)),W_(v)&&(n.views.delete(o),v.query._queryParams.loadsAllData()||c.push(v.query)))}return g&&!Sl(n)&&c.push(new(function uw(){return(0,F.hu)(Z_,"Reference.ts has not been loaded"),Z_}())(t._repo,t._path)),{removed:c,events:h}}(h,t,e,r);(function sm(n){return 0===n.views.size})(h)&&(n.syncPointTree_=n.syncPointTree_.remove(c));const D=v.removed;if(g=v.events,!o){const M=-1!==D.findIndex(B=>B._queryParams.loadsAllData()),O=n.syncPointTree_.findOnPath(c,(B,Q)=>Sl(Q));if(M&&!O){const B=n.syncPointTree_.subtree(c);if(!B.isEmpty()){const Q=function HD(n){return n.fold((t,e,r)=>{if(e&&Sl(e))return[uf(e)];{let o=[];return e&&(o=fw(e)),lr(r,(c,h)=>{o=o.concat(h)}),o}})}(B);for(let re=0;re<Q.length;++re){const ye=Q[re],Ne=ye.query,qe=yw(n,ye);n.listenProvider_.startListening(hd(Ne),hf(n,Ne),qe.hashFn,qe.onComplete)}}}!O&&D.length>0&&!r&&(M?n.listenProvider_.stopListening(hd(t),null):D.forEach(B=>{const Q=n.queryToTagMap.get(lm(B));n.listenProvider_.stopListening(hd(B),Q)}))}!function vw(n,t){for(let e=0;e<t.length;++e){const r=t[e];if(!r._queryParams.loadsAllData()){const o=lm(r),c=n.queryToTagMap.get(o);n.queryToTagMap.delete(o),n.tagToQueryMap.delete(c)}}}(n,D)}return g}function X_(n,t,e,r){const o=ry(n,r);if(null!=o){const c=iy(o),h=c.path,g=c.queryId,v=jr(h,t);return sy(n,h,new Ic(Yp(g),v,e))}return[]}function ey(n,t,e,r=!1){const o=t._path;let c=null,h=!1;n.syncPointTree_.foreachOnPath(o,(B,Q)=>{const re=jr(B,o);c=c||Il(Q,re),h=h||Sl(Q)});let v,g=n.syncPointTree_.get(o);g?(h=h||Sl(g),c=c||Il(g,Ft())):(g=new PD,n.syncPointTree_=n.syncPointTree_.set(o,g)),null!=c?v=!0:(v=!1,c=tt.EMPTY_NODE,n.syncPointTree_.subtree(o).foreachChild((Q,re)=>{const ye=Il(re,Ft());ye&&(c=c.updateImmediateChild(Q,ye))}));const D=mw(g,t);if(!D&&!t._queryParams.loadsAllData()){const B=lm(t);(0,F.hu)(!n.queryToTagMap.has(B),"View does not exist, but we have a tag");const Q=function jD(){return LD++}();n.queryToTagMap.set(B,Q),n.tagToQueryMap.set(Q,B)}let O=function hw(n,t,e,r,o,c){const h=dw(n,t,r,o,c);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,h),function xD(n,t){n.eventRegistrations_.push(t)}(h,e),function OD(n,t){const e=n.viewCache_.eventCache,r=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(dn,(c,h)=>{r.push(wl(c,h))}),e.isFullyInitialized()&&r.push(jp(e.getNode())),ND(n,r,e.getNode(),t)}(h,e)}(g,t,e,Zo(n.pendingWriteTree_,o),c,v);if(!D&&!h&&!r){const B=pw(g,t);O=O.concat(function $D(n,t,e){const r=t._path,o=hf(n,t),c=yw(n,e),h=n.listenProvider_.startListening(hd(t),o,c.hashFn,c.onComplete),g=n.syncPointTree_.subtree(r);if(o)(0,F.hu)(!Sl(g.value),"If we're adding a query, it shouldn't be shadowed");else{const v=g.fold((D,M,O)=>{if(!kt(D)&&M&&Sl(M))return[uf(M).query];{let B=[];return M&&(B=B.concat(fw(M).map(Q=>Q.query))),lr(O,(Q,re)=>{B=B.concat(re)}),B}});for(let D=0;D<v.length;++D){const M=v[D];n.listenProvider_.stopListening(hd(M),hf(n,M))}}return h}(n,t,B))}return O}function am(n,t,e){const o=n.pendingWriteTree_,c=n.syncPointTree_.findOnPath(t,(h,g)=>{const D=Il(g,jr(h,t));if(D)return D});return wD(o,t,c,e,!0)}function dd(n,t){return ny(t,n.syncPointTree_,null,Zo(n.pendingWriteTree_,Ft()))}function ny(n,t,e,r){if(kt(n.path))return _w(n,t,e,r);{const o=t.get(Ft());null==e&&null!=o&&(e=Il(o,Ft()));let c=[];const h=Dt(n.path),g=n.operationForChild(h),v=t.children.get(h);if(v&&g){const D=e?e.getImmediateChild(h):null,M=nw(r,h);c=c.concat(ny(g,v,D,M))}return o&&(c=c.concat(Y_(o,n,r,e))),c}}function _w(n,t,e,r){const o=t.get(Ft());null==e&&null!=o&&(e=Il(o,Ft()));let c=[];return t.children.inorderTraversal((h,g)=>{const v=e?e.getImmediateChild(h):null,D=nw(r,h),M=n.operationForChild(h);M&&(c=c.concat(_w(M,g,v,D)))}),o&&(c=c.concat(Y_(o,n,r,e))),c}function yw(n,t){const e=t.query,r=hf(n,e);return{hashFn:()=>(function kD(n){return n.viewCache_.serverCache.getNode()}(t)||tt.EMPTY_NODE).hash(),onComplete:o=>{if("ok"===o)return r?function BD(n,t,e){const r=ry(n,e);if(r){const o=iy(r),c=o.path,h=o.queryId,g=jr(c,t);return sy(n,c,new tf(Yp(h),g))}return[]}(n,e._path,r):function J_(n,t){return dd(n,new tf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const c=function c_(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const r=new Error(n+" at "+t._path.toString()+": "+e);return r.code=n.toUpperCase(),r}(o,e);return df(n,e,null,c)}}}}function hf(n,t){const e=lm(t);return n.queryToTagMap.get(e)}function lm(n){return n._path.toString()+"$"+n._queryIdentifier}function ry(n,t){return n.tagToQueryMap.get(t)}function iy(n){const t=n.indexOf("$");return(0,F.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Bt(n.substr(0,t))}}function sy(n,t,e){const r=n.syncPointTree_.get(t);return(0,F.hu)(r,"Missing sync point for query tag that we're tracking"),Y_(r,e,Zo(n.pendingWriteTree_,t),null)}function hd(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function cd(){return(0,F.hu)(om,"Reference.ts has not been loaded"),om}())(n._repo,n._path):n}class cm{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new cm(e)}node(){return this.node_}}class oy{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Sn(this.path_,t);return new oy(this.syncTree_,e)}node(){return am(this.syncTree_,this.path_)}}const bw=function(n,t,e){return n&&"object"==typeof n?((0,F.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?ay(n[".sv"],t,e):"object"==typeof n[".sv"]?ly(n[".sv"],t):void(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},ay=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,F.hu)(!1,"Unexpected server value: "+n)},ly=function(n,t,e){n.hasOwnProperty("increment")||(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,F.hu)(!1,"Unexpected increment value: "+r);const o=t.node();if((0,F.hu)(null!==o&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const h=o.getValue();return"number"!=typeof h?r:h+r},cy=function(n,t,e,r){return uy(t,new oy(e,n),r)},ff=function(n,t,e){return uy(n,new cm(t),e)};function uy(n,t,e){const r=n.getPriority().val(),o=bw(r,t.getImmediateChild(".priority"),e);let c;if(n.isLeafNode()){const h=n,g=bw(h.getValue(),t,e);return g!==h.getValue()||o!==h.getPriority().val()?new bl(g,Nn(o)):n}{const h=n;return c=h,o!==h.getPriority().val()&&(c=c.updatePriority(new bl(o))),h.forEachChild(dn,(g,v)=>{const D=uy(v,t.getImmediateChild(g),e);D!==v&&(c=c.updateImmediateChild(g,D))}),c}}class dy{constructor(t="",e=null,r={children:{},childCount:0}){this.name=t,this.parent=e,this.node=r}}function fd(n,t){let e=t instanceof Bt?t:new Bt(t),r=n,o=Dt(e);for(;null!==o;){const c=(0,F.DV)(r.node.children,o)||{children:{},childCount:0};r=new dy(o,r,c),e=Gt(e),o=Dt(e)}return r}function Ac(n){return n.node.value}function um(n,t){n.node.value=t,hy(n)}function Mc(n){return n.node.childCount>0}function dm(n,t){lr(n.node.children,(e,r)=>{t(new dy(e,n,r))})}function GD(n,t,e,r){e&&!r&&t(n),dm(n,o=>{GD(o,t,!0,r)}),e&&r&&t(n)}function Rc(n){return new Bt(null===n.parent?n.name:Rc(n.parent)+"/"+n.name)}function hy(n){null!==n.parent&&function fy(n,t,e){const r=function ww(n){return void 0===Ac(n)&&!Mc(n)}(e),o=(0,F.r3)(n.node.children,t);r&&o?(delete n.node.children[t],n.node.childCount--,hy(n)):!r&&!o&&(n.node.children[t]=e.node,n.node.childCount++,hy(n))}(n.parent,n.name,n)}const WD=/[\[\].#$\/\u0000-\u001F\u007F]/,qD=/[\[\].#$\u0000-\u001F\u007F]/,pf=10485760,mf=function(n){return"string"==typeof n&&0!==n.length&&!WD.test(n)},py=function(n){return"string"==typeof n&&0!==n.length&&!qD.test(n)},pd=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Fh(n)||n&&"object"==typeof n&&(0,F.r3)(n,".sv")},Yo=function(n,t,e,r){r&&void 0===t||gf((0,F.gK)(n,"value"),t,e)},gf=function(n,t,e){const r=e instanceof Bt?new tD(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+vl(r));if("function"==typeof t)throw new Error(n+"contains a function "+vl(r)+" with contents = "+t.toString());if(Fh(t))throw new Error(n+"contains "+t.toString()+" "+vl(r));if("string"==typeof t&&t.length>pf/3&&(0,F.ug)(t)>pf)throw new Error(n+"contains a string greater than "+pf+" utf8 bytes "+vl(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let o=!1,c=!1;if(lr(t,(h,g)=>{if(".value"===h)o=!0;else if(".priority"!==h&&".sv"!==h&&(c=!0,!mf(h)))throw new Error(n+" contains an invalid key ("+h+") "+vl(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function nD(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,F.ug)(t),Lb(n)})(r,h),gf(n,g,r),function Fb(n){const t=n.parts_.pop();n.byteLength_-=(0,F.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),o&&c)throw new Error(n+' contains ".value" child '+vl(r)+" in addition to actual children.")}},Dw=function(n,t,e,r){if(r&&void 0===t)return;const o=(0,F.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(o+" must be an object containing the children to replace.");const c=[];lr(t,(h,g)=>{const v=new Bt(h);if(gf(o,g,Sn(e,v)),".priority"===Fp(v)&&!pd(g))throw new Error(o+"contains an invalid value for '"+v.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(v)}),function(n,t){let e,r;for(e=0;e<t.length;e++){r=t[e];const c=Ju(r);for(let h=0;h<c.length;h++)if((".priority"!==c[h]||h!==c.length-1)&&!mf(c[h]))throw new Error(n+"contains an invalid key ("+c[h]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Pb);let o=null;for(e=0;e<t.length;e++){if(r=t[e],null!==o&&bs(o,r))throw new Error(n+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(o,c)},hm=function(n,t,e){if(!e||void 0!==t){if(Fh(t))throw new Error((0,F.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!pd(t))throw new Error((0,F.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},fm=function(n,t,e,r){if(!(r&&void 0===e||mf(e)))throw new Error((0,F.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},md=function(n,t,e,r){if(!(r&&void 0===e||py(e)))throw new Error((0,F.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Es=function(n,t){if(".info"===Dt(t))throw new Error(n+" failed = Can't modify data under /.info/")},KD=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!mf(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),py(n)}(e))throw new Error((0,F.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class lA{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function pm(n,t){let e=null;for(let r=0;r<t.length;r++){const o=t[r],c=o.getPath();null!==e&&!Lp(c,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:c}),e.events.push(o)}e&&n.eventLists_.push(e)}function Iw(n,t,e){pm(n,e),Sw(n,r=>Lp(r,t))}function zi(n,t,e){pm(n,e),Sw(n,r=>bs(r,t)||bs(t,r))}function Sw(n,t){n.recursionDepth_++;let e=!0;for(let r=0;r<n.eventLists_.length;r++){const o=n.eventLists_[r];o&&(t(o.path)?(QD(n.eventLists_[r]),n.eventLists_[r]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function QD(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const r=e.getEventRunner();ml&&Xt("event: "+e.toString()),qu(r)}}}const Tw="repo_interrupt";class XD{constructor(t,e,r,o){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new lA,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Dc(),this.transactionQueueTree_=new dy,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Aw(n){const e=n.infoData_.getNode(new Bt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function _f(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:Aw(n)})}function Mw(n,t,e,r,o){n.dataUpdateCount++;const c=new Bt(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let h=[];if(o)if(r){const v=(0,F.UI)(e,D=>Nn(D));h=function UD(n,t,e,r){const o=ry(n,r);if(o){const c=iy(o),h=c.path,g=c.queryId,v=jr(h,t),D=vn.fromObject(e);return sy(n,h,new rd(Yp(g),v,D))}return[]}(n.serverSyncTree_,c,v,o)}else{const v=Nn(e);h=X_(n.serverSyncTree_,c,v,o)}else if(r){const v=(0,F.UI)(e,D=>Nn(D));h=function VD(n,t,e){const r=vn.fromObject(e);return dd(n,new rd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,c,v)}else{const v=Nn(e);h=ud(n.serverSyncTree_,c,v)}let g=c;h.length>0&&(g=vd(n,c)),zi(n.eventQueue_,g,h)}function gd(n,t){mm(n,"connected",t),!1===t&&function nI(n){Al(n,"onDisconnectEvents");const t=_f(n),e=Dc();Gp(n.onDisconnect_,Ft(),(o,c)=>{const h=cy(o,c,n.serverSyncTree_,t);nd(e,o,h)});let r=[];Gp(e,Ft(),(o,c)=>{r=r.concat(ud(n.serverSyncTree_,o,c));const h=ym(n,o);vd(n,h)}),n.onDisconnect_=Dc(),zi(n.eventQueue_,Ft(),r)}(n)}function mm(n,t,e){const r=new Bt("/.info/"+t),o=Nn(e);n.infoData_.updateSnapshot(r,o);const c=ud(n.infoSyncTree_,r,o);zi(n.eventQueue_,r,c)}function yf(n){return n.nextWriteId_++}function gm(n,t,e,r,o){Al(n,"set",{path:t.toString(),value:e,priority:r});const c=_f(n),h=Nn(e,r),g=am(n.serverSyncTree_,t),v=ff(h,g,c),D=yf(n),M=Q_(n.serverSyncTree_,t,v,D,!0);pm(n.eventQueue_,M),n.server_.put(t.toString(),h.val(!0),(B,Q)=>{const re="ok"===B;re||Hr("set at "+t+" failed: "+B);const ye=Tl(n.serverSyncTree_,D,!re);zi(n.eventQueue_,t,ye),xr(0,o,B,Q)});const O=ym(n,t);vd(n,O),zi(n.eventQueue_,O,[])}function cA(n,t,e){n.server_.onDisconnectCancel(t.toString(),(r,o)=>{"ok"===r&&zp(n.onDisconnect_,t),xr(0,e,r,o)})}function xw(n,t,e,r){const o=Nn(e);n.server_.onDisconnectPut(t.toString(),o.val(!0),(c,h)=>{"ok"===c&&nd(n.onDisconnect_,t,o),xr(0,r,c,h)})}function my(n,t,e){let r;r=".info"===Dt(t._path)?df(n.infoSyncTree_,t,e):df(n.serverSyncTree_,t,e),Iw(n.eventQueue_,t._path,r)}function _d(n){n.persistentConnection_&&n.persistentConnection_.interrupt(Tw)}function Al(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Xt(e,...t)}function xr(n,t,e,r){t&&qu(()=>{if("ok"===e)t(null);else{const o=(e||"error").toUpperCase();let c=o;r&&(c+=": "+r);const h=new Error(c);h.code=o,t(h)}})}function yd(n,t,e){return am(n.serverSyncTree_,t,e)||tt.EMPTY_NODE}function Ml(n,t=n.transactionQueueTree_){if(t||_m(n,t),Ac(t)){const e=bf(n,t);(0,F.hu)(e.length>0,"Sending zero length transaction queue"),e.every(o=>0===o.status)&&function lI(n,t,e){const r=e.map(D=>D.currentWriteId),o=yd(n,t,r);let c=o;const h=o.hash();for(let D=0;D<e.length;D++){const M=e[D];(0,F.hu)(0===M.status,"tryToSendTransactionQueue_: items in queue should all be run."),M.status=1,M.retryCount++;const O=jr(t,M.path);c=c.updateChild(O,M.currentOutputSnapshotRaw)}const g=c.val(!0),v=t;n.server_.put(v.toString(),g,D=>{Al(n,"transaction put response",{path:v.toString(),status:D});let M=[];if("ok"===D){const O=[];for(let B=0;B<e.length;B++)e[B].status=2,M=M.concat(Tl(n.serverSyncTree_,e[B].currentWriteId)),e[B].onComplete&&O.push(()=>e[B].onComplete(null,!0,e[B].currentOutputSnapshotResolved)),e[B].unwatcher();_m(n,fd(n.transactionQueueTree_,t)),Ml(n,n.transactionQueueTree_),zi(n.eventQueue_,t,M);for(let B=0;B<O.length;B++)qu(O[B])}else{if("datastale"===D)for(let O=0;O<e.length;O++)e[O].status=3===e[O].status?4:0;else{Hr("transaction at "+v.toString()+" failed: "+D);for(let O=0;O<e.length;O++)e[O].status=4,e[O].abortReason=D}vd(n,t)}},h)}(n,Rc(t),e)}else Mc(t)&&dm(t,e=>{Ml(n,e)})}function vd(n,t){const e=vf(n,t),r=Rc(e);return function cI(n,t,e){if(0===t.length)return;const r=[];let o=[];const h=t.filter(g=>0===g.status).map(g=>g.currentWriteId);for(let g=0;g<t.length;g++){const v=t[g],D=jr(e,v.path);let O,M=!1;if((0,F.hu)(null!==D,"rerunTransactionsUnderNode_: relativePath should not be null."),4===v.status)M=!0,O=v.abortReason,o=o.concat(Tl(n.serverSyncTree_,v.currentWriteId,!0));else if(0===v.status)if(v.retryCount>=25)M=!0,O="maxretry",o=o.concat(Tl(n.serverSyncTree_,v.currentWriteId,!0));else{const B=yd(n,v.path,h);v.currentInputSnapshot=B;const Q=t[g].update(B.val());if(void 0!==Q){gf("transaction failed: Data returned ",Q,v.path);let re=Nn(Q);"object"==typeof Q&&null!=Q&&(0,F.r3)(Q,".priority")||(re=re.updatePriority(B.getPriority()));const Ne=v.currentWriteId,qe=_f(n),yt=ff(re,B,qe);v.currentOutputSnapshotRaw=re,v.currentOutputSnapshotResolved=yt,v.currentWriteId=yf(n),h.splice(h.indexOf(Ne),1),o=o.concat(Q_(n.serverSyncTree_,v.path,yt,v.currentWriteId,v.applyLocally)),o=o.concat(Tl(n.serverSyncTree_,Ne,!0))}else M=!0,O="nodata",o=o.concat(Tl(n.serverSyncTree_,v.currentWriteId,!0))}zi(n.eventQueue_,e,o),o=[],M&&(t[g].status=2,setTimeout(t[g].unwatcher,Math.floor(0)),t[g].onComplete&&r.push("nodata"===O?()=>t[g].onComplete(null,!1,t[g].currentInputSnapshot):()=>t[g].onComplete(new Error(O),!1,null)))}_m(n,n.transactionQueueTree_);for(let g=0;g<r.length;g++)qu(r[g]);Ml(n,n.transactionQueueTree_)}(n,bf(n,e),r),r}function vf(n,t){let e,r=n.transactionQueueTree_;for(e=Dt(t);null!==e&&void 0===Ac(r);)r=fd(r,e),e=Dt(t=Gt(t));return r}function bf(n,t){const e=[];return Ow(n,t,e),e.sort((r,o)=>r.order-o.order),e}function Ow(n,t,e){const r=Ac(t);if(r)for(let o=0;o<r.length;o++)e.push(r[o]);dm(t,o=>{Ow(n,o,e)})}function _m(n,t){const e=Ac(t);if(e){let r=0;for(let o=0;o<e.length;o++)2!==e[o].status&&(e[r]=e[o],r++);e.length=r,um(t,e.length>0?e:void 0)}dm(t,r=>{_m(n,r)})}function ym(n,t){const e=Rc(vf(n,t)),r=fd(n.transactionQueueTree_,t);return function Cw(n,t,e){let r=e?n:n.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,o=>{vm(n,o)}),vm(n,r),GD(r,o=>{vm(n,o)}),e}function vm(n,t){const e=Ac(t);if(e){const r=[];let o=[],c=-1;for(let h=0;h<e.length;h++)3===e[h].status||(1===e[h].status?((0,F.hu)(c===h-1,"All SENT items should be at beginning of queue."),c=h,e[h].status=3,e[h].abortReason="set"):((0,F.hu)(0===e[h].status,"Unexpected transaction status in abort"),e[h].unwatcher(),o=o.concat(Tl(n.serverSyncTree_,e[h].currentWriteId,!0)),e[h].onComplete&&r.push(e[h].onComplete.bind(null,new Error("set"),!1,null))));-1===c?um(t,void 0):e.length=c+1,zi(n.eventQueue_,Rc(t),o);for(let h=0;h<r.length;h++)qu(r[h])}}const _y=function(n,t){const e=uI(n),r=e.namespace;return"firebase.com"===e.domain&&Fa(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==e.domain&&Fa("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Hr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Mp(e.host,e.secure,r,"ws"===e.scheme||"wss"===e.scheme,t,"",r!==e.subdomain),path:new Bt(e.pathString)}},uI=function(n){let t="",e="",r="",o="",c="",h=!0,g="https",v=443;if("string"==typeof n){let D=n.indexOf("//");D>=0&&(g=n.substring(0,D-1),n=n.substring(D+2));let M=n.indexOf("/");-1===M&&(M=n.length);let O=n.indexOf("?");-1===O&&(O=n.length),t=n.substring(0,Math.min(M,O)),M<O&&(o=function gy(n){let t="";const e=n.split("/");for(let r=0;r<e.length;r++)if(e[r].length>0){let o=e[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}t+="/"+o}return t}(n.substring(M,O)));const B=function Nw(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const r=e.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Hr(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,O)));D=t.indexOf(":"),D>=0?(h="https"===g||"wss"===g,v=parseInt(t.substring(D+1),10)):D=t.length;const Q=t.slice(0,D);if("localhost"===Q.toLowerCase())e="localhost";else if(Q.split(".").length<=2)e=Q;else{const re=t.indexOf(".");r=t.substring(0,re).toLowerCase(),e=t.substring(re+1),c=r}"ns"in B&&(c=B.ns)}return{host:t,port:v,domain:e,subdomain:r,secure:h,scheme:g,pathString:o,namespace:c}};class dI{constructor(t,e,r,o){this.eventType=t,this.eventRegistration=e,this.snapshot=r,this.prevName=o}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,F.Pz)(this.snapshot.exportVal())}}class bm{constructor(t,e,r){this.eventRegistration=t,this.error=e,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class wf{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,F.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class yy{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new F.BH;return cA(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Es("OnDisconnect.remove",this._path);const t=new F.BH;return xw(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Es("OnDisconnect.set",this._path),Yo("OnDisconnect.set",t,this._path,!1);const e=new F.BH;return xw(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Es("OnDisconnect.setWithPriority",this._path),Yo("OnDisconnect.setWithPriority",t,this._path,!1),hm("OnDisconnect.setWithPriority",e,!1);const r=new F.BH;return function rI(n,t,e,r,o){const c=Nn(e,r);n.server_.onDisconnectPut(t.toString(),c.val(!0),(h,g)=>{"ok"===h&&nd(n.onDisconnect_,t,c),xr(0,o,h,g)})}(this._repo,this._path,t,e,r.wrapCallback(()=>{})),r.promise}update(t){Es("OnDisconnect.update",this._path),Dw("OnDisconnect.update",t,this._path,!1);const e=new F.BH;return function iI(n,t,e,r){if((0,F.xb)(e))return Xt("onDisconnect().update() called with empty data.  Don't do anything."),void xr(0,r,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(o,c)=>{"ok"===o&&lr(e,(h,g)=>{const v=Nn(g);nd(n.onDisconnect_,Sn(t,h),v)}),xr(0,r,o,c)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class $r{constructor(t,e,r,o){this._repo=t,this._path=e,this._queryParams=r,this._orderByCalled=o}get key(){return kt(this._path)?null:Fp(this._path)}get ref(){return new Ds(this._repo,this._path)}get _queryIdentifier(){const t=Zb(this._queryParams),e=a_(t);return"{}"===e?"default":e}get _queryObject(){return Zb(this._queryParams)}isEqual(t){if(!((t=(0,F.m9)(t))instanceof $r))return!1;const e=this._repo===t._repo,r=Lp(this._path,t._path);return e&&r&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Nb(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function bd(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Rl(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Js){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==La)throw new Error(r);if("string"!=typeof t)throw new Error(o)}if(n.hasEnd()){if(n.getIndexEndName()!==zo)throw new Error(r);if("string"!=typeof e)throw new Error(o)}}else if(n.getIndex()===dn){if(null!=t&&!pd(t)||null!=e&&!pd(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,F.hu)(n.getIndex()instanceof S_||n.getIndex()===Hp,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function wm(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ds extends $r{constructor(t,e){super(t,e,new Qh,!1)}get parent(){const t=g_(this._path);return null===t?null:new Ds(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class kc{constructor(t,e,r){this._node=t,this.ref=e,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Bt(t),r=kl(this.ref,t);return new kc(this._node.getChild(e),r,dn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,o)=>t(new kc(o,kl(this.ref,r),dn)))}hasChild(t){const e=new Bt(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function vy(n,t){return(n=(0,F.m9)(n))._checkNotDeleted("ref"),void 0!==t?kl(n._root,t):n._root}function Cm(n,t){(n=(0,F.m9)(n))._checkNotDeleted("refFromURL");const e=_y(t,n._repo.repoInfo_.nodeAdmin);KD("refFromURL",e);const r=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&Fa("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),vy(n,e.path.toString())}function kl(n,t){return null===Dt((n=(0,F.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),md("child","path",e,!1)):md("child","path",t,!1),new Ds(n._repo,Sn(n._path,t));var e}function by(n,t){n=(0,F.m9)(n),Es("set",n._path),Yo("set",t,n._path,!1);const e=new F.BH;return gm(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function fI(n,t){Dw("update",t,n._path,!1);const e=new F.BH;return function tI(n,t,e,r){Al(n,"update",{path:t.toString(),value:e});let o=!0;const c=_f(n),h={};if(lr(e,(g,v)=>{o=!1,h[g]=cy(Sn(t,g),Nn(v),n.serverSyncTree_,c)}),o)Xt("update() called with empty data.  Don't do anything."),xr(0,r,"ok",void 0);else{const g=yf(n),v=function gw(n,t,e,r){!function bD(n,t,e,r){(0,F.hu)(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:r,visible:!0}),n.visibleWrites=Xp(n.visibleWrites,t,e),n.lastWriteId=r}(n.pendingWriteTree_,t,e,r);const o=vn.fromObject(e);return dd(n,new rd({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,o))}(n.serverSyncTree_,t,h,g);pm(n.eventQueue_,v),n.server_.merge(t.toString(),e,(D,M)=>{const O="ok"===D;O||Hr("update at "+t+" failed: "+D);const B=Tl(n.serverSyncTree_,g,!O),Q=B.length>0?vd(n,t):t;zi(n.eventQueue_,Q,B),xr(0,r,D,M)}),lr(e,D=>{const M=ym(n,Sn(t,D));vd(n,M)}),zi(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function Bw(n){n=(0,F.m9)(n);const t=new wf(()=>{}),e=new Cf(t);return function kw(n,t,e){const r=function ty(n,t){const e=t._path;let r=null;n.syncPointTree_.foreachOnPath(e,(D,M)=>{const O=jr(D,e);r=r||Il(M,O)});let o=n.syncPointTree_.get(e);o?r=r||Il(o,Ft()):(o=new PD,n.syncPointTree_=n.syncPointTree_.set(e,o));const c=null!=r,h=c?new Cl(r,!0,!1):null;return function aw(n){return Jp(n.viewCache_)}(dw(o,t,Zo(n.pendingWriteTree_,t._path),c?h.getNode():tt.EMPTY_NODE,c))}(n.serverSyncTree_,t);return null!=r?Promise.resolve(r):n.server_.get(t).then(o=>{const c=Nn(o).withIndex(t._queryParams.getIndex());let h;if(ey(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())h=ud(n.serverSyncTree_,t._path,c);else{const g=hf(n.serverSyncTree_,t);h=X_(n.serverSyncTree_,t._path,c,g)}return zi(n.eventQueue_,t._path,h),df(n.serverSyncTree_,t,e,null,!0),c},o=>(Al(n,"get for query "+(0,F.Pz)(t)+" failed: "+o),Promise.reject(new Error(o))))}(n._repo,n,e).then(r=>new kc(r,new Ds(n._repo,n._path),n._queryParams.getIndex()))}class Cf{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const r=e._queryParams.getIndex();return new dI("value",this,new kc(t.snapshotNode,new Ds(e._repo,e._path),r))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new bm(this,t,e):null}matches(t){return t instanceof Cf&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class gr{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new bm(this,t,e):null}createEvent(t,e){(0,F.hu)(null!=t.childName,"Child events should have a childName.");const r=kl(new Ds(e._repo,e._path),t.childName),o=e._queryParams.getIndex();return new dI(t.type,this,new kc(t.snapshotNode,r,o),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof gr&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Ko(n,t,e,r,o){let c;if("object"==typeof r&&(c=void 0,o=r),"function"==typeof r&&(c=r),o&&o.onlyOnce){const v=e,D=(M,O)=>{my(n._repo,n,g),v(M,O)};D.userCallback=e.userCallback,D.context=e.context,e=D}const h=new wf(e,c||void 0),g="value"===t?new Cf(h):new gr(t,h);return function sI(n,t,e){let r;r=".info"===Dt(t._path)?ey(n.infoSyncTree_,t,e):ey(n.serverSyncTree_,t,e),Iw(n.eventQueue_,t._path,r)}(n._repo,n,g),()=>my(n._repo,n,g)}function wy(n,t,e,r){return Ko(n,"value",t,e,r)}function Uw(n,t,e,r){return Ko(n,"child_added",t,e,r)}function pI(n,t,e,r){return Ko(n,"child_changed",t,e,r)}function mI(n,t,e,r){return Ko(n,"child_moved",t,e,r)}function Cy(n,t,e,r){return Ko(n,"child_removed",t,e,r)}function Ey(n,t,e){let r=null;const o=e?new wf(e):null;"value"===t?r=new Cf(o):t&&(r=new gr(t,o)),my(n._repo,n,r)}class si{}class Hw extends si{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Yo("endAt",this._value,t._path,!0);const e=Jh(t._queryParams,this._value,this._key);if(wm(e),Rl(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new $r(t._repo,t._path,e,t._orderByCalled)}}class gI extends si{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Yo("endBefore",this._value,t._path,!1);const e=function Xh(n,t,e){let r,o;return n.index_===Js?("string"==typeof t&&(t=cD(t)),o=Jh(n,t,e)):(r=null==e?La:cD(e),o=Jh(n,t,r)),o.endBeforeSet_=!0,o}(t._queryParams,this._value,this._key);if(wm(e),Rl(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new $r(t._repo,t._path,e,t._orderByCalled)}}class $w extends si{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Yo("startAt",this._value,t._path,!0);const e=R_(t._queryParams,this._value,this._key);if(wm(e),Rl(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new $r(t._repo,t._path,e,t._orderByCalled)}}class wd extends si{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Yo("startAfter",this._value,t._path,!1);const e=function fD(n,t,e){let r;if(n.index_===Js)"string"==typeof t&&(t=M_(t)),r=R_(n,t,e);else{let o;o=null==e?zo:M_(e),r=R_(n,t,o)}return r.startAfterSet_=!0,r}(t._queryParams,this._value,this._key);if(wm(e),Rl(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new $r(t._repo,t._path,e,t._orderByCalled)}}class Iy extends si{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new $r(t._repo,t._path,function dD(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class Gw extends si{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new $r(t._repo,t._path,function hD(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class Sy extends si{constructor(t){super(),this._path=t}_apply(t){bd(t,"orderByChild");const e=new Bt(this._path);if(kt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new S_(e),o=$p(t._queryParams,r);return Rl(o),new $r(t._repo,t._path,o,!0)}}class Ww extends si{_apply(t){bd(t,"orderByKey");const e=$p(t._queryParams,Js);return Rl(e),new $r(t._repo,t._path,e,!0)}}class qw extends si{_apply(t){bd(t,"orderByPriority");const e=$p(t._queryParams,dn);return Rl(e),new $r(t._repo,t._path,e,!0)}}class bI extends si{_apply(t){bd(t,"orderByValue");const e=$p(t._queryParams,Hp);return Rl(e),new $r(t._repo,t._path,e,!0)}}class Ty extends si{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Yo("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Hw(this._value,this._key)._apply(new $w(this._value,this._key)._apply(t))}}function to(n,...t){let e=(0,F.m9)(n);for(const r of t)e=r._apply(e);return e}(function aA(n){(0,F.hu)(!Z_,"__referenceConstructor has already been defined"),Z_=n})(Ds),function FD(n){(0,F.hu)(!om,"__referenceConstructor has already been defined"),om=n}(Ds);const Ay={};function My(n,t,e,r,o){let c=r||n.options.databaseURL;void 0===c&&(n.options.projectId||Fa("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Xt("Using default host for project ",n.options.projectId),c=`${n.options.projectId}-default-rtdb.firebaseio.com`);let v,D,h=_y(c,o),g=h.repoInfo;typeof process<"u"&&process.env&&(D=process.env.FIREBASE_DATABASE_EMULATOR_HOST),D?(v=!0,c=`http://${D}?ns=${g.namespace}`,h=_y(c,o),g=h.repoInfo):v=!h.repoInfo.secure;const M=o&&v?new Bh(Bh.OWNER):new j0(n.name,n.options,t);KD("Invalid Firebase Database URL",h),kt(h.path)||Fa("Database URL must point to the root of a Firebase Database (not including a child path).");const O=function CI(n,t,e,r){let o=Ay[t.name];o||(o={},Ay[t.name]=o);let c=o[n.toURLString()];return c&&Fa("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new XD(n,false,e,r),o[n.toURLString()]=c,c}(g,n,M,new u_(n.name,e));return new Jw(O,n)}class Jw{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function eI(n,t,e){if(n.stats_=Zu(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new ef(n.repoInfo_,(r,o,c,h)=>{Mw(n,r,o,c,h)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>gd(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,F.Pz)(e)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Wo(n.repoInfo_,t,(r,o,c,h)=>{Mw(n,r,o,c,h)},r=>{gd(n,r)},r=>{!function Rw(n,t){lr(t,(e,r)=>{mm(n,e,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function Rp(n,t){const e=n.toString();return Ks[e]||(Ks[e]=t()),Ks[e]}(n.repoInfo_,()=>new Jb(n.stats_,n.server_)),n.infoData_=new Yb,n.infoSyncTree_=new K_({startListening:(r,o,c,h)=>{let g=[];const v=n.infoData_.getNode(r._path);return v.isEmpty()||(g=ud(n.infoSyncTree_,r._path,v),setTimeout(()=>{h("ok")},0)),g},stopListening:()=>{}}),mm(n,"connected",!1),n.serverSyncTree_=new K_({startListening:(r,o,c,h)=>(n.server_.listen(r,c,o,(g,v)=>{const D=h(g,v);zi(n.eventQueue_,r._path,D)}),[]),stopListening:(r,o)=>{n.server_.unlisten(r,o)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ds(this._repo,Ft())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Kw(n,t){const e=Ay[t];(!e||e[n.key]!==n)&&Fa(`Database ${t}(${n.repoInfo_}) has already been deleted.`),_d(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Fa("Cannot call "+t+" on a deleted database.")}}function Xw(){xb.IS_TRANSPORT_INITIALIZED&&Hr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function EI(){Xw(),_l.forceDisallow()}function eC(){Xw(),Ku.forceDisallow(),_l.forceAllow()}function iC(n,t){_b(n,t)}const II={".sv":"timestamp"};class mA{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Wo.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Wo.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function DI(n){Jg(fs.SDK_VERSION),(0,fs._registerComponent)(new xn.wA("database",(t,{instanceIdentifier:e})=>My(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,fs.registerVersion)(zu,"0.13.6",n),(0,fs.registerVersion)(zu,"0.13.6","esm2017")}();const vA=new Ca.Yd("@firebase/database-compat"),SI=function(n){vA.warn("FIREBASE WARNING: "+n)};class oC{constructor(t){this._delegate=t}cancel(t){(0,F.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,F.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),r=>t(r)),e}remove(t){(0,F.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,F.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),r=>t(r)),e}set(t,e){(0,F.Dv)("OnDisconnect.set",1,2,arguments.length),(0,F.Wj)("OnDisconnect.set","onComplete",e,!0);const r=this._delegate.set(t);return e&&r.then(()=>e(null),o=>e(o)),r}setWithPriority(t,e,r){(0,F.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,F.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const o=this._delegate.setWithPriority(t,e);return r&&o.then(()=>r(null),c=>r(c)),o}update(t,e){if((0,F.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const o={};for(let c=0;c<t.length;++c)o[""+c]=t[c];t=o,SI("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,F.Wj)("OnDisconnect.update","onComplete",e,!0);const r=this._delegate.update(t);return e&&r.then(()=>e(null),o=>e(o)),r}}class Im{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,F.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Ua{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,F.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,F.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,F.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,F.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,F.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),md("DataSnapshot.child","path",t,!1),new Ua(this._database,this._delegate.child(t))}hasChild(t){return(0,F.Dv)("DataSnapshot.hasChild",1,1,arguments.length),md("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,F.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,F.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,F.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Ua(this._database,e)))}hasChildren(){return(0,F.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,F.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,F.Dv)("DataSnapshot.ref",0,0,arguments.length),new Is(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class _r{constructor(t,e){this.database=t,this._delegate=e}on(t,e,r,o){var c;(0,F.Dv)("Query.on",2,4,arguments.length),(0,F.Wj)("Query.on","callback",e,!1);const h=_r.getCancelAndContextArgs_("Query.on",r,o),g=(D,M)=>{e.call(h.context,new Ua(this.database,D),M)};g.userCallback=e,g.context=h.context;const v=null===(c=h.cancel)||void 0===c?void 0:c.bind(h.context);switch(t){case"value":return wy(this._delegate,g,v),e;case"child_added":return Uw(this._delegate,g,v),e;case"child_removed":return Cy(this._delegate,g,v),e;case"child_changed":return pI(this._delegate,g,v),e;case"child_moved":return mI(this._delegate,g,v),e;default:throw new Error((0,F.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,r){if((0,F.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,F.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,F.Wj)("Query.off","callback",e,!0),(0,F.lb)("Query.off","context",r,!0),e){const o=()=>{};o.userCallback=e,o.context=r,Ey(this._delegate,t,o)}else Ey(this._delegate,t)}get(){return Bw(this._delegate).then(t=>new Ua(this.database,t))}once(t,e,r,o){(0,F.Dv)("Query.once",1,4,arguments.length),(0,F.Wj)("Query.once","callback",e,!0);const c=_r.getCancelAndContextArgs_("Query.once",r,o),h=new F.BH,g=(D,M)=>{const O=new Ua(this.database,D);e&&e.call(c.context,O,M),h.resolve(O)};g.userCallback=e,g.context=c.context;const v=D=>{c.cancel&&c.cancel.call(c.context,D),h.reject(D)};switch(t){case"value":wy(this._delegate,g,v,{onlyOnce:!0});break;case"child_added":Uw(this._delegate,g,v,{onlyOnce:!0});break;case"child_removed":Cy(this._delegate,g,v,{onlyOnce:!0});break;case"child_changed":pI(this._delegate,g,v,{onlyOnce:!0});break;case"child_moved":mI(this._delegate,g,v,{onlyOnce:!0});break;default:throw new Error((0,F.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return h.promise}limitToFirst(t){return(0,F.Dv)("Query.limitToFirst",1,1,arguments.length),new _r(this.database,to(this._delegate,function zw(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Iy(n)}(t)))}limitToLast(t){return(0,F.Dv)("Query.limitToLast",1,1,arguments.length),new _r(this.database,to(this._delegate,function Em(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Gw(n)}(t)))}orderByChild(t){return(0,F.Dv)("Query.orderByChild",1,1,arguments.length),new _r(this.database,to(this._delegate,function uA(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return md("orderByChild","path",n,!1),new Sy(n)}(t)))}orderByKey(){return(0,F.Dv)("Query.orderByKey",0,0,arguments.length),new _r(this.database,to(this._delegate,function vI(){return new Ww}()))}orderByPriority(){return(0,F.Dv)("Query.orderByPriority",0,0,arguments.length),new _r(this.database,to(this._delegate,function Cd(){return new qw}()))}orderByValue(){return(0,F.Dv)("Query.orderByValue",0,0,arguments.length),new _r(this.database,to(this._delegate,function Zw(){return new bI}()))}startAt(t=null,e){return(0,F.Dv)("Query.startAt",0,2,arguments.length),new _r(this.database,to(this._delegate,function _I(n=null,t){return fm("startAt","key",t,!0),new $w(n,t)}(t,e)))}startAfter(t=null,e){return(0,F.Dv)("Query.startAfter",0,2,arguments.length),new _r(this.database,to(this._delegate,function yI(n,t){return fm("startAfter","key",t,!0),new wd(n,t)}(t,e)))}endAt(t=null,e){return(0,F.Dv)("Query.endAt",0,2,arguments.length),new _r(this.database,to(this._delegate,function Dy(n,t){return fm("endAt","key",t,!0),new Hw(n,t)}(t,e)))}endBefore(t=null,e){return(0,F.Dv)("Query.endBefore",0,2,arguments.length),new _r(this.database,to(this._delegate,function jw(n,t){return fm("endBefore","key",t,!0),new gI(n,t)}(t,e)))}equalTo(t,e){return(0,F.Dv)("Query.equalTo",1,2,arguments.length),new _r(this.database,to(this._delegate,function dA(n,t){return fm("equalTo","key",t,!0),new Ty(n,t)}(t,e)))}toString(){return(0,F.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,F.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,F.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof _r))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,r){const o={cancel:void 0,context:void 0};if(e&&r)o.cancel=e,(0,F.Wj)(t,"cancel",o.cancel,!0),o.context=r,(0,F.lb)(t,"context",o.context,!0);else if(e)if("object"==typeof e&&null!==e)o.context=e;else{if("function"!=typeof e)throw new Error((0,F.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");o.cancel=e}return o}get ref(){return new Is(this.database,new Ds(this._delegate._repo,this._delegate._path))}}class Is extends _r{constructor(t,e){super(t,new $r(e._repo,e._path,new Qh,!1)),this.database=t,this._delegate=e}getKey(){return(0,F.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,F.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Is(this.database,kl(this._delegate,t))}getParent(){(0,F.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Is(this.database,t):null}getRoot(){return(0,F.Dv)("Reference.root",0,0,arguments.length),new Is(this.database,this._delegate.root)}set(t,e){(0,F.Dv)("Reference.set",1,2,arguments.length),(0,F.Wj)("Reference.set","onComplete",e,!0);const r=by(this._delegate,t);return e&&r.then(()=>e(null),o=>e(o)),r}update(t,e){if((0,F.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const o={};for(let c=0;c<t.length;++c)o[""+c]=t[c];t=o,SI("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Es("Reference.update",this._delegate._path),(0,F.Wj)("Reference.update","onComplete",e,!0);const r=fI(this._delegate,t);return e&&r.then(()=>e(null),o=>e(o)),r}setWithPriority(t,e,r){(0,F.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,F.Wj)("Reference.setWithPriority","onComplete",r,!0);const o=function Vw(n,t,e){if(Es("setWithPriority",n._path),Yo("setWithPriority",t,n._path,!1),hm("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const r=new F.BH;return gm(n._repo,n._path,t,e,r.wrapCallback(()=>{})),r.promise}(this._delegate,t,e);return r&&o.then(()=>r(null),c=>r(c)),o}remove(t){(0,F.Dv)("Reference.remove",0,1,arguments.length),(0,F.Wj)("Reference.remove","onComplete",t,!0);const e=function Fw(n){return Es("remove",n._path),by(n,null)}(this._delegate);return t&&e.then(()=>t(null),r=>t(r)),e}transaction(t,e,r){(0,F.Dv)("Reference.transaction",1,3,arguments.length),(0,F.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,F.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,r){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,F.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const o=function gA(n,t,e){var r;if(n=(0,F.m9)(n),Es("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const o=null===(r=e?.applyLocally)||void 0===r||r,c=new F.BH,g=wy(n,()=>{});return function aI(n,t,e,r,o,c){Al(n,"transaction on "+t);const h={path:t,update:e,onComplete:r,status:null,order:gb(),applyLocally:c,retryCount:0,unwatcher:o,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},g=yd(n,t,void 0);h.currentInputSnapshot=g;const v=h.update(g.val());if(void 0===v)h.unwatcher(),h.currentOutputSnapshotRaw=null,h.currentOutputSnapshotResolved=null,h.onComplete&&h.onComplete(null,!1,h.currentInputSnapshot);else{gf("transaction failed: Data returned ",v,h.path),h.status=0;const D=fd(n.transactionQueueTree_,t),M=Ac(D)||[];let O;M.push(h),um(D,M),"object"==typeof v&&null!==v&&(0,F.r3)(v,".priority")?(O=(0,F.DV)(v,".priority"),(0,F.hu)(pd(O),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):O=(am(n.serverSyncTree_,t)||tt.EMPTY_NODE).getPriority().val();const B=_f(n),Q=Nn(v,O),re=ff(Q,g,B);h.currentOutputSnapshotRaw=Q,h.currentOutputSnapshotResolved=re,h.currentWriteId=yf(n);const ye=Q_(n.serverSyncTree_,t,re,h.currentWriteId,h.applyLocally);zi(n.eventQueue_,t,ye),Ml(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(v,D,M)=>{let O=null;v?c.reject(v):(O=new kc(M,new Ds(n._repo,n._path),dn),c.resolve(new mA(D,O)))},g,o),c.promise}(this._delegate,t,{applyLocally:r}).then(c=>new Im(c.committed,new Ua(this.database,c.snapshot)));return e&&o.then(c=>e(null,c.committed,c.snapshot),c=>e(c,!1,null)),o}setPriority(t,e){(0,F.Dv)("Reference.setPriority",1,2,arguments.length),(0,F.Wj)("Reference.setPriority","onComplete",e,!0);const r=function Lw(n,t){n=(0,F.m9)(n),Es("setPriority",n._path),hm("setPriority",t,!1);const e=new F.BH;return gm(n._repo,Sn(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&r.then(()=>e(null),o=>e(o)),r}push(t,e){(0,F.Dv)("Reference.push",0,2,arguments.length),(0,F.Wj)("Reference.push","onComplete",e,!0);const r=function Pw(n,t){n=(0,F.m9)(n),Es("push",n._path),Yo("push",t,n._path,!0);const e=Aw(n._repo),r=lD(e),o=kl(n,r),c=kl(n,r);let h;return h=null!=t?by(c,t).then(()=>c):Promise.resolve(c),o.then=h.then.bind(h),o.catch=h.then.bind(h,void 0),o}(this._delegate,t),o=r.then(h=>new Is(this.database,h));e&&o.then(()=>e(null),h=>e(h));const c=new Is(this.database,r);return c.then=o.then.bind(o),c.catch=o.catch.bind(o,void 0),c}onDisconnect(){return Es("Reference.onDisconnect",this._delegate._path),new oC(new yy(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class xc{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:EI,forceLongPolling:eC}}useEmulator(t,e,r={}){!function tC(n,t,e,r={}){(n=(0,F.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Fa("Cannot call useEmulator() after instance has already been initialized.");const o=n._repoInternal;let c;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&Fa('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new Bh(Bh.OWNER);else if(r.mockUserToken){const h="string"==typeof r.mockUserToken?r.mockUserToken:(0,F.Sg)(r.mockUserToken,n.app.options.projectId);c=new Bh(h)}!function wI(n,t,e,r){n.repoInfo_=new Mp(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),r&&(n.authTokenProvider_=r)}(o,t,e,c)}(this._delegate,t,e,r)}ref(t){if((0,F.Dv)("database.ref",0,1,arguments.length),t instanceof Is){const e=Cm(this._delegate,t.toString());return new Is(this,e)}{const e=vy(this._delegate,t);return new Is(this,e)}}refFromURL(t){(0,F.Dv)("database.refFromURL",1,1,arguments.length);const r=Cm(this._delegate,t);return new Is(this,r)}goOffline(){return(0,F.Dv)("database.goOffline",0,0,arguments.length),function nC(n){(n=(0,F.m9)(n))._checkNotDeleted("goOffline"),_d(n._repo)}(this._delegate)}goOnline(){return(0,F.Dv)("database.goOnline",0,0,arguments.length),function rC(n){(n=(0,F.m9)(n))._checkNotDeleted("goOnline"),function oI(n){n.persistentConnection_&&n.persistentConnection_.resume(Tw)}(n._repo)}(this._delegate)}}xc.ServerValue={TIMESTAMP:function pA(){return II}(),increment:n=>function sC(n){return{".sv":{increment:n}}}(n)};var TI=Object.freeze({__proto__:null,initStandalone:function aC({app:n,url:t,version:e,customAuthImpl:r,namespace:o,nodeAdmin:c=!1}){Jg(e);const h=new xn.zt("auth-internal",new xn.H0("database-standalone"));return h.setComponent(new xn.wA("auth-internal",()=>r,"PRIVATE")),{instance:new xc(My(n,h,void 0,t,c),n),namespace:o}}});const lC=xc.ServerValue;function cC(n){return null==n}function Ef(n){return"function"==typeof n.set}function uC(n,t){return Ef(t)?t:n.ref(t)}function RI(n,t){if(function AI(n){return"string"==typeof n}(n))return t.stringCase();if(Ef(n))return t.firebaseCase();if(function MI(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Sm(n,t,e="on",r=kh.z){return new cn.y(o=>{let c=null;return c=n[e](t,(h,g)=>{r.schedule(()=>{o.next({snapshot:h,prevKey:g})}),"once"===e&&r.schedule(()=>o.complete())},h=>{r.schedule(()=>o.error(h))}),"on"===e?{unsubscribe(){null!=c&&n.off(t,c)}}:{unsubscribe(){}}}).pipe((0,et.U)(o=>{const{snapshot:c,prevKey:h}=o;let g=null;return c.exists()&&(g=c.key),{type:t,payload:c,prevKey:h,key:g}}),(0,Pi.B)())}function dC(n,t){const e=n.length;for(let r=0;r<e;r++)if(n[r].payload.key===t)return r;return-1}function xI(n,t){const{payload:e,prevKey:r,key:o}=t,c=dC(n,o),h=function kI(n,t){if(cC(t))return 0;{const e=dC(n,t);return-1===e?n.length:e+1}}(n,r);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let g=null;t.payload.forEach(v=>{const D={payload:v,type:"value",prevKey:g,key:v.key};return g=v.key,n=[...n,D],!1})}return n;case"child_added":if(c>-1){const g=n[c-1];(g&&g.key||null)!==r&&(n=n.filter(v=>v.payload.key!==e.key)).splice(h,0,t)}else{if(null==r)return[t,...n];(n=n.slice()).splice(h,0,t)}return n;case"child_removed":return n.filter(g=>g.payload.key!==e.key);case"child_changed":return n.map(g=>g.payload.key===o?t:g);case"child_moved":if(c>-1){const g=n.splice(c,1)[0];return(n=n.slice()).splice(h,0,g),n}return n;default:return n}}function OI(n){return(cC(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function hC(n,t,e){return function CA(n,t,e){return Sm(n,"value","once",e).pipe(un(r=>{const o=[Le(r)];return t.forEach(c=>o.push(Sm(n,c,"on",e))),(0,gi.T)(...o).pipe(cl(xI,[]))}),Kg())}(n,t=OI(t),e)}function Ry(n,t,e){const r=(t=OI(t)).map(o=>Sm(n,o,"on",e));return(0,gi.T)(...r)}function pC(n,t){return function(r,o){return RI(r,{stringCase:()=>n.child(r)[t](o),firebaseCase:()=>r[t](o),snapshotCase:()=>r.ref[t](o)})}}function ky(n){return function(e){return e?RI(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function wi(n,t){return function(){return Sm(n,"value","on",t)}}!function wA(n){n.INTERNAL.registerComponent(new xn.wA("database-compat",(t,{instanceIdentifier:e})=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("database").getImmediate({identifier:e});return new xc(o,r)},"PUBLIC").setServiceProps({Reference:Is,Query:_r,Database:xc,DataSnapshot:Ua,enableLogging:iC,INTERNAL:TI,ServerValue:lC}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.6")}(Ip.Z);const xy=new l.OlP("angularfire2.realtimeDatabaseURL"),FI=new l.OlP("angularfire2.database.use-emulator");let Ny,mC=(()=>{class n{constructor(e,r,o,c,h,g,v,D,M,O,B,Q,re,ye,Ne){this.schedulers=g;const qe=v,yt=(0,ar.on)(e,h,r);D&&ag(yt,h,M,B,Q,re,O,ye),this.database=(0,ar.cc)(`${yt.name}.database.${o}`,"AngularFireDatabase",yt.name,()=>{const Yt=h.runOutsideAngular(()=>yt.database(o||void 0));return qe&&Yt.useEmulator(...qe),Yt},[qe])}list(e,r){const o=this.schedulers.ngZone.runOutsideAngular(()=>uC(this.database,e));let c=o;return r&&(c=r(o)),function NI(n,t){const e=t.schedulers.outsideAngular,r=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:pC(r,"update"),set:pC(r,"set"),push:o=>r.push(o),remove:ky(r),snapshotChanges:o=>hC(n,o,e).pipe(nn.iC),stateChanges:o=>Ry(n,o,e).pipe(nn.iC),auditTrail:o=>function fC(n,t,e){return function no(n,t,e){return function EA(n,t){return Sm(n,"value","on",t).pipe((0,et.U)(e=>{let r;return e.payload.forEach(o=>(r=o.key,!1)),{data:e,lastKeyToLoad:r}}))}(n,e).pipe(function $u(...n){const t=(0,Jr.jO)(n);return(0,pn.e)((e,r)=>{const o=n.length,c=new Array(o);let h=n.map(()=>!1),g=!1;for(let v=0;v<o;v++)(0,Er.Xf)(n[v]).subscribe((0,mn.x)(r,D=>{c[v]=D,!g&&!h[v]&&(h[v]=!0,(g=h.every(To.y))&&(h=null))},xh.Z));e.subscribe((0,mn.x)(r,v=>{if(g){const D=[v,...c];r.next(t?t(...D):D)}}))})}(t),(0,et.U)(([o,c])=>{const h=o.lastKeyToLoad,g=c.map(v=>v.key);return{actions:c,lastKeyToLoad:h,loadedKeys:g}}),function Qg(n){return(0,pn.e)((t,e)=>{let r=!1,o=0;t.subscribe((0,mn.x)(e,c=>(r||(r=!n(c,o++)))&&e.next(c)))})}(o=>-1===o.loadedKeys.indexOf(o.lastKeyToLoad)),(0,et.U)(o=>o.actions))}(n,Ry(n,t).pipe(cl((o,c)=>[...o,c],[])),e)}(n,o,e).pipe(nn.iC),valueChanges:(o,c)=>hC(n,o,e).pipe((0,et.U)(g=>g.map(v=>c&&c.idField?Object.assign(Object.assign({},v.payload.val()),{[c.idField]:v.key}):v.payload.val())),nn.iC)}}(c,this)}object(e){return function PI(n,t){return{query:n,snapshotChanges:()=>wi(n,t.schedulers.outsideAngular)().pipe(nn.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>wi(n,t.schedulers.outsideAngular)().pipe(nn.iC,(0,et.U)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>uC(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ar.Dh),l.LFG(ar.xv,8),l.LFG(xy,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(nn.HU),l.LFG(FI,8),l.LFG(oc,8),l.LFG(sg,8),l.LFG(og,8),l.LFG(Cu,8),l.LFG(Eu,8),l.LFG(sc,8),l.LFG(rh,8),l.LFG(wu,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Oy=(()=>{class n{constructor(e){this.firebaseApi=e}createUser(e,r,o){return this.firebaseApi.database.ref("users").child(o.uid).set({email:e,nickname:r,key:o.uid,score:0})}getAllUsers(){return this.firebaseApi.list("users").valueChanges()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(mC))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Df=(()=>{class n{constructor(e,r,o){this.fireauth=e,this.router=r,this.jService=o}login(e,r){this.fireauth.signInWithEmailAndPassword(e,r).then(o=>{localStorage.setItem("token","true"),this.router.navigateByUrl("")},o=>{alert("Something went wrong"),this.router.navigateByUrl("/login")})}register(e,r,o){this.fireauth.createUserWithEmailAndPassword(e,r).then(c=>{c.user?.updateProfile({displayName:o}),this.jService.createUser(e,o,c.user),this.router.navigateByUrl("/login")},c=>{alert(c.message),this.router.navigateByUrl("register")})}logout(){this.fireauth.signOut().then(()=>{localStorage.removeItem("token"),this.router.navigateByUrl("")},e=>{alert(e.message)})}getCurrentUser(){return this.fireauth.authState}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(oc),l.LFG(mr),l.LFG(Oy))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();try{Ny=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Ny=!1}let Ed,oi=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Bl(n){return n===Gn}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Ny)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Py=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function _C(){if(Ed)return Ed;if("object"!=typeof document||!document)return Ed=new Set(Py),Ed;let n=document.createElement("input");return Ed=new Set(Py.filter(t=>(n.setAttribute("type",t),n.type===t))),Ed}let Oc,Dd,ai,Fy;function If(n){return function xl(){if(null==Oc&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Oc=!0}))}finally{Oc=Oc||!1}return Oc}()?n:!!n.capture}function Tm(){if("object"!=typeof document||!document)return 0;if(null==Dd){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),r=e.style;r.width="2px",r.height="1px",n.appendChild(e),document.body.appendChild(n),Dd=0,0===n.scrollLeft&&(n.scrollLeft=1,Dd=0===n.scrollLeft?1:2),n.remove()}return Dd}function Id(n){return n.composedPath?n.composedPath()[0]:n.target}function KA(n){return gn((t,e)=>n<=e)}function yr(n){return(0,pn.e)((t,e)=>{(0,Er.Xf)(n).subscribe((0,mn.x)(e,()=>e.complete(),xh.Z)),!e.closed&&t.subscribe(e)})}function zr(n){return null!=n&&"false"!=`${n}`}function iS(n,t=0){return function Yx(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function QA(n){return Array.isArray(n)?n:[n]}function Nc(n){return n instanceof l.SBq?n.nativeElement:n}function sS(n,t=kh.z){return(0,pn.e)((e,r)=>{let o=null,c=null,h=null;const g=()=>{if(o){o.unsubscribe(),o=null;const D=c;c=null,r.next(D)}};function v(){const D=h+n,M=t.now();if(M<D)return o=this.schedule(void 0,D-M),void r.add(o);g()}e.subscribe((0,mn.x)(r,D=>{c=D,h=t.now(),o||(o=t.schedule(v,n),r.add(o))},()=>{g(),r.complete()},void 0,()=>{c=o=null}))})}const JA=new Set;let Mm,Kx=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Jx}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function Qx(n){if(!JA.has(n))try{Mm||(Mm=document.createElement("style"),Mm.setAttribute("type","text/css"),document.head.appendChild(Mm)),Mm.sheet&&(Mm.sheet.insertRule(`@media ${n} {body{ }}`,0),JA.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(oi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Jx(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Xx=(()=>{class n{constructor(e,r){this._mediaMatcher=e,this._zone=r,this._queries=new Map,this._destroySubject=new $t.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return XA(QA(e)).some(o=>this._registerQuery(o).mql.matches)}observe(e){let c=No(XA(QA(e)).map(h=>this._registerQuery(h).observable));return c=Iu(c.pipe(En(1)),c.pipe(KA(1),sS(0))),c.pipe((0,et.U)(h=>{const g={matches:!1,breakpoints:{}};return h.forEach(({matches:v,query:D})=>{g.matches=g.matches||v,g.breakpoints[D]=v}),g}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const r=this._mediaMatcher.matchMedia(e),c={observable:new cn.y(h=>{const g=v=>this._zone.run(()=>h.next(v));return r.addListener(g),()=>{r.removeListener(g)}}).pipe(ys(r),(0,et.U)(({matches:h})=>({query:e,matches:h})),yr(this._destroySubject)),mql:r};return this._queries.set(e,c),c}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Kx),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function XA(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}let nM=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function rO(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const r=function nO(n){try{return n.frameElement}catch{return null}}(function dO(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(r&&(-1===iM(r)||!this.isVisible(r)))return!1;let o=e.nodeName.toLowerCase(),c=iM(e);return e.hasAttribute("contenteditable")?-1!==c:!("iframe"===o||"object"===o||this._platform.WEBKIT&&this._platform.IOS&&!function cO(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===o?!!e.hasAttribute("controls")&&-1!==c:"video"===o?-1!==c&&(null!==c||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,r){return function uO(n){return!function sO(n){return function aO(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function iO(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function oO(n){return function lO(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||rM(n))}(e)&&!this.isDisabled(e)&&(r?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(oi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function rM(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function iM(n){if(!rM(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class hO{constructor(t,e,r,o,c=!1){this._element=t,this._checker=e,this._ngZone=r,this._document=o,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,c||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const r=this._getFirstTabbableElement(e);return r?.focus(t),!!r}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let r=0;r<e.length;r++){const o=e[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[r]):null;if(o)return o}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let r=e.length-1;r>=0;r--){const o=e[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[r]):null;if(o)return o}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(En(1)).subscribe(t)}}let fO=(()=>{class n{constructor(e,r,o){this._checker=e,this._ngZone=r,this._document=o}create(e,r=!1){return new hO(e,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(nM),l.LFG(l.R0b),l.LFG(oe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sM(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function oM(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const pO=new l.OlP("cdk-input-modality-detector-options"),mO={ignoreKeys:[18,17,224,91,16]},Rm=If({passive:!0,capture:!0});let gO=(()=>{class n{constructor(e,r,o,c){this._platform=e,this._mostRecentTarget=null,this._modality=new Ar(null),this._lastTouchMs=0,this._onKeydown=h=>{this._options?.ignoreKeys?.some(g=>g===h.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Id(h))},this._onMousedown=h=>{Date.now()-this._lastTouchMs<650||(this._modality.next(sM(h)?"keyboard":"mouse"),this._mostRecentTarget=Id(h))},this._onTouchstart=h=>{oM(h)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Id(h))},this._options={...mO,...c},this.modalityDetected=this._modality.pipe(KA(1)),this.modalityChanged=this.modalityDetected.pipe(Kg()),e.isBrowser&&r.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,Rm),o.addEventListener("mousedown",this._onMousedown,Rm),o.addEventListener("touchstart",this._onTouchstart,Rm)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Rm),document.removeEventListener("mousedown",this._onMousedown,Rm),document.removeEventListener("touchstart",this._onTouchstart,Rm))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(oi),l.LFG(l.R0b),l.LFG(oe),l.LFG(pO,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yO=new l.OlP("cdk-focus-monitor-default-options"),FC=If({passive:!0,capture:!0});let oS=(()=>{class n{constructor(e,r,o,c,h){this._ngZone=e,this._platform=r,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new $t.x,this._rootNodeFocusAndBlurListener=g=>{for(let D=Id(g);D;D=D.parentElement)"focus"===g.type?this._onFocus(g,D):this._onBlur(g,D)},this._document=c,this._detectionMode=h?.detectionMode||0}monitor(e,r=!1){const o=Nc(e);if(!this._platform.isBrowser||1!==o.nodeType)return Le(null);const c=function UI(n){if(function BI(){if(null==Fy){const n=typeof document<"u"?document.head:null;Fy=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Fy}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(o)||this._getDocument(),h=this._elementInfo.get(o);if(h)return r&&(h.checkChildren=!0),h.subject;const g={checkChildren:r,subject:new $t.x,rootNode:c};return this._elementInfo.set(o,g),this._registerGlobalListeners(g),g.subject}stopMonitoring(e){const r=Nc(e),o=this._elementInfo.get(r);o&&(o.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(o))}focusVia(e,r,o){const c=Nc(e);c===this._getDocument().activeElement?this._getClosestElementsInfo(c).forEach(([g,v])=>this._originChanged(g,r,v)):(this._setOrigin(r),"function"==typeof c.focus&&c.focus(o))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused","touch"===r),e.classList.toggle("cdk-keyboard-focused","keyboard"===r),e.classList.toggle("cdk-mouse-focused","mouse"===r),e.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const o=this._elementInfo.get(r),c=Id(e);!o||!o.checkChildren&&r!==c||this._originChanged(r,this._getFocusOrigin(c),o)}_onBlur(e,r){const o=this._elementInfo.get(r);!o||o.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(o,null))}_emitOrigin(e,r){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,o=this._rootNodeFocusListenerCount.get(r)||0;o||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,FC),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,FC)}),this._rootNodeFocusListenerCount.set(r,o+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(yr(this._stopInputModalityDetector)).subscribe(c=>{this._setOrigin(c,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const o=this._rootNodeFocusListenerCount.get(r);o>1?this._rootNodeFocusListenerCount.set(r,o-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,FC),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,FC),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,o){this._setClasses(e,r),this._emitOrigin(o,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((o,c)=>{(c===e||o.checkChildren&&c.contains(e))&&r.push([c,o])}),r}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:r,mostRecentModality:o}=this._inputModalityDetector;if("mouse"!==o||!r||r===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const c=e.labels;if(c)for(let h=0;h<c.length;h++)if(c[h].contains(r))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.R0b),l.LFG(oi),l.LFG(gO),l.LFG(oe,8),l.LFG(yO,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lM="cdk-high-contrast-black-on-white",cM="cdk-high-contrast-white-on-black",aS="cdk-high-contrast-active";let vO=(()=>{class n{constructor(e,r){this._platform=e,this._document=r,this._breakpointSubscription=(0,l.f3M)(Xx).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(e):null,c=(o&&o.backgroundColor||"").replace(/ /g,"");switch(e.remove(),c){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(aS,lM,cM),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?e.add(aS,lM):2===r&&e.add(aS,cM)}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(oi),l.LFG(oe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bO=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function wO(){return(0,l.f3M)(oe)}}),CO=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let LC=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new l.vpe,e){const o=e.documentElement?e.documentElement.dir:null;this.value=function EO(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?CO.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||o||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(bO,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const IO=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function DO(){return!0}});let Gi=(()=>{class n{constructor(e,r,o){this._sanityChecks=r,this._document=o,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!function IA(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(vO),l.LFG(IO,8),l.LFG(oe))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[VC,VC]}),n})();function SO(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=zr(t)}}}function BC(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const r=e||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function TO(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=zr(t)}}}function AO(n){return class extends n{constructor(...t){super(...t),this.errorState=!1}updateErrorState(){const t=this.errorState,c=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);c!==t&&(this.errorState=c,this.stateChanges.next())}}}let hM=(()=>{class n{isErrorState(e,r){return!!(e&&e.invalid&&(e.touched||r&&r.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class RO{constructor(t,e,r,o=!1){this._renderer=t,this.element=e,this.config=r,this._animationForciblyDisabledThroughCss=o,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const fM={enterDuration:225,exitDuration:150},lS=If({passive:!0}),pM=["mousedown","touchstart"],mM=["mouseup","mouseleave","touchend","touchcancel"];class xO{constructor(t,e,r,o){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=Nc(r))}fadeInRipple(t,e,r={}){const o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),c={...fM,...r.animation};r.centered&&(t=o.left+o.width/2,e=o.top+o.height/2);const h=r.radius||function OO(n,t,e){const r=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),o=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(r*r+o*o)}(t,e,o),g=t-o.left,v=e-o.top,D=c.enterDuration,M=document.createElement("div");M.classList.add("mat-ripple-element"),M.style.left=g-h+"px",M.style.top=v-h+"px",M.style.height=2*h+"px",M.style.width=2*h+"px",null!=r.color&&(M.style.backgroundColor=r.color),M.style.transitionDuration=`${D}ms`,this._containerElement.appendChild(M);const O=window.getComputedStyle(M),Q=O.transitionDuration,re="none"===O.transitionProperty||"0s"===Q||"0s, 0s"===Q,ye=new RO(this,M,r,re);M.style.transform="scale3d(1, 1, 1)",ye.state=0,r.persistent||(this._mostRecentTransientRipple=ye);let Ne=null;return!re&&(D||c.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const qe=()=>this._finishRippleTransition(ye),yt=()=>this._destroyRipple(ye);M.addEventListener("transitionend",qe),M.addEventListener("transitioncancel",yt),Ne={onTransitionEnd:qe,onTransitionCancel:yt}}),this._activeRipples.set(ye,Ne),(re||!D)&&this._finishRippleTransition(ye),ye}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,r={...fM,...t.config.animation};e.style.transitionDuration=`${r.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Nc(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(pM))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(mM),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:r}=t.config;t.state=1,!r&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=sM(t),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!oM(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,lS)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(pM.forEach(t=>{this._triggerElement.removeEventListener(t,this,lS)}),this._pointerUpEventsRegistered&&mM.forEach(t=>{this._triggerElement.removeEventListener(t,this,lS)}))}}const NO=new l.OlP("mat-ripple-global-options");let cS=(()=>{class n{constructor(e,r,o,c,h){this._elementRef=e,this._animationMode=h,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=c||{},this._rippleRenderer=new xO(this,r,e,o)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,o){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,r,{...this.rippleConfig,...o}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(oi),l.Y36(NO,8),l.Y36(l.QbO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,r){2&e&&l.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),PO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Gi,Gi]}),n})();const FO=["*",[["mat-toolbar-row"]]],LO=["*","mat-toolbar-row"],VO=BC(class{constructor(n){this._elementRef=n}});let BO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),UO=(()=>{class n extends VO{constructor(e,r,o){super(e),this._platform=r,this._document=o}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(oi),l.Y36(oe))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,r,o){if(1&e&&l.Suo(o,BO,5),2&e){let c;l.iGM(c=l.CRH())&&(r._toolbarRows=c)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,r){2&e&&l.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[l.qOj],ngContentSelectors:LO,decls:2,vars:0,template:function(e,r){1&e&&(l.F$t(FO),l.Hsn(0),l.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),HO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Gi,Gi]}),n})();function gM(...n){const t=(0,Jr.jO)(n),{args:e,keys:r}=ih(n),o=new cn.y(c=>{const{length:h}=e;if(!h)return void c.complete();const g=new Array(h);let v=h,D=h;for(let M=0;M<h;M++){let O=!1;(0,Er.Xf)(e[M]).subscribe((0,mn.x)(c,B=>{O||(O=!0,D--),g[M]=B},()=>v--,void 0,()=>{(!v||!O)&&(D||c.next(r?qf(r,g):g),c.complete())}))}});return t?o.pipe(oh(t)):o}class _M{}class yM{}class Pc{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const o=e.slice(0,r),c=o.toLowerCase(),h=e.slice(r+1).trim();this.maybeSetNormalizedName(o,c),this.headers.has(c)?this.headers.get(c).push(h):this.headers.set(c,[h])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let r=t[e];const o=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(e,o))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Pc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Pc;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Pc?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const o=("a"===t.op?this.headers.get(e):void 0)||[];o.push(...r),this.headers.set(e,o);break;case"d":const c=t.value;if(c){let h=this.headers.get(e);if(!h)return;h=h.filter(g=>-1===c.indexOf(g)),0===h.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,h)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class jO{encodeKey(t){return vM(t)}encodeValue(t){return vM(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const zO=/%(\d[a-f0-9])/gi,GO={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function vM(n){return encodeURIComponent(n).replace(zO,(t,e)=>GO[e]??t)}function UC(n){return`${n}`}class Ad{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new jO,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function $O(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const c=o.indexOf("="),[h,g]=-1==c?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,c)),t.decodeValue(o.slice(c+1))],v=e.get(h)||[];v.push(g),e.set(h,v)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e],o=Array.isArray(r)?r.map(UC):[UC(r)];this.map.set(e,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const o=t[r];Array.isArray(o)?o.forEach(c=>{e.push({param:r,value:c,op:"a"})}):e.push({param:r,value:o,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Ad({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(UC(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const o=r.indexOf(UC(t.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class WO{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function bM(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function wM(n){return typeof Blob<"u"&&n instanceof Blob}function CM(n){return typeof FormData<"u"&&n instanceof FormData}class Hy{constructor(t,e,r,o){let c;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function qO(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,c=o):c=r,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params)),this.headers||(this.headers=new Pc),this.context||(this.context=new WO),this.params){const h=this.params.toString();if(0===h.length)this.urlWithParams=e;else{const g=e.indexOf("?");this.urlWithParams=e+(-1===g?"?":g<e.length-1?"&":"")+h}}else this.params=new Ad,this.urlWithParams=e}serializeBody(){return null===this.body?null:bM(this.body)||wM(this.body)||CM(this.body)||function ZO(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ad?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||CM(this.body)?null:wM(this.body)?this.body.type||null:bM(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ad?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,c=void 0!==t.body?t.body:this.body,h=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,g=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let v=t.headers||this.headers,D=t.params||this.params;const M=t.context??this.context;return void 0!==t.setHeaders&&(v=Object.keys(t.setHeaders).reduce((O,B)=>O.set(B,t.setHeaders[B]),v)),t.setParams&&(D=Object.keys(t.setParams).reduce((O,B)=>O.set(B,t.setParams[B]),D)),new Hy(e,r,c,{params:D,headers:v,context:M,reportProgress:g,responseType:o,withCredentials:h})}}var vr=(()=>((vr=vr||{})[vr.Sent=0]="Sent",vr[vr.UploadProgress=1]="UploadProgress",vr[vr.ResponseHeader=2]="ResponseHeader",vr[vr.DownloadProgress=3]="DownloadProgress",vr[vr.Response=4]="Response",vr[vr.User=5]="User",vr))();class uS{constructor(t,e=200,r="OK"){this.headers=t.headers||new Pc,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class dS extends uS{constructor(t={}){super(t),this.type=vr.ResponseHeader}clone(t={}){return new dS({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class HC extends uS{constructor(t={}){super(t),this.type=vr.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new HC({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class EM extends uS{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function hS(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let fS=(()=>{class n{constructor(e){this.handler=e}request(e,r,o={}){let c;if(e instanceof Hy)c=e;else{let v,D;v=o.headers instanceof Pc?o.headers:new Pc(o.headers),o.params&&(D=o.params instanceof Ad?o.params:new Ad({fromObject:o.params})),c=new Hy(e,r,void 0!==o.body?o.body:null,{headers:v,context:o.context,params:D,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const h=Le(c).pipe(Hn(v=>this.handler.handle(v)));if(e instanceof Hy||"events"===o.observe)return h;const g=h.pipe(gn(v=>v instanceof HC));switch(o.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return g.pipe((0,et.U)(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return g.pipe((0,et.U)(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return g.pipe((0,et.U)(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));default:return g.pipe((0,et.U)(v=>v.body))}case"response":return g;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new Ad).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,o={}){return this.request("PATCH",e,hS(o,r))}post(e,r,o={}){return this.request("POST",e,hS(o,r))}put(e,r,o={}){return this.request("PUT",e,hS(o,r))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(_M))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class DM{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const IM=new l.OlP("HTTP_INTERCEPTORS");let YO=(()=>{class n{intercept(e,r){return r.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const KO=/^\)\]\}',?\n/;let SM=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new cn.y(r=>{const o=this.xhrFactory.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((Q,re)=>o.setRequestHeader(Q,re.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const Q=e.detectContentTypeHeader();null!==Q&&o.setRequestHeader("Content-Type",Q)}if(e.responseType){const Q=e.responseType.toLowerCase();o.responseType="json"!==Q?Q:"text"}const c=e.serializeBody();let h=null;const g=()=>{if(null!==h)return h;const Q=o.statusText||"OK",re=new Pc(o.getAllResponseHeaders()),ye=function QO(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||e.url;return h=new dS({headers:re,status:o.status,statusText:Q,url:ye}),h},v=()=>{let{headers:Q,status:re,statusText:ye,url:Ne}=g(),qe=null;204!==re&&(qe=typeof o.response>"u"?o.responseText:o.response),0===re&&(re=qe?200:0);let yt=re>=200&&re<300;if("json"===e.responseType&&"string"==typeof qe){const Yt=qe;qe=qe.replace(KO,"");try{qe=""!==qe?JSON.parse(qe):null}catch(Mt){qe=Yt,yt&&(yt=!1,qe={error:Mt,text:qe})}}yt?(r.next(new HC({body:qe,headers:Q,status:re,statusText:ye,url:Ne||void 0})),r.complete()):r.error(new EM({error:qe,headers:Q,status:re,statusText:ye,url:Ne||void 0}))},D=Q=>{const{url:re}=g(),ye=new EM({error:Q,status:o.status||0,statusText:o.statusText||"Unknown Error",url:re||void 0});r.error(ye)};let M=!1;const O=Q=>{M||(r.next(g()),M=!0);let re={type:vr.DownloadProgress,loaded:Q.loaded};Q.lengthComputable&&(re.total=Q.total),"text"===e.responseType&&!!o.responseText&&(re.partialText=o.responseText),r.next(re)},B=Q=>{let re={type:vr.UploadProgress,loaded:Q.loaded};Q.lengthComputable&&(re.total=Q.total),r.next(re)};return o.addEventListener("load",v),o.addEventListener("error",D),o.addEventListener("timeout",D),o.addEventListener("abort",D),e.reportProgress&&(o.addEventListener("progress",O),null!==c&&o.upload&&o.upload.addEventListener("progress",B)),o.send(c),r.next({type:vr.Sent}),()=>{o.removeEventListener("error",D),o.removeEventListener("abort",D),o.removeEventListener("load",v),o.removeEventListener("timeout",D),e.reportProgress&&(o.removeEventListener("progress",O),null!==c&&o.upload&&o.upload.removeEventListener("progress",B)),o.readyState!==o.DONE&&o.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Qn))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const pS=new l.OlP("XSRF_COOKIE_NAME"),mS=new l.OlP("XSRF_HEADER_NAME");class TM{}let JO=(()=>{class n{constructor(e,r,o){this.doc=e,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ha(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(oe),l.LFG(l.Lbi),l.LFG(pS))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),gS=(()=>{class n{constructor(e,r){this.tokenService=e,this.headerName=r}intercept(e,r){const o=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||o.startsWith("http://")||o.startsWith("https://"))return r.handle(e);const c=this.tokenService.getToken();return null!==c&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,c)})),r.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(TM),l.LFG(mS))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),XO=(()=>{class n{constructor(e,r){this.backend=e,this.injector=r,this.chain=null}handle(e){if(null===this.chain){const r=this.injector.get(IM,[]);this.chain=r.reduceRight((o,c)=>new DM(o,c),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(yM),l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),eN=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:gS,useClass:YO}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:pS,useValue:e.cookieName}:[],e.headerName?{provide:mS,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[gS,{provide:IM,useExisting:gS,multi:!0},{provide:TM,useClass:JO},{provide:pS,useValue:"XSRF-TOKEN"},{provide:mS,useValue:"X-XSRF-TOKEN"}]}),n})(),tN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[fS,{provide:_M,useClass:XO},SM,{provide:yM,useExisting:SM}],imports:[eN.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();const nN=["*"];let jC;function jy(n){return function rN(){if(void 0===jC&&(jC=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(jC=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return jC}()?.createHTML(n)||n}function AM(n){return Error(`Unable to find icon with the name "${n}"`)}function MM(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function RM(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Sf{constructor(t,e,r){this.url=t,this.svgText=e,this.options=r}}let $C=(()=>{class n{constructor(e,r,o,c){this._httpClient=e,this._sanitizer=r,this._errorHandler=c,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=o}addSvgIcon(e,r,o){return this.addSvgIconInNamespace("",e,r,o)}addSvgIconLiteral(e,r,o){return this.addSvgIconLiteralInNamespace("",e,r,o)}addSvgIconInNamespace(e,r,o,c){return this._addSvgIconConfig(e,r,new Sf(o,null,c))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,o,c){const h=this._sanitizer.sanitize(l.q3G.HTML,o);if(!h)throw RM(o);const g=jy(h);return this._addSvgIconConfig(e,r,new Sf("",g,c))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,o){return this._addSvgIconSetConfig(e,new Sf(r,null,o))}addSvgIconSetLiteralInNamespace(e,r,o){const c=this._sanitizer.sanitize(l.q3G.HTML,r);if(!c)throw RM(r);const h=jy(c);return this._addSvgIconSetConfig(e,new Sf("",h,o))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const r=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,e);if(!r)throw MM(e);const o=this._cachedIconsByUrl.get(r);return o?Le(zC(o)):this._loadSvgIconFromConfig(new Sf(e,null)).pipe((0,yn.b)(c=>this._cachedIconsByUrl.set(r,c)),(0,et.U)(c=>zC(c)))}getNamedSvgIcon(e,r=""){const o=kM(r,e);let c=this._svgIconConfigs.get(o);if(c)return this._getSvgFromConfig(c);if(c=this._getIconConfigFromResolvers(r,e),c)return this._svgIconConfigs.set(o,c),this._getSvgFromConfig(c);const h=this._iconSetConfigs.get(r);return h?this._getSvgFromIconSetConfigs(e,h):yi(AM(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Le(zC(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,et.U)(r=>zC(r)))}_getSvgFromIconSetConfigs(e,r){const o=this._extractIconWithNameFromAnySet(e,r);return o?Le(o):gM(r.filter(h=>!h.svgText).map(h=>this._loadSvgIconSetFromConfig(h).pipe(vi(g=>{const D=`Loading icon set URL: ${this._sanitizer.sanitize(l.q3G.RESOURCE_URL,h.url)} failed: ${g.message}`;return this._errorHandler.handleError(new Error(D)),Le(null)})))).pipe((0,et.U)(()=>{const h=this._extractIconWithNameFromAnySet(e,r);if(!h)throw AM(e);return h}))}_extractIconWithNameFromAnySet(e,r){for(let o=r.length-1;o>=0;o--){const c=r[o];if(c.svgText&&c.svgText.toString().indexOf(e)>-1){const h=this._svgElementFromConfig(c),g=this._extractSvgIconFromSet(h,e,c.options);if(g)return g}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,yn.b)(r=>e.svgText=r),(0,et.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Le(null):this._fetchIcon(e).pipe((0,yn.b)(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,o){const c=e.querySelector(`[id="${r}"]`);if(!c)return null;const h=c.cloneNode(!0);if(h.removeAttribute("id"),"svg"===h.nodeName.toLowerCase())return this._setSvgAttributes(h,o);if("symbol"===h.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(h),o);const g=this._svgElementFromString(jy("<svg></svg>"));return g.appendChild(h),this._setSvgAttributes(g,o)}_svgElementFromString(e){const r=this._document.createElement("DIV");r.innerHTML=e;const o=r.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(e){const r=this._svgElementFromString(jy("<svg></svg>")),o=e.attributes;for(let c=0;c<o.length;c++){const{name:h,value:g}=o[c];"id"!==h&&r.setAttribute(h,g)}for(let c=0;c<e.childNodes.length;c++)e.childNodes[c].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[c].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){const{url:r,options:o}=e,c=o?.withCredentials??!1;if(!this._httpClient)throw function iN(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const h=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,r);if(!h)throw MM(r);const g=this._inProgressUrlFetches.get(h);if(g)return g;const v=this._httpClient.get(h,{responseType:"text",withCredentials:c}).pipe((0,et.U)(D=>jy(D)),Vi(()=>this._inProgressUrlFetches.delete(h)),(0,Pi.B)());return this._inProgressUrlFetches.set(h,v),v}_addSvgIconConfig(e,r,o){return this._svgIconConfigs.set(kM(e,r),o),this}_addSvgIconSetConfig(e,r){const o=this._iconSetConfigs.get(e);return o?o.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){const r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let o=0;o<this._resolvers.length;o++){const c=this._resolvers[o](r,e);if(c)return oN(c)?new Sf(c.url,null,c.options):new Sf(c,null)}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(fS,8),l.LFG(as),l.LFG(oe,8),l.LFG(l.qLn))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function zC(n){return n.cloneNode(!0)}function kM(n,t){return n+":"+t}function oN(n){return!(!n.url||!n.options)}const aN=BC(class{constructor(n){this._elementRef=n}}),lN=new l.OlP("MAT_ICON_DEFAULT_OPTIONS"),cN=new l.OlP("mat-icon-location",{providedIn:"root",factory:function uN(){const n=(0,l.f3M)(oe),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),xM=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],dN=xM.map(n=>`[${n}]`).join(", "),hN=/^url\(['"]?#(.*?)['"]?\)$/;let _S=(()=>{class n extends aN{constructor(e,r,o,c,h,g){super(e),this._iconRegistry=r,this._location=c,this._errorHandler=h,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Po.w0.EMPTY,g&&(g.color&&(this.color=this.defaultColor=g.color),g.fontSet&&(this.fontSet=g.fontSet)),o||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=zr(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const o=e.childNodes[r];(1!==o.nodeType||"svg"===o.nodeName.toLowerCase())&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(o=>o.length>0);this._previousFontSetClass.forEach(o=>e.classList.remove(o)),r.forEach(o=>e.classList.add(o)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const r=this._elementsWithExternalReferences;r&&r.forEach((o,c)=>{o.forEach(h=>{c.setAttribute(h.name,`url('${e}#${h.value}')`)})})}_cacheChildrenWithExternalReferences(e){const r=e.querySelectorAll(dN),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let c=0;c<r.length;c++)xM.forEach(h=>{const g=r[c],v=g.getAttribute(h),D=v?v.match(hN):null;if(D){let M=o.get(g);M||(M=[],o.set(g,M)),M.push({name:h,value:D[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[r,o]=this._splitIconName(e);r&&(this._svgNamespace=r),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,r).pipe(En(1)).subscribe(c=>this._setSvgElement(c),c=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${o}! ${c.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36($C),l.$8M("aria-hidden"),l.Y36(cN),l.Y36(l.qLn),l.Y36(lN,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,r){2&e&&(l.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),l.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[l.qOj],ngContentSelectors:nN,decls:1,vars:0,template:function(e,r){1&e&&(l.F$t(),l.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),fN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Gi,Gi]}),n})();var pN=P(1144);const mN=["addListener","removeListener"],gN=["addEventListener","removeEventListener"],_N=["on","off"];function km(n,t,e,r){if((0,Vn.m)(e)&&(r=e,e=void 0),r)return km(n,t,e).pipe(oh(r));const[o,c]=function bN(n){return(0,Vn.m)(n.addEventListener)&&(0,Vn.m)(n.removeEventListener)}(n)?gN.map(h=>g=>n[h](t,g,e)):function yN(n){return(0,Vn.m)(n.addListener)&&(0,Vn.m)(n.removeListener)}(n)?mN.map(OM(n,t)):function vN(n){return(0,Vn.m)(n.on)&&(0,Vn.m)(n.off)}(n)?_N.map(OM(n,t)):[];if(!o&&(0,pN.z)(n))return(0,pr.z)(h=>km(h,t,e))((0,Er.Xf)(n));if(!o)throw new TypeError("Invalid event target");return new cn.y(h=>{const g=(...v)=>h.next(1<v.length?v:v[0]);return o(g),()=>c(g)})}function OM(n,t){return e=>r=>n[e](t,r)}var NM=P(4408);const $y={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:r}=$y;r&&(t=r.requestAnimationFrame,e=r.cancelAnimationFrame);const o=t(c=>{e=void 0,n(c)});return new Po.w0(()=>e?.(o))},requestAnimationFrame(...n){const{delegate:t}=$y;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=$y;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var PM=P(7565);new class CN extends PM.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let o;t=t||r.shift();do{if(o=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,o){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw o}}}(class wN extends NM.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=$y.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(t,e,r);t.actions.some(o=>o.id===e)||($y.cancelAnimationFrame(e),t._scheduled=void 0)}});let yS,DN=1;const GC={};function FM(n){return n in GC&&(delete GC[n],!0)}const IN={setImmediate(n){const t=DN++;return GC[t]=!0,yS||(yS=Promise.resolve()),yS.then(()=>FM(t)&&n()),t},clearImmediate(n){FM(n)}},{setImmediate:SN,clearImmediate:TN}=IN,WC={setImmediate(...n){const{delegate:t}=WC;return(t?.setImmediate||SN)(...n)},clearImmediate(n){const{delegate:t}=WC;return(t?.clearImmediate||TN)(n)},delegate:void 0};new class MN extends PM.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let o;t=t||r.shift();do{if(o=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,o){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw o}}}(class AN extends NM.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=WC.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(t,e,r);t.actions.some(o=>o.id===e)||(WC.clearImmediate(e),t._scheduled=void 0)}});var xN=P(3532);function LM(n,t=kh.z){return function kN(n){return(0,pn.e)((t,e)=>{let r=!1,o=null,c=null,h=!1;const g=()=>{if(c?.unsubscribe(),c=null,r){r=!1;const D=o;o=null,e.next(D)}h&&e.complete()},v=()=>{c=null,h&&e.complete()};t.subscribe((0,mn.x)(e,D=>{r=!0,o=D,c||(0,Er.Xf)(n(D)).subscribe(c=(0,mn.x)(e,g,v))},()=>{h=!0,(!r||!c||c.closed)&&e.complete()}))})}(()=>function NN(n=0,t,e=kh.P){let r=-1;return null!=t&&((0,xN.K)(t)?e=t:r=t),new cn.y(o=>{let c=function ON(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;c<0&&(c=0);let h=0;return e.schedule(function(){o.closed||(o.next(h++),0<=r?this.schedule(void 0,r):o.complete())},c)})}(n,t))}let vS=(()=>{class n{constructor(e,r,o){this._ngZone=e,this._platform=r,this._scrolled=new $t.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new cn.y(r=>{this._globalSubscription||this._addGlobalListener();const o=e>0?this._scrolled.pipe(LM(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Le()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){const o=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe(gn(c=>!c||o.indexOf(c)>-1))}getAncestorScrollContainers(e){const r=[];return this.scrollContainers.forEach((o,c)=>{this._scrollableContainsElement(c,e)&&r.push(c)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let o=Nc(r),c=e.getElementRef().nativeElement;do{if(o==c)return!0}while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>km(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.R0b),l.LFG(oi),l.LFG(oe,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zy=(()=>{class n{constructor(e,r,o,c){this.elementRef=e,this.scrollDispatcher=r,this.ngZone=o,this.dir=c,this._destroyed=new $t.x,this._elementScrolled=new cn.y(h=>this.ngZone.runOutsideAngular(()=>km(this.elementRef.nativeElement,"scroll").pipe(yr(this._destroyed)).subscribe(h)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const r=this.elementRef.nativeElement,o=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=o?e.end:e.start),null==e.right&&(e.right=o?e.start:e.end),null!=e.bottom&&(e.top=r.scrollHeight-r.clientHeight-e.bottom),o&&0!=Tm()?(null!=e.left&&(e.right=r.scrollWidth-r.clientWidth-e.left),2==Tm()?e.left=e.right:1==Tm()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=r.scrollWidth-r.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const r=this.elementRef.nativeElement;!function VI(){if(null==ai){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ai=!1,ai;if("scrollBehavior"in document.documentElement.style)ai=!0;else{const n=Element.prototype.scrollTo;ai=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return ai}()?(null!=e.top&&(r.scrollTop=e.top),null!=e.left&&(r.scrollLeft=e.left)):r.scrollTo(e)}measureScrollOffset(e){const r="left",o="right",c=this.elementRef.nativeElement;if("top"==e)return c.scrollTop;if("bottom"==e)return c.scrollHeight-c.clientHeight-c.scrollTop;const h=this.dir&&"rtl"==this.dir.value;return"start"==e?e=h?o:r:"end"==e&&(e=h?r:o),h&&2==Tm()?e==r?c.scrollWidth-c.clientWidth-c.scrollLeft:c.scrollLeft:h&&1==Tm()?e==r?c.scrollLeft+c.scrollWidth-c.clientWidth:-c.scrollLeft:e==r?c.scrollLeft:c.scrollWidth-c.clientWidth-c.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(vS),l.Y36(l.R0b),l.Y36(LC,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),VM=(()=>{class n{constructor(e,r,o){this._platform=e,this._change=new $t.x,this._changeListener=c=>{this._change.next(c)},this._document=o,r.runOutsideAngular(()=>{if(e.isBrowser){const c=this._getWindow();c.addEventListener("resize",this._changeListener),c.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:o}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+o,right:e.left+r,height:o,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),o=e.documentElement,c=o.getBoundingClientRect();return{top:-c.top||e.body.scrollTop||r.scrollY||o.scrollTop||0,left:-c.left||e.body.scrollLeft||r.scrollX||o.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(LM(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(oi),l.LFG(l.R0b),l.LFG(oe,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),LN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[VC,qC,VC,qC]}),n})();class BM{}const Fc="*";function UM(n,t){return{type:7,name:n,definitions:t,options:{}}}function bS(n,t=null){return{type:4,styles:t,timings:n}}function HM(n,t=null){return{type:2,steps:n,options:t}}function xm(n){return{type:6,styles:n,offset:null}}function wS(n,t,e){return{type:0,name:n,styles:t,options:e}}function CS(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function jM(n){Promise.resolve(null).then(n)}class Gy{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){jM(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class $M{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,o=0;const c=this.players.length;0==c?jM(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++e==c&&this._onFinish()}),h.onDestroy(()=>{++r==c&&this._onDestroy()}),h.onStart(()=>{++o==c&&this._onStart()})}),this.totalTime=this.players.reduce((h,g)=>Math.max(h,g.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const o=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(o)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}const ZC=["*"],BN=["content"];function UN(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",2),l.NdJ("click",function(){l.CHM(e);const o=l.oxw();return l.KtG(o._onBackdropClicked())}),l.qZA()}if(2&n){const e=l.oxw();l.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function HN(n,t){1&n&&(l.TgZ(0,"mat-drawer-content"),l.Hsn(1,2),l.qZA())}const jN=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],$N=["mat-drawer","mat-drawer-content","*"];function zN(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",2),l.NdJ("click",function(){l.CHM(e);const o=l.oxw();return l.KtG(o._onBackdropClicked())}),l.qZA()}if(2&n){const e=l.oxw();l.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function GN(n,t){1&n&&(l.TgZ(0,"mat-sidenav-content"),l.Hsn(1,2),l.qZA())}const WN=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],qN=["mat-sidenav","mat-sidenav-content","*"],zM={transformDrawer:UM("transform",[wS("open, open-instant",xm({transform:"none",visibility:"visible"})),wS("void",xm({"box-shadow":"none",visibility:"hidden"})),CS("void => open-instant",bS("0ms")),CS("void <=> open, open-instant => void",bS("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},YN=new l.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function KN(){return!1}}),DS=new l.OlP("MAT_DRAWER_CONTAINER");let YC=(()=>{class n extends zy{constructor(e,r,o,c,h){super(o,c,h),this._changeDetectorRef=e,this._container=r}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.sBO),l.Y36((0,l.Gpc)(()=>WM)),l.Y36(l.SBq),l.Y36(vS),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,r){2&e&&l.Udp("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[l._Bn([{provide:zy,useExisting:n}]),l.qOj],ngContentSelectors:ZC,decls:1,vars:0,template:function(e,r){1&e&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),GM=(()=>{class n{constructor(e,r,o,c,h,g,v,D){this._elementRef=e,this._focusTrapFactory=r,this._focusMonitor=o,this._platform=c,this._ngZone=h,this._interactivityChecker=g,this._doc=v,this._container=D,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new $t.x,this._animationEnd=new $t.x,this._animationState="void",this.openedChange=new l.vpe(!0),this._openedStream=this.openedChange.pipe(gn(M=>M),(0,et.U)(()=>{})),this.openedStart=this._animationStarted.pipe(gn(M=>M.fromState!==M.toState&&0===M.toState.indexOf("open")),$s(void 0)),this._closedStream=this.openedChange.pipe(gn(M=>!M),(0,et.U)(()=>{})),this.closedStart=this._animationStarted.pipe(gn(M=>M.fromState!==M.toState&&"void"===M.toState),$s(void 0)),this._destroyed=new $t.x,this.onPositionChanged=new l.vpe,this._modeChanged=new $t.x,this.openedChange.subscribe(M=>{M?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{km(this._elementRef.nativeElement,"keydown").pipe(gn(M=>27===M.keyCode&&!this.disableClose&&!function Zx(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(M)),yr(this._destroyed)).subscribe(M=>this._ngZone.run(()=>{this.close(),M.stopPropagation(),M.preventDefault()}))}),this._animationEnd.pipe(Kg((M,O)=>M.fromState===O.fromState&&M.toState===O.toState)).subscribe(M=>{const{fromState:O,toState:B}=M;(0===B.indexOf("open")&&"void"===O||"void"===B&&0===O.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=zr(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=zr(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(zr(e))}_forceFocus(e,r){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const o=()=>{e.removeEventListener("blur",o),e.removeEventListener("mousedown",o),e.removeAttribute("tabindex")};e.addEventListener("blur",o),e.addEventListener("mousedown",o)})),e.focus(r)}_focusByCssSelector(e,r){let o=this._elementRef.nativeElement.querySelector(e);o&&this._forceFocus(o,r)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{!r&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,r){e&&r&&(this._openedVia=r);const o=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),o}_setOpen(e,r,o){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",r&&this._restoreFocus(o)),this._updateFocusTrapState(),new Promise(c=>{this.openedChange.pipe(En(1)).subscribe(h=>c(h?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const r=this._elementRef.nativeElement,o=r.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),o.insertBefore(this._anchor,r)),o.appendChild(r)):this._anchor&&this._anchor.parentNode.insertBefore(r,this._anchor)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(fO),l.Y36(oS),l.Y36(oi),l.Y36(l.R0b),l.Y36(nM),l.Y36(oe,8),l.Y36(DS,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(e,r){if(1&e&&l.Gf(BN,5),2&e){let o;l.iGM(o=l.CRH())&&(r._content=o.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,r){1&e&&l.WFA("@transform.start",function(c){return r._animationStarted.next(c)})("@transform.done",function(c){return r._animationEnd.next(c)}),2&e&&(l.uIk("align",null),l.d8E("@transform",r._animationState),l.ekj("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:ZC,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,r){1&e&&(l.F$t(),l.TgZ(0,"div",0,1),l.Hsn(2),l.qZA())},dependencies:[zy],encapsulation:2,data:{animation:[zM.transformDrawer]},changeDetection:0}),n})(),WM=(()=>{class n{constructor(e,r,o,c,h,g=!1,v){this._dir=e,this._element=r,this._ngZone=o,this._changeDetectorRef=c,this._animationMode=v,this._drawers=new l.n_E,this.backdropClick=new l.vpe,this._destroyed=new $t.x,this._doCheckSubject=new $t.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new $t.x,e&&e.change.pipe(yr(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),h.change().pipe(yr(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=g}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=zr(e)}get hasBackdrop(){return this._backdropOverride??(!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode)}set hasBackdrop(e){this._backdropOverride=null==e?null:zr(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(ys(this._allDrawers),yr(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(r=>!r._container||r._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(ys(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(sS(10),yr(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,r=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const o=this._left._getWidth();e+=o,r-=o}if(this._right&&this._right.opened)if("side"==this._right.mode)r+=this._right._getWidth();else if("push"==this._right.mode){const o=this._right._getWidth();r+=o,e-=o}e=e||null,r=r||null,(e!==this._contentMargins.left||r!==this._contentMargins.right)&&(this._contentMargins={left:e,right:r},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(gn(r=>r.fromState!==r.toState),yr(this._drawers.changes)).subscribe(r=>{"open-instant"!==r.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(yr(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(yr(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(En(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(yr((0,gi.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const r=this._element.nativeElement.classList,o="mat-drawer-container-has-open";e?r.add(o):r.remove(o)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(LC,8),l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(l.sBO),l.Y36(VM),l.Y36(YN),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,r,o){if(1&e&&(l.Suo(o,YC,5),l.Suo(o,GM,5)),2&e){let c;l.iGM(c=l.CRH())&&(r._content=c.first),l.iGM(c=l.CRH())&&(r._allDrawers=c)}},viewQuery:function(e,r){if(1&e&&l.Gf(YC,5),2&e){let o;l.iGM(o=l.CRH())&&(r._userContent=o.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,r){2&e&&l.ekj("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[l._Bn([{provide:DS,useExisting:n}])],ngContentSelectors:$N,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,r){1&e&&(l.F$t(jN),l.YNc(0,UN,1,2,"div",0),l.Hsn(1),l.Hsn(2,1),l.YNc(3,HN,2,0,"mat-drawer-content",1)),2&e&&(l.Q6J("ngIf",r.hasBackdrop),l.xp6(3),l.Q6J("ngIf",!r._content))},dependencies:[wn,YC],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),IS=(()=>{class n extends YC{constructor(e,r,o,c,h){super(e,r,o,c,h)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.sBO),l.Y36((0,l.Gpc)(()=>ZM)),l.Y36(l.SBq),l.Y36(vS),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,r){2&e&&l.Udp("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[l._Bn([{provide:zy,useExisting:n}]),l.qOj],ngContentSelectors:ZC,decls:1,vars:0,template:function(e,r){1&e&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),qM=(()=>{class n extends GM{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=zr(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=iS(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=iS(e)}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,r){2&e&&(l.uIk("align",null),l.Udp("top",r.fixedInViewport?r.fixedTopGap:null,"px")("bottom",r.fixedInViewport?r.fixedBottomGap:null,"px"),l.ekj("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened)("mat-sidenav-fixed",r.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[l.qOj],ngContentSelectors:ZC,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,r){1&e&&(l.F$t(),l.TgZ(0,"div",0,1),l.Hsn(2),l.qZA())},dependencies:[zy],encapsulation:2,data:{animation:[zM.transformDrawer]},changeDetection:0}),n})(),ZM=(()=>{class n extends WM{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(e,r,o){if(1&e&&(l.Suo(o,IS,5),l.Suo(o,qM,5)),2&e){let c;l.iGM(c=l.CRH())&&(r._content=c.first),l.iGM(c=l.CRH())&&(r._allDrawers=c)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,r){2&e&&l.ekj("mat-drawer-container-explicit-backdrop",r._backdropOverride)},exportAs:["matSidenavContainer"],features:[l._Bn([{provide:DS,useExisting:n}]),l.qOj],ngContentSelectors:qN,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,r){1&e&&(l.F$t(WN),l.YNc(0,zN,1,2,"div",0),l.Hsn(1),l.Hsn(2,1),l.YNc(3,GN,2,0,"mat-sidenav-content",1)),2&e&&(l.Q6J("ngIf",r.hasBackdrop),l.xp6(3),l.Q6J("ngIf",!r._content))},dependencies:[wn,IS],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),QN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Ti,Gi,qC,qC,Gi]}),n})();const YM=["mat-button",""],KM=["*"],eP=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],tP=BC(SO(TO(class{constructor(n){this._elementRef=n}})));let KC=(()=>{class n extends tP{constructor(e,r,o){super(e),this._focusMonitor=r,this._animationMode=o,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const c of eP)this._hasHostAttributes(c)&&this._getHostElement().classList.add(c);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,r){e?this._focusMonitor.focusVia(this._getHostElement(),e,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(oS),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,r){if(1&e&&l.Gf(cS,5),2&e){let o;l.iGM(o=l.CRH())&&(r.ripple=o.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,r){2&e&&(l.uIk("disabled",r.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:YM,ngContentSelectors:KM,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,r){1&e&&(l.F$t(),l.TgZ(0,"span",0),l.Hsn(1),l.qZA(),l._UZ(2,"span",1)(3,"span",2)),2&e&&(l.xp6(2),l.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),l.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},dependencies:[cS],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),nP=(()=>{class n extends KC{constructor(e,r,o,c){super(r,e,o),this._ngZone=c,this._haltDisabledEvents=h=>{this.disabled&&(h.preventDefault(),h.stopImmediatePropagation())}}ngAfterViewInit(){super.ngAfterViewInit(),this._ngZone?this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}):this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(oS),l.Y36(l.SBq),l.Y36(l.QbO,8),l.Y36(l.R0b,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(e,r){2&e&&(l.uIk("tabindex",r.disabled?-1:r.tabIndex)("disabled",r.disabled||null)("aria-disabled",r.disabled.toString()),l.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[l.qOj],attrs:YM,ngContentSelectors:KM,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,r){1&e&&(l.F$t(),l.TgZ(0,"span",0),l.Hsn(1),l.qZA(),l._UZ(2,"span",1)(3,"span",2)),2&e&&(l.xp6(2),l.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),l.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},dependencies:[cS],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),rP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[PO,Gi,Gi]}),n})();function iP(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"button",5)(1,"mat-icon",2),l.NdJ("click",function(){l.CHM(e);const o=l.oxw();return l.KtG(o.auth.logout())}),l._uU(2,"power_settings_new"),l.qZA()()}}function sP(n,t){1&n&&(l.TgZ(0,"button",5)(1,"mat-icon",12),l._uU(2,"lock_open"),l.qZA()())}let oP=(()=>{class n{constructor(e,r){this.fireauth=e,this.auth=r,this.title="pronoworlds",this.signedIn=!1,this.fireauth.onAuthStateChanged(o=>{this.signedIn=!!o})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(oc),l.Y36(Df))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:24,vars:2,consts:[["color","primary"],["id","menu-button","mat-icon-button","","color","basic"],[3,"click"],[1,"titre"],[1,"right-elements"],["mat-icon-button","","color","basic"],["routerLink",""],["mat-icon-button","","color","basic",4,"ngIf"],["position","start","mode","push"],["sidenav",""],["mat-button","","color","primary",1,"links",3,"click"],["mat-button","","color","primary","routerLink","ranking",1,"links",3,"click"],["routerLink","login"]],template:function(e,r){if(1&e){const o=l.EpF();l.TgZ(0,"mat-toolbar",0)(1,"button",1)(2,"mat-icon",2),l.NdJ("click",function(){l.CHM(o);const h=l.MAs(14);return l.KtG(h.toggle())}),l._uU(3,"menu"),l.qZA()(),l.TgZ(4,"span",3),l._uU(5,"Prono Worlds"),l.qZA(),l._UZ(6,"span",4),l.TgZ(7,"button",5)(8,"mat-icon",6),l._uU(9,"home"),l.qZA()(),l.YNc(10,iP,3,0,"button",7),l.YNc(11,sP,3,0,"button",7),l.qZA(),l.TgZ(12,"mat-sidenav-container")(13,"mat-sidenav",8,9)(15,"mat-nav-list")(16,"a",10),l.NdJ("click",function(){l.CHM(o);const h=l.MAs(14);return l.KtG(h.close())}),l._uU(17," Profil "),l.qZA(),l.TgZ(18,"a",10),l.NdJ("click",function(){l.CHM(o);const h=l.MAs(14);return l.KtG(h.close())}),l._uU(19," Pronostiquer "),l.qZA(),l.TgZ(20,"a",11),l.NdJ("click",function(){l.CHM(o);const h=l.MAs(14);return l.KtG(h.close())}),l._uU(21," Classement "),l.qZA()()(),l.TgZ(22,"mat-sidenav-content"),l._UZ(23,"router-outlet"),l.qZA()()}2&e&&(l.xp6(10),l.Q6J("ngIf",r.signedIn),l.xp6(1),l.Q6J("ngIf",!r.signedIn))},dependencies:[wn,UO,_S,qM,ZM,IS,KC,nP,lp,ju,Cp],styles:["#menu-button[_ngcontent-%COMP%]{margin-right:20px}.right-elements[_ngcontent-%COMP%]{flex:1}mat-sidenav-container[_ngcontent-%COMP%]{height:100%}ul[_ngcontent-%COMP%]{text-decoration:none;list-style:none}.titre[_ngcontent-%COMP%]{font-size:larger}.links[_ngcontent-%COMP%]{font-size:large;padding:0;margin-left:0;width:100%}"]}),n})();function SS(n){return n&&"function"==typeof n.connect}class QM{applyChanges(t,e,r,o,c){t.forEachOperation((h,g,v)=>{let D,M;if(null==h.previousIndex){const O=r(h,g,v);D=e.createEmbeddedView(O.templateRef,O.context,O.index),M=1}else null==v?(e.remove(g),M=3):(D=e.get(g),e.move(D,v),M=2);c&&c({context:D?.context,operation:M,record:h})})}detach(){}}const Wy=new l.OlP("_ViewRepeater"),lP=[[["caption"]],[["colgroup"],["col"]]],cP=["caption","colgroup, col"];function TS(n){return class extends n{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=zr(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const Om=new l.OlP("CDK_TABLE");let Nm=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),Pm=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),QC=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class fP{}const pP=TS(fP);let Lc=(()=>{class n extends pP{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const r=this._stickyEnd;this._stickyEnd=zr(e),this._hasStickyChanged=r!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Om,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,r,o){if(1&e&&(l.Suo(o,Nm,5),l.Suo(o,Pm,5),l.Suo(o,QC,5)),2&e){let c;l.iGM(c=l.CRH())&&(r.cell=c.first),l.iGM(c=l.CRH())&&(r.headerCell=c.first),l.iGM(c=l.CRH())&&(r.footerCell=c.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[l._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),l.qOj]}),n})();class AS{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let MS=(()=>{class n extends AS{constructor(e,r){super(e,r)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Lc),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[l.qOj]}),n})(),RS=(()=>{class n extends AS{constructor(e,r){if(super(e,r),1===e._table?._elementRef.nativeElement.nodeType){const o=e._table._elementRef.nativeElement.getAttribute("role");r.nativeElement.setAttribute("role","grid"===o||"treegrid"===o?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Lc),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[l.qOj]}),n})();class eR{constructor(){this.tasks=[],this.endTasks=[]}}const kS=new l.OlP("_COALESCED_STYLE_SCHEDULER");let tR=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new $t.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new eR,this._getScheduleObservable().pipe(yr(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new eR;for(const r of e.tasks)r();for(const r of e.endTasks)r()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,Pt.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(En(1))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),xS=(()=>{class n{constructor(e,r){this.template=e,this._differs=r}ngOnChanges(e){if(!this._columnsDiffer){const r=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(r).create(),this._columnsDiffer.diff(r)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof qy?e.headerCell.template:this instanceof Zy?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();class mP extends xS{}const gP=TS(mP);let qy=(()=>{class n extends gP{constructor(e,r,o){super(e,r),this._table=o}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4),l.Y36(Om,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[l.qOj,l.TTD]}),n})();class _P extends xS{}const yP=TS(_P);let Zy=(()=>{class n extends yP{constructor(e,r,o){super(e,r),this._table=o}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4),l.Y36(Om,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[l.qOj,l.TTD]}),n})(),JC=(()=>{class n extends xS{constructor(e,r,o){super(e,r),this._table=o}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4),l.Y36(Om,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[l.qOj]}),n})(),Vc=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),OS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,r){1&e&&l.GkF(0,0)},dependencies:[Vc],encapsulation:2}),n})(),PS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,r){1&e&&l.GkF(0,0)},dependencies:[Vc],encapsulation:2}),n})(),XC=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const nR=["top","bottom","left","right"];class vP{constructor(t,e,r,o,c=!0,h=!0,g){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=r,this._coalescedStyleScheduler=o,this._isBrowser=c,this._needsPositionStickyOnElement=h,this._positionListener=g,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const r=[];for(const o of t)if(o.nodeType===o.ELEMENT_NODE){r.push(o);for(let c=0;c<o.children.length;c++)r.push(o.children[c])}this._coalescedStyleScheduler.schedule(()=>{for(const o of r)this._removeStickyStyle(o,e)})}updateStickyColumns(t,e,r,o=!0){if(!t.length||!this._isBrowser||!e.some(B=>B)&&!r.some(B=>B))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const c=t[0],h=c.children.length,g=this._getCellWidths(c,o),v=this._getStickyStartColumnPositions(g,e),D=this._getStickyEndColumnPositions(g,r),M=e.lastIndexOf(!0),O=r.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const B="rtl"===this.direction,Q=B?"right":"left",re=B?"left":"right";for(const ye of t)for(let Ne=0;Ne<h;Ne++){const qe=ye.children[Ne];e[Ne]&&this._addStickyStyle(qe,Q,v[Ne],Ne===M),r[Ne]&&this._addStickyStyle(qe,re,D[Ne],Ne===O)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===M?[]:g.slice(0,M+1).map((ye,Ne)=>e[Ne]?ye:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===O?[]:g.slice(O).map((ye,Ne)=>r[Ne+O]?ye:null).reverse()}))})}stickRows(t,e,r){if(!this._isBrowser)return;const o="bottom"===r?t.slice().reverse():t,c="bottom"===r?e.slice().reverse():e,h=[],g=[],v=[];for(let M=0,O=0;M<o.length;M++){if(!c[M])continue;h[M]=O;const B=o[M];v[M]=this._isNativeHtmlTable?Array.from(B.children):[B];const Q=B.getBoundingClientRect().height;O+=Q,g[M]=Q}const D=c.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let M=0;M<o.length;M++){if(!c[M])continue;const O=h[M],B=M===D;for(const Q of v[M])this._addStickyStyle(Q,r,O,B)}"top"===r?this._positionListener?.stickyHeaderRowsUpdated({sizes:g,offsets:h,elements:v}):this._positionListener?.stickyFooterRowsUpdated({sizes:g,offsets:h,elements:v})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const r=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(o=>!o)?this._removeStickyStyle(r,["bottom"]):this._addStickyStyle(r,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const o of e)t.style[o]="",t.classList.remove(this._borderCellCss[o]);nR.some(o=>-1===e.indexOf(o)&&t.style[o])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,r,o){t.classList.add(this._stickCellCss),o&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${r}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let r=0;for(const o of nR)t.style[o]&&(r+=e[o]);return r?`${r}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const r=[],o=t.children;for(let c=0;c<o.length;c++)r.push(o[c].getBoundingClientRect().width);return this._cachedCellWidths=r,r}_getStickyStartColumnPositions(t,e){const r=[];let o=0;for(let c=0;c<t.length;c++)e[c]&&(r[c]=o,o+=t[c]);return r}_getStickyEndColumnPositions(t,e){const r=[];let o=0;for(let c=t.length;c>0;c--)e[c]&&(r[c]=o,o+=t[c]);return r}}const FS=new l.OlP("CDK_SPL");let eE=(()=>{class n{constructor(e,r){this.viewContainer=e,this.elementRef=r}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),tE=(()=>{class n{constructor(e,r){this.viewContainer=e,this.elementRef=r}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),nE=(()=>{class n{constructor(e,r){this.viewContainer=e,this.elementRef=r}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),rE=(()=>{class n{constructor(e,r){this.viewContainer=e,this.elementRef=r}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),iE=(()=>{class n{constructor(e,r,o,c,h,g,v,D,M,O,B,Q){this._differs=e,this._changeDetectorRef=r,this._elementRef=o,this._dir=h,this._platform=v,this._viewRepeater=D,this._coalescedStyleScheduler=M,this._viewportRuler=O,this._stickyPositioningListener=B,this._ngZone=Q,this._onDestroy=new $t.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new l.vpe,this.viewChange=new Ar({start:0,end:Number.MAX_VALUE}),c||this._elementRef.nativeElement.setAttribute("role","table"),this._document=g,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=zr(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=zr(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,r)=>this.trackBy?this.trackBy(r.dataIndex,r.data):r),this._viewportRuler.change().pipe(yr(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const r=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||r,this._forceRecalculateCellWidths=r,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),SS(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const r=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,r,(o,c,h)=>this._getEmbeddedViewArgs(o.item,h),o=>o.item.data,o=>{1===o.operation&&o.context&&this._renderCellTemplateForItem(o.record.item.rowDef,o.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(o=>{r.get(o.currentIndex).context.$implicit=o.item.data}),this._updateNoDataRow(),this._ngZone&&l.R0b.isInAngularZone()?this._ngZone.onStable.pipe(En(1),yr(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),o=this._elementRef.nativeElement.querySelector("thead");o&&(o.style.display=e.length?"":"none");const c=this._headerRowDefs.map(h=>h.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,c,"top"),this._headerRowDefs.forEach(h=>h.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),o=this._elementRef.nativeElement.querySelector("tfoot");o&&(o.style.display=e.length?"":"none");const c=this._footerRowDefs.map(h=>h.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,c,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,c),this._footerRowDefs.forEach(h=>h.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._getRenderedRows(this._rowOutlet),o=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...r,...o],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((c,h)=>{this._addStickyColumnStyles([c],this._headerRowDefs[h])}),this._rowDefs.forEach(c=>{const h=[];for(let g=0;g<r.length;g++)this._renderRows[g].rowDef===c&&h.push(r[g]);this._addStickyColumnStyles(h,c)}),o.forEach((c,h)=>{this._addStickyColumnStyles([c],this._footerRowDefs[h])}),Array.from(this._columnDefsByName.values()).forEach(c=>c.resetStickyChanged())}_getAllRenderRows(){const e=[],r=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let o=0;o<this._data.length;o++){let c=this._data[o];const h=this._getRenderRowsForData(c,o,r.get(c));this._cachedRenderRowsMap.has(c)||this._cachedRenderRowsMap.set(c,new WeakMap);for(let g=0;g<h.length;g++){let v=h[g];const D=this._cachedRenderRowsMap.get(v.data);D.has(v.rowDef)?D.get(v.rowDef).push(v):D.set(v.rowDef,[v]),e.push(v)}}return e}_getRenderRowsForData(e,r,o){return this._getRowDefs(e,r).map(h=>{const g=o&&o.has(h)?o.get(h):[];if(g.length){const v=g.shift();return v.dataIndex=r,v}return{data:e,rowDef:h,dataIndex:r}})}_cacheColumnDefs(){this._columnDefsByName.clear(),sE(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(r=>{this._columnDefsByName.has(r.name),this._columnDefsByName.set(r.name,r)})}_cacheRowDefs(){this._headerRowDefs=sE(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=sE(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=sE(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(r=>!r.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(h,g)=>h||!!g.getColumnsDiff(),r=this._rowDefs.reduce(e,!1);r&&this._forceRenderDataRows();const o=this._headerRowDefs.reduce(e,!1);o&&this._forceRenderHeaderRows();const c=this._footerRowDefs.reduce(e,!1);return c&&this._forceRenderFooterRows(),r||o||c}_switchDataSource(e){this._data=[],SS(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;SS(this.dataSource)?e=this.dataSource.connect(this):function aP(n){return!!n&&(n instanceof cn.y||(0,Vn.m)(n.lift)&&(0,Vn.m)(n.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=Le(this.dataSource)),this._renderChangeSubscription=e.pipe(yr(this._onDestroy)).subscribe(r=>{this._data=r||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,r)=>this._renderRow(this._headerRowOutlet,e,r)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,r)=>this._renderRow(this._footerRowOutlet,e,r)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,r){const o=Array.from(r.columns||[]).map(g=>this._columnDefsByName.get(g)),c=o.map(g=>g.sticky),h=o.map(g=>g.stickyEnd);this._stickyStyler.updateStickyColumns(e,c,h,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const r=[];for(let o=0;o<e.viewContainer.length;o++){const c=e.viewContainer.get(o);r.push(c.rootNodes[0])}return r}_getRowDefs(e,r){if(1==this._rowDefs.length)return[this._rowDefs[0]];let o=[];if(this.multiTemplateDataRows)o=this._rowDefs.filter(c=>!c.when||c.when(r,e));else{let c=this._rowDefs.find(h=>h.when&&h.when(r,e))||this._defaultRowDef;c&&o.push(c)}return o}_getEmbeddedViewArgs(e,r){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:r}}_renderRow(e,r,o,c={}){const h=e.viewContainer.createEmbeddedView(r.template,c,o);return this._renderCellTemplateForItem(r,c),h}_renderCellTemplateForItem(e,r){for(let o of this._getCellTemplates(e))Vc.mostRecentCellOutlet&&Vc.mostRecentCellOutlet._viewContainer.createEmbeddedView(o,r);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let r=0,o=e.length;r<o;r++){const h=e.get(r).context;h.count=o,h.first=0===r,h.last=r===o-1,h.even=r%2==0,h.odd=!h.even,this.multiTemplateDataRows?(h.dataIndex=this._renderRows[r].dataIndex,h.renderIndex=r):h.index=this._renderRows[r].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,r=>{const o=this._columnDefsByName.get(r);return e.extractCellTemplate(o)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),r=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const o of r){const c=this._document.createElement(o.tag);c.setAttribute("role","rowgroup");for(const h of o.outlets)c.appendChild(h.elementRef.nativeElement);e.appendChild(c)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(r,o)=>r||o.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new vP(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Le()).pipe(yr(this._onDestroy)).subscribe(r=>{this._stickyStyler.direction=r,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(r=>!r._table||r._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const r=0===this._rowOutlet.viewContainer.length;if(r===this._isShowingNoDataRow)return;const o=this._noDataRowOutlet.viewContainer;if(r){const c=o.createEmbeddedView(e.templateRef),h=c.rootNodes[0];1===c.rootNodes.length&&h?.nodeType===this._document.ELEMENT_NODE&&(h.setAttribute("role","row"),h.classList.add(e._contentClassName))}else o.clear();this._isShowingNoDataRow=r}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.ZZ4),l.Y36(l.sBO),l.Y36(l.SBq),l.$8M("role"),l.Y36(LC,8),l.Y36(oe),l.Y36(oi),l.Y36(Wy),l.Y36(kS),l.Y36(VM),l.Y36(FS,12),l.Y36(l.R0b,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,r,o){if(1&e&&(l.Suo(o,XC,5),l.Suo(o,Lc,5),l.Suo(o,JC,5),l.Suo(o,qy,5),l.Suo(o,Zy,5)),2&e){let c;l.iGM(c=l.CRH())&&(r._noDataRow=c.first),l.iGM(c=l.CRH())&&(r._contentColumnDefs=c),l.iGM(c=l.CRH())&&(r._contentRowDefs=c),l.iGM(c=l.CRH())&&(r._contentHeaderRowDefs=c),l.iGM(c=l.CRH())&&(r._contentFooterRowDefs=c)}},viewQuery:function(e,r){if(1&e&&(l.Gf(eE,7),l.Gf(tE,7),l.Gf(nE,7),l.Gf(rE,7)),2&e){let o;l.iGM(o=l.CRH())&&(r._rowOutlet=o.first),l.iGM(o=l.CRH())&&(r._headerRowOutlet=o.first),l.iGM(o=l.CRH())&&(r._footerRowOutlet=o.first),l.iGM(o=l.CRH())&&(r._noDataRowOutlet=o.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,r){2&e&&l.ekj("cdk-table-fixed-layout",r.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[l._Bn([{provide:Om,useExisting:n},{provide:Wy,useClass:QM},{provide:kS,useClass:tR},{provide:FS,useValue:null}])],ngContentSelectors:cP,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,r){1&e&&(l.F$t(lP),l.Hsn(0),l.Hsn(1,1),l.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[eE,tE,nE,rE],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function sE(n,t){return n.concat(Array.from(t))}let wP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[LN]}),n})();const CP=[[["caption"]],[["colgroup"],["col"]]],EP=["caption","colgroup, col"];let iR=(()=>{class n extends iE{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,r){2&e&&l.ekj("mat-table-fixed-layout",r.fixedLayout)},exportAs:["matTable"],features:[l._Bn([{provide:Wy,useClass:QM},{provide:iE,useExisting:n},{provide:Om,useExisting:n},{provide:kS,useClass:tR},{provide:FS,useValue:null}]),l.qOj],ngContentSelectors:EP,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,r){1&e&&(l.F$t(CP),l.Hsn(0),l.Hsn(1,1),l.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[eE,tE,nE,rE],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})(),LS=(()=>{class n extends Nm{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matCellDef",""]],features:[l._Bn([{provide:Nm,useExisting:n}]),l.qOj]}),n})(),VS=(()=>{class n extends Pm{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[l._Bn([{provide:Pm,useExisting:n}]),l.qOj]}),n})(),BS=(()=>{class n extends Lc{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[l._Bn([{provide:Lc,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),l.qOj]}),n})(),US=(()=>{class n extends MS{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[l.qOj]}),n})(),HS=(()=>{class n extends RS{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[l.qOj]}),n})(),sR=(()=>{class n extends qy{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[l._Bn([{provide:qy,useExisting:n}]),l.qOj]}),n})(),oR=(()=>{class n extends JC{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[l._Bn([{provide:JC,useExisting:n}]),l.qOj]}),n})(),aR=(()=>{class n extends OS{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[l._Bn([{provide:OS,useExisting:n}]),l.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,r){1&e&&l.GkF(0,0)},dependencies:[Vc],encapsulation:2}),n})(),lR=(()=>{class n extends PS{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[l._Bn([{provide:PS,useExisting:n}]),l.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,r){1&e&&l.GkF(0,0)},dependencies:[Vc],encapsulation:2}),n})(),OP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[wP,Gi,Gi]}),n})(),cR=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),Tf=(()=>{class n extends cR{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const Ol=new l.OlP("NgValueAccessor"),FP={provide:Ol,useExisting:(0,l.Gpc)(()=>Yy),multi:!0},VP=new l.OlP("CompositionEventMode");let Yy=(()=>{class n extends cR{constructor(e,r,o){super(e,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function LP(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(VP,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&l.NdJ("input",function(c){return r._handleInput(c.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(c){return r._compositionEnd(c.target.value)})},features:[l._Bn([FP]),l.qOj]}),n})();function Md(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function dR(n){return null!=n&&"number"==typeof n.length}const Ci=new l.OlP("NgValidators"),Rd=new l.OlP("NgAsyncValidators"),UP=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Bc{static min(t){return function hR(n){return t=>{if(Md(t.value)||Md(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function fR(n){return t=>{if(Md(t.value)||Md(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function pR(n){return Md(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function mR(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function gR(n){return Md(n.value)||UP.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function _R(n){return t=>Md(t.value)||!dR(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function yR(n){return t=>dR(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function vR(n){if(!n)return oE;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(Md(r.value))return null;const o=r.value;return t.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}(t)}static nullValidator(t){return null}static compose(t){return IR(t)}static composeAsync(t){return SR(t)}}function oE(n){return null}function bR(n){return null!=n}function wR(n){return(0,l.QGY)(n)?(0,Pt.D)(n):n}function CR(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function ER(n,t){return t.map(e=>e(n))}function DR(n){return n.map(t=>function HP(n){return!n.validate}(t)?t:e=>t.validate(e))}function IR(n){if(!n)return null;const t=n.filter(bR);return 0==t.length?null:function(e){return CR(ER(e,t))}}function jS(n){return null!=n?IR(DR(n)):null}function SR(n){if(!n)return null;const t=n.filter(bR);return 0==t.length?null:function(e){return gM(ER(e,t).map(wR)).pipe((0,et.U)(CR))}}function $S(n){return null!=n?SR(DR(n)):null}function TR(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function AR(n){return n._rawValidators}function MR(n){return n._rawAsyncValidators}function zS(n){return n?Array.isArray(n)?n:[n]:[]}function aE(n,t){return Array.isArray(n)?n.includes(t):n===t}function RR(n,t){const e=zS(t);return zS(n).forEach(o=>{aE(e,o)||e.push(o)}),e}function kR(n,t){return zS(t).filter(e=>!aE(n,e))}class xR{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=jS(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=$S(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Wi extends xR{get formDirective(){return null}get path(){return null}}class Uc extends xR{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class OR{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let GS=(()=>{class n extends OR{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Uc,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[l.qOj]}),n})(),WS=(()=>{class n extends OR{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Wi,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[l.qOj]}),n})();const Ky="VALID",cE="INVALID",Fm="PENDING",Qy="DISABLED";function KS(n){return(uE(n)?n.validators:n)||null}function PR(n){return Array.isArray(n)?jS(n):n||null}function QS(n,t){return(uE(t)?t.asyncValidators:n)||null}function FR(n){return Array.isArray(n)?$S(n):n||null}function uE(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function LR(n,t,e){const r=n.controls;if(!(t?Object.keys(r):r).length)throw new l.vHH(1e3,"");if(!r[e])throw new l.vHH(1001,"")}function VR(n,t,e){n._forEachChild((r,o)=>{if(void 0===e[o])throw new l.vHH(1002,"")})}class dE{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=PR(this._rawValidators),this._composedAsyncValidatorFn=FR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ky}get invalid(){return this.status===cE}get pending(){return this.status==Fm}get disabled(){return this.status===Qy}get enabled(){return this.status!==Qy}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=PR(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=FR(t)}addValidators(t){this.setValidators(RR(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(RR(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(kR(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(kR(t,this._rawAsyncValidators))}hasValidator(t){return aE(this._rawValidators,t)}hasAsyncValidator(t){return aE(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Fm,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Qy,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ky,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ky||this.status===Fm)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Qy:Ky}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Fm,this._hasOwnPendingAsyncValidator=!0;const e=wR(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,o)=>r&&r._find(o),this)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Qy:this.errors?cE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fm)?Fm:this._anyControlsHaveStatus(cE)?cE:Ky}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){uE(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class hE extends dE{constructor(t,e,r){super(KS(e),QS(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){VR(this,0,t),Object.keys(t).forEach(r=>{LR(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{const o=this.controls[r];o&&o.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,o)=>{r.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,o)=>((r.enabled||this.disabled)&&(e[o]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((o,c)=>{r=e(r,o,c)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}function Jy(n,t){JS(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function KP(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&BR(n,t)})}(n,t),function JP(n,t){const e=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function QP(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&BR(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function YP(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function pE(n,t,e=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),gE(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function mE(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function JS(n,t){const e=AR(n);null!==t.validator?n.setValidators(TR(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=MR(n);null!==t.asyncValidator?n.setAsyncValidators(TR(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();mE(t._rawValidators,o),mE(t._rawAsyncValidators,o)}function gE(n,t){let e=!1;if(null!==n){if(null!==t.validator){const o=AR(n);if(Array.isArray(o)&&o.length>0){const c=o.filter(h=>h!==t.validator);c.length!==o.length&&(e=!0,n.setValidators(c))}}if(null!==t.asyncValidator){const o=MR(n);if(Array.isArray(o)&&o.length>0){const c=o.filter(h=>h!==t.asyncValidator);c.length!==o.length&&(e=!0,n.setAsyncValidators(c))}}}const r=()=>{};return mE(t._rawValidators,r),mE(t._rawAsyncValidators,r),e}function BR(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function UR(n,t){JS(n,t)}function jR(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}const rF={provide:Wi,useExisting:(0,l.Gpc)(()=>_E)},Xy=(()=>Promise.resolve(null))();let _E=(()=>{class n extends Wi{constructor(e,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new hE({},jS(e),$S(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Xy.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),Jy(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Xy.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Xy.then(()=>{const r=this._findContainer(e.path),o=new hE({});UR(o,e),r.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Xy.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){Xy.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,jR(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Ci,10),l.Y36(Rd,10))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,r){1&e&&l.NdJ("submit",function(c){return r.onSubmit(c)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([rF]),l.qOj]}),n})();function $R(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function zR(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const ev=class extends dE{constructor(t=null,e,r){super(KS(e),QS(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),uE(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=zR(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){$R(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){$R(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){zR(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let tT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),KR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const nT=new l.OlP("NgModelWithFormControlWarning"),hF={provide:Wi,useExisting:(0,l.Gpc)(()=>Lm)};let Lm=(()=>{class n extends Wi{constructor(e,r){super(),this.validators=e,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(gE(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return Jy(r,e),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){pE(e.control||null,e,!1),function nF(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,jR(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,o=this.form.get(e.path);r!==o&&(pE(r||null,e),(n=>n instanceof ev)(o)&&(Jy(o,e),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);UR(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function XP(n,t){return gE(n,t)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){JS(this.form,this),this._oldForm&&gE(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Ci,10),l.Y36(Rd,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&l.NdJ("submit",function(c){return r.onSubmit(c)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([hF]),l.qOj,l.TTD]}),n})();const mF={provide:Uc,useExisting:(0,l.Gpc)(()=>yE)};let yE=(()=>{class n extends Uc{constructor(e,r,o,c,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function eT(n,t){if(!t)return null;let e,r,o;return Array.isArray(t),t.forEach(c=>{c.constructor===Yy?e=c:function tF(n){return Object.getPrototypeOf(n.constructor)===Tf}(c)?r=c:o=c}),o||r||e||null}(0,c)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function XS(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function fE(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(l.Y36(Wi,13),l.Y36(Ci,10),l.Y36(Rd,10),l.Y36(Ol,10),l.Y36(nT,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([mF]),l.qOj,l.TTD]}),n})(),RF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[KR]}),n})(),hk=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:nT,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[RF]}),n})();class fk extends dE{constructor(t,e,r){super(KS(e),QS(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){let o=this._adjustIndex(t);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),e&&(this.controls.splice(o,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){VR(this,0,t),t.forEach((r,o)=>{LR(this,!1,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,o)=>{r.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function pk(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let mk=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,r=null){const o=this._reduceControls(e);let c={};return pk(r)?c=r:null!==r&&(c.validators=r.validator,c.asyncValidators=r.asyncValidator),new hE(o,c)}control(e,r,o){let c={};return this.useNonNullable?(pk(r)?c=r:(c.validators=r,c.asyncValidators=o),new ev(e,{...c,nonNullable:!0})):new ev(e,r,o)}array(e,r,o){const c=e.map(h=>this._createControl(h));return new fk(c,r,o)}_reduceControls(e){const r={};return Object.keys(e).forEach(o=>{r[o]=this._createControl(e[o])}),r}_createControl(e){return e instanceof ev||e instanceof dE?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:hk}),n})(),gk=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kF=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,r)=>this._cleanupObserver(r))}observe(e){const r=Nc(e);return new cn.y(o=>{const h=this._observeElement(r).subscribe(o);return()=>{h.unsubscribe(),this._unobserveElement(r)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const r=new $t.x,o=this._mutationObserverFactory.create(c=>r.next(c));o&&o.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:o,stream:r,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:r,stream:o}=this._observedElements.get(e);r&&r.disconnect(),o.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(gk))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xF=(()=>{class n{constructor(e,r,o){this._contentObserver=e,this._elementRef=r,this._ngZone=o,this.event=new l.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=zr(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=iS(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(sS(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(kF),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),OF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[gk]}),n})();const NF=["connectionContainer"],PF=["inputContainer"],FF=["label"];function LF(n,t){1&n&&(l.ynx(0),l.TgZ(1,"div",14),l._UZ(2,"div",15)(3,"div",16)(4,"div",17),l.qZA(),l.TgZ(5,"div",18),l._UZ(6,"div",15)(7,"div",16)(8,"div",17),l.qZA(),l.BQk())}function VF(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",19),l.NdJ("cdkObserveContent",function(){l.CHM(e);const o=l.oxw();return l.KtG(o.updateOutlineGap())}),l.Hsn(1,1),l.qZA()}if(2&n){const e=l.oxw();l.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function BF(n,t){if(1&n&&(l.ynx(0),l.Hsn(1,2),l.TgZ(2,"span"),l._uU(3),l.qZA(),l.BQk()),2&n){const e=l.oxw(2);l.xp6(3),l.Oqu(e._control.placeholder)}}function UF(n,t){1&n&&l.Hsn(0,3,["*ngSwitchCase","true"])}function HF(n,t){1&n&&(l.TgZ(0,"span",23),l._uU(1," *"),l.qZA())}function jF(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"label",20,21),l.NdJ("cdkObserveContent",function(){l.CHM(e);const o=l.oxw();return l.KtG(o.updateOutlineGap())}),l.YNc(2,BF,4,1,"ng-container",12),l.YNc(3,UF,1,0,"ng-content",12),l.YNc(4,HF,2,0,"span",22),l.qZA()}if(2&n){const e=l.oxw();l.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),l.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),l.uIk("for",e._control.id)("aria-owns",e._control.id),l.xp6(2),l.Q6J("ngSwitchCase",!1),l.xp6(1),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function $F(n,t){1&n&&(l.TgZ(0,"div",24),l.Hsn(1,4),l.qZA())}function zF(n,t){if(1&n&&(l.TgZ(0,"div",25),l._UZ(1,"span",26),l.qZA()),2&n){const e=l.oxw();l.xp6(1),l.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function GF(n,t){if(1&n&&(l.TgZ(0,"div"),l.Hsn(1,5),l.qZA()),2&n){const e=l.oxw();l.Q6J("@transitionMessages",e._subscriptAnimationState)}}function WF(n,t){if(1&n&&(l.TgZ(0,"div",30),l._uU(1),l.qZA()),2&n){const e=l.oxw(2);l.Q6J("id",e._hintLabelId),l.xp6(1),l.Oqu(e.hintLabel)}}function qF(n,t){if(1&n&&(l.TgZ(0,"div",27),l.YNc(1,WF,2,2,"div",28),l.Hsn(2,6),l._UZ(3,"div",29),l.Hsn(4,7),l.qZA()),2&n){const e=l.oxw();l.Q6J("@transitionMessages",e._subscriptAnimationState),l.xp6(1),l.Q6J("ngIf",e.hintLabel)}}const ZF=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],YF=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let KF=0;const _k=new l.OlP("MatError");let yk=(()=>{class n{constructor(e,r){this.id="mat-error-"+KF++,e||r.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(l.$8M("aria-live"),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,r){2&e&&l.uIk("id",r.id)},inputs:{id:"id"},features:[l._Bn([{provide:_k,useExisting:n}])]}),n})();const QF={transitionMessages:UM("transitionMessages",[wS("enter",xm({opacity:1,transform:"translateY(0%)"})),CS("void => enter",[xm({opacity:0,transform:"translateY(-5px)"}),bS("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let lT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n}),n})(),JF=0;const vk=new l.OlP("MatHint");let XF=(()=>{class n{constructor(){this.align="start",this.id="mat-hint-"+JF++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(e,r){2&e&&(l.uIk("id",r.id)("align",null),l.ekj("mat-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"},features:[l._Bn([{provide:vk,useExisting:n}])]}),n})(),vE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-label"]]}),n})(),e1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const t1=new l.OlP("MatPrefix"),bk=new l.OlP("MatSuffix");let wk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","matSuffix",""]],features:[l._Bn([{provide:bk,useExisting:n}])]}),n})(),Ck=0;const r1=BC(class{constructor(n){this._elementRef=n}},"primary"),s1=new l.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Dk=new l.OlP("MatFormField");let Ik=(()=>{class n extends r1{constructor(e,r,o,c,h,g,v){super(e),this._changeDetectorRef=r,this._dir=o,this._defaults=c,this._platform=h,this._ngZone=g,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new $t.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Ck++,this._labelId="mat-form-field-label-"+Ck++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==v,this.appearance=c?.appearance||"legacy",c&&(this._hideRequiredMarker=Boolean(c.hideRequiredMarker),c.color&&(this.color=this.defaultColor=c.color))}get appearance(){return this._appearance}set appearance(e){const r=this._appearance;this._appearance=e||this._defaults?.appearance||"legacy","outline"===this._appearance&&r!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=zr(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(ys(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(yr(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(yr(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,gi.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(ys(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(ys(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(yr(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const r=this._control?this._control.ngControl:null;return r&&r[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,km(this._label.nativeElement,"transitionend").pipe(En(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(c=>"start"===c.align):null,o=this._hintChildren?this._hintChildren.find(c=>"end"===c.align):null;r?e.push(r.id):this._hintLabel&&e.push(this._hintLabelId),o&&e.push(o.id)}else this._errorChildren&&e.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,r=this._connectionContainerRef.nativeElement,o=".mat-form-field-outline-start",c=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const M=r.querySelectorAll(`${o}, ${c}`);for(let O=0;O<M.length;O++)M[O].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let h=0,g=0;const v=r.querySelectorAll(o),D=r.querySelectorAll(c);if(this._label&&this._label.nativeElement.children.length){const M=r.getBoundingClientRect();if(0===M.width&&0===M.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const O=this._getStartEnd(M),B=e.children,Q=this._getStartEnd(B[0].getBoundingClientRect());let re=0;for(let ye=0;ye<B.length;ye++)re+=B[ye].offsetWidth;h=Math.abs(Q-O)-5,g=re>0?.75*re+10:0}for(let M=0;M<v.length;M++)v[M].style.width=`${h}px`;for(let M=0;M<D.length;M++)D[M].style.width=`${g}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const r=e.getRootNode();return r&&r!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(LC,8),l.Y36(s1,8),l.Y36(oi),l.Y36(l.R0b),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,r,o){if(1&e&&(l.Suo(o,lT,5),l.Suo(o,lT,7),l.Suo(o,vE,5),l.Suo(o,vE,7),l.Suo(o,e1,5),l.Suo(o,_k,5),l.Suo(o,vk,5),l.Suo(o,t1,5),l.Suo(o,bk,5)),2&e){let c;l.iGM(c=l.CRH())&&(r._controlNonStatic=c.first),l.iGM(c=l.CRH())&&(r._controlStatic=c.first),l.iGM(c=l.CRH())&&(r._labelChildNonStatic=c.first),l.iGM(c=l.CRH())&&(r._labelChildStatic=c.first),l.iGM(c=l.CRH())&&(r._placeholderChild=c.first),l.iGM(c=l.CRH())&&(r._errorChildren=c),l.iGM(c=l.CRH())&&(r._hintChildren=c),l.iGM(c=l.CRH())&&(r._prefixChildren=c),l.iGM(c=l.CRH())&&(r._suffixChildren=c)}},viewQuery:function(e,r){if(1&e&&(l.Gf(NF,7),l.Gf(PF,5),l.Gf(FF,5)),2&e){let o;l.iGM(o=l.CRH())&&(r._connectionContainerRef=o.first),l.iGM(o=l.CRH())&&(r._inputContainerRef=o.first),l.iGM(o=l.CRH())&&(r._label=o.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,r){2&e&&l.ekj("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[l._Bn([{provide:Dk,useExisting:n}]),l.qOj],ngContentSelectors:YF,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,r){1&e&&(l.F$t(ZF),l.TgZ(0,"div",0)(1,"div",1,2),l.NdJ("click",function(c){return r._control.onContainerClick&&r._control.onContainerClick(c)}),l.YNc(3,LF,9,0,"ng-container",3),l.YNc(4,VF,2,1,"div",4),l.TgZ(5,"div",5,6),l.Hsn(7),l.TgZ(8,"span",7),l.YNc(9,jF,5,16,"label",8),l.qZA()(),l.YNc(10,$F,2,0,"div",9),l.qZA(),l.YNc(11,zF,2,4,"div",10),l.TgZ(12,"div",11),l.YNc(13,GF,2,1,"div",12),l.YNc(14,qF,5,2,"div",13),l.qZA()()),2&e&&(l.xp6(3),l.Q6J("ngIf","outline"==r.appearance),l.xp6(1),l.Q6J("ngIf",r._prefixChildren.length),l.xp6(5),l.Q6J("ngIf",r._hasFloatingLabel()),l.xp6(1),l.Q6J("ngIf",r._suffixChildren.length),l.xp6(1),l.Q6J("ngIf","outline"!=r.appearance),l.xp6(1),l.Q6J("ngSwitch",r._getDisplayedMessages()),l.xp6(1),l.Q6J("ngSwitchCase","error"),l.xp6(1),l.Q6J("ngSwitchCase","hint"))},dependencies:[wn,ho,wr,xF],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[QF.transitionMessages]},changeDetection:0}),n})(),cT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Ti,Gi,OF,Gi]}),n})();const Sk=If({passive:!0});let o1=(()=>{class n{constructor(e,r){this._platform=e,this._ngZone=r,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Xr.E;const r=Nc(e),o=this._monitoredElements.get(r);if(o)return o.subject;const c=new $t.x,h="cdk-text-field-autofilled",g=v=>{"cdk-text-field-autofill-start"!==v.animationName||r.classList.contains(h)?"cdk-text-field-autofill-end"===v.animationName&&r.classList.contains(h)&&(r.classList.remove(h),this._ngZone.run(()=>c.next({target:v.target,isAutofilled:!1}))):(r.classList.add(h),this._ngZone.run(()=>c.next({target:v.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",g,Sk),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:c,unlisten:()=>{r.removeEventListener("animationstart",g,Sk)}}),c}stopMonitoring(e){const r=Nc(e),o=this._monitoredElements.get(r);o&&(o.unlisten(),o.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((e,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(oi),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Tk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const a1=new l.OlP("MAT_INPUT_VALUE_ACCESSOR"),l1=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let c1=0;const u1=AO(class{constructor(n,t,e,r){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=r,this.stateChanges=new $t.x}});let Ak=(()=>{class n extends u1{constructor(e,r,o,c,h,g,v,D,M,O){super(g,c,h,o),this._elementRef=e,this._platform=r,this._autofillMonitor=D,this._formField=O,this._uid="mat-input-"+c1++,this.focused=!1,this.stateChanges=new $t.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(re=>_C().has(re)),this._iOSKeyupListener=re=>{const ye=re.target;!ye.value&&0===ye.selectionStart&&0===ye.selectionEnd&&(ye.setSelectionRange(1,1),ye.setSelectionRange(0,0))};const B=this._elementRef.nativeElement,Q=B.nodeName.toLowerCase();this._inputValueAccessor=v||B,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&M.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Q,this._isTextarea="textarea"===Q,this._isInFormField=!!O,this._isNativeSelect&&(this.controlType=B.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=zr(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Bc.required)??!1}set required(e){this._required=zr(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&_C().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=zr(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const e=this._formField,r=e&&"legacy"===e.appearance&&!e._hasLabel?.()?null:this.placeholder;if(r!==this._previousPlaceholder){const o=this._elementRef.nativeElement;this._previousPlaceholder=r,r?o.setAttribute("placeholder",r):o.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){l1.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,r=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(oi),l.Y36(Uc,10),l.Y36(_E,8),l.Y36(Lm,8),l.Y36(hM),l.Y36(a1,10),l.Y36(o1),l.Y36(l.R0b),l.Y36(Dk,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,r){1&e&&l.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&e&&(l.Ikx("disabled",r.disabled)("required",r.required),l.uIk("id",r.id)("data-placeholder",r.placeholder)("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),l.ekj("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[l._Bn([{provide:lT,useExisting:n}]),l.qOj,l.TTD]}),n})(),d1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[hM],imports:[Tk,cT,Gi,Tk,cT]}),n})(),Mk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Ti,HO,fN,QN,rP,tN,OP,hk,cT,d1]}),n})(),h1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Ti,Mk]}),n})();function Rk(n){return new l.vHH(3e3,!1)}function q1(){return typeof window<"u"&&typeof window.document<"u"}function uT(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function kd(n){switch(n.length){case 0:return new Gy;case 1:return n[0];default:return new $M(n)}}function kk(n,t,e,r,o=new Map,c=new Map){const h=[],g=[];let v=-1,D=null;if(r.forEach(M=>{const O=M.get("offset"),B=O==v,Q=B&&D||new Map;M.forEach((re,ye)=>{let Ne=ye,qe=re;if("offset"!==ye)switch(Ne=t.normalizePropertyName(Ne,h),qe){case"!":qe=o.get(ye);break;case Fc:qe=c.get(ye);break;default:qe=t.normalizeStyleValue(ye,Ne,qe,h)}Q.set(Ne,qe)}),B||g.push(Q),D=Q,v=O}),h.length)throw function P1(n){return new l.vHH(3502,!1)}();return g}function dT(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&hT(e,"start",n)));break;case"done":n.onDone(()=>r(e&&hT(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&hT(e,"destroy",n)))}}function hT(n,t,e){const c=fT(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),h=n._data;return null!=h&&(c._data=h),c}function fT(n,t,e,r,o="",c=0,h){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:o,totalTime:c,disabled:!!h}}function ro(n,t,e){let r=n.get(t);return r||n.set(t,r=e),r}function xk(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let pT=(n,t)=>!1,Ok=(n,t,e)=>[],Nk=null;function mT(n){const t=n.parentNode||n.host;return t===Nk?null:t}(uT()||typeof Element<"u")&&(q1()?(Nk=(()=>document.documentElement)(),pT=(n,t)=>{for(;t;){if(t===n)return!0;t=mT(t)}return!1}):pT=(n,t)=>n.contains(t),Ok=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const r=n.querySelector(t);return r?[r]:[]});let Mf=null,Pk=!1;const Fk=pT,Lk=Ok;let Vk=(()=>{class n{validateStyleProperty(e){return function Y1(n){Mf||(Mf=function K1(){return typeof document<"u"?document.body:null}()||{},Pk=!!Mf.style&&"WebkitAppearance"in Mf.style);let t=!0;return Mf.style&&!function Z1(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Mf.style,!t&&Pk&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Mf.style)),t}(e)}matchesElement(e,r){return!1}containsElement(e,r){return Fk(e,r)}getParentElement(e){return mT(e)}query(e,r,o){return Lk(e,r,o)}computeStyle(e,r,o){return o||""}animate(e,r,o,c,h,g=[],v){return new Gy(o,c)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),gT=(()=>{class n{}return n.NOOP=new Vk,n})();const _T="ng-enter",bE="ng-leave",wE="ng-trigger",CE=".ng-trigger",Uk="ng-animating",yT=".ng-animating";function xd(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:vT(parseFloat(t[1]),t[2])}function vT(n,t){return"s"===t?1e3*n:n}function EE(n,t,e){return n.hasOwnProperty("duration")?n:function X1(n,t,e){let o,c=0,h="";if("string"==typeof n){const g=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===g)return t.push(Rk()),{duration:0,delay:0,easing:""};o=vT(parseFloat(g[1]),g[2]);const v=g[3];null!=v&&(c=vT(parseFloat(v),g[4]));const D=g[5];D&&(h=D)}else o=n;if(!e){let g=!1,v=t.length;o<0&&(t.push(function f1(){return new l.vHH(3100,!1)}()),g=!0),c<0&&(t.push(function p1(){return new l.vHH(3101,!1)}()),g=!0),g&&t.splice(v,0,Rk())}return{duration:o,delay:c,easing:h}}(n,t,e)}function tv(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Hk(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Od(n,t=new Map,e){if(e)for(let[r,o]of e)t.set(r,o);for(let[r,o]of n)t.set(r,o);return t}function $k(n,t,e){return e?t+":"+e+";":""}function zk(n){let t="";for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t+=$k(0,r,n.style.getPropertyValue(r))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=$k(0,rL(e),n.style[e]));n.setAttribute("style",t)}function Nl(n,t,e){n.style&&(t.forEach((r,o)=>{const c=wT(o);e&&!e.has(o)&&e.set(o,n.style[c]),n.style[c]=r}),uT()&&zk(n))}function Rf(n,t){n.style&&(t.forEach((e,r)=>{const o=wT(r);n.style[o]=""}),uT()&&zk(n))}function nv(n){return Array.isArray(n)?1==n.length?n[0]:HM(n):n}const bT=new RegExp("{{\\s*(.+?)\\s*}}","g");function Gk(n){let t=[];if("string"==typeof n){let e;for(;e=bT.exec(n);)t.push(e[1]);bT.lastIndex=0}return t}function DE(n,t,e){const r=n.toString(),o=r.replace(bT,(c,h)=>{let g=t[h];return null==g&&(e.push(function g1(n){return new l.vHH(3003,!1)}()),g=""),g.toString()});return o==r?n:o}function IE(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const nL=/-+([a-z0-9])/g;function wT(n){return n.replace(nL,(...t)=>t[1].toUpperCase())}function rL(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function io(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function _1(n){return new l.vHH(3004,!1)}()}}function Wk(n,t){return window.getComputedStyle(n)[t]}function cL(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function uL(n,t,e){if(":"==n[0]){const v=function dL(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(function k1(n){return new l.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof v)return void t.push(v);n=v}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function R1(n){return new l.vHH(3015,!1)}()),t;const o=r[1],c=r[2],h=r[3];t.push(qk(o,h));"<"==c[0]&&!("*"==o&&"*"==h)&&t.push(qk(h,o))}(r,e,t)):e.push(n),e}const ME=new Set(["true","1"]),RE=new Set(["false","0"]);function qk(n,t){const e=ME.has(n)||RE.has(n),r=ME.has(t)||RE.has(t);return(o,c)=>{let h="*"==n||n==o,g="*"==t||t==c;return!h&&e&&"boolean"==typeof o&&(h=o?ME.has(n):RE.has(n)),!g&&r&&"boolean"==typeof c&&(g=c?ME.has(t):RE.has(t)),h&&g}}const hL=new RegExp("s*:selfs*,?","g");function CT(n,t,e,r){return new fL(n).build(t,e,r)}class fL{constructor(t){this._driver=t}build(t,e,r){const o=new gL(e);return this._resetContextStyleTimingState(o),io(this,nv(t),o)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,o=e.depCount=0;const c=[],h=[];return"@"==t.name.charAt(0)&&e.errors.push(function v1(){return new l.vHH(3006,!1)}()),t.definitions.forEach(g=>{if(this._resetContextStyleTimingState(e),0==g.type){const v=g,D=v.name;D.toString().split(/\s*,\s*/).forEach(M=>{v.name=M,c.push(this.visitState(v,e))}),v.name=D}else if(1==g.type){const v=this.visitTransition(g,e);r+=v.queryCount,o+=v.depCount,h.push(v)}else e.errors.push(function b1(){return new l.vHH(3007,!1)}())}),{type:7,name:t.name,states:c,transitions:h,queryCount:r,depCount:o,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),o=t.options&&t.options.params||null;if(r.containsDynamicStyles){const c=new Set,h=o||{};r.styles.forEach(g=>{g instanceof Map&&g.forEach(v=>{Gk(v).forEach(D=>{h.hasOwnProperty(D)||c.add(D)})})}),c.size&&(IE(c.values()),e.errors.push(function w1(n,t){return new l.vHH(3008,!1)}()))}return{type:0,name:t.name,style:r,options:o?{params:o}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=io(this,nv(t.animation),e);return{type:1,matchers:cL(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:kf(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>io(this,r,e)),options:kf(t.options)}}visitGroup(t,e){const r=e.currentTime;let o=0;const c=t.steps.map(h=>{e.currentTime=r;const g=io(this,h,e);return o=Math.max(o,e.currentTime),g});return e.currentTime=o,{type:3,steps:c,options:kf(t.options)}}visitAnimate(t,e){const r=function yL(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return ET(EE(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(c=>"{"==c.charAt(0)&&"{"==c.charAt(1))){const c=ET(0,0,"");return c.dynamic=!0,c.strValue=e,c}const o=EE(e,t);return ET(o.duration,o.delay,o.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let o,c=t.styles?t.styles:xm({});if(5==c.type)o=this.visitKeyframes(c,e);else{let h=t.styles,g=!1;if(!h){g=!0;const D={};r.easing&&(D.easing=r.easing),h=xm(D)}e.currentTime+=r.duration+r.delay;const v=this.visitStyle(h,e);v.isEmptyStep=g,o=v}return e.currentAnimateTimings=null,{type:4,timings:r,style:o,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[],o=Array.isArray(t.styles)?t.styles:[t.styles];for(let g of o)"string"==typeof g?g===Fc?r.push(g):e.errors.push(new l.vHH(3002,!1)):r.push(Hk(g));let c=!1,h=null;return r.forEach(g=>{if(g instanceof Map&&(g.has("easing")&&(h=g.get("easing"),g.delete("easing")),!c))for(let v of g.values())if(v.toString().indexOf("{{")>=0){c=!0;break}}),{type:6,styles:r,easing:h,offset:t.offset,containsDynamicStyles:c,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let o=e.currentTime,c=e.currentTime;r&&c>0&&(c-=r.duration+r.delay),t.styles.forEach(h=>{"string"!=typeof h&&h.forEach((g,v)=>{const D=e.collectedStyles.get(e.currentQuerySelector),M=D.get(v);let O=!0;M&&(c!=o&&c>=M.startTime&&o<=M.endTime&&(e.errors.push(function E1(n,t,e,r,o){return new l.vHH(3010,!1)}()),O=!1),c=M.startTime),O&&D.set(v,{startTime:c,endTime:o}),e.options&&function tL(n,t,e){const r=t.params||{},o=Gk(n);o.length&&o.forEach(c=>{r.hasOwnProperty(c)||e.push(function m1(n){return new l.vHH(3001,!1)}())})}(g,e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function D1(){return new l.vHH(3011,!1)}()),r;let c=0;const h=[];let g=!1,v=!1,D=0;const M=t.steps.map(qe=>{const yt=this._makeStyleAst(qe,e);let Yt=null!=yt.offset?yt.offset:function _L(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const r=e;t=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(yt.styles),Mt=0;return null!=Yt&&(c++,Mt=yt.offset=Yt),v=v||Mt<0||Mt>1,g=g||Mt<D,D=Mt,h.push(Mt),yt});v&&e.errors.push(function I1(){return new l.vHH(3012,!1)}()),g&&e.errors.push(function S1(){return new l.vHH(3200,!1)}());const O=t.steps.length;let B=0;c>0&&c<O?e.errors.push(function T1(){return new l.vHH(3202,!1)}()):0==c&&(B=1/(O-1));const Q=O-1,re=e.currentTime,ye=e.currentAnimateTimings,Ne=ye.duration;return M.forEach((qe,yt)=>{const Yt=B>0?yt==Q?1:B*yt:h[yt],Mt=Yt*Ne;e.currentTime=re+ye.delay+Mt,ye.duration=Mt,this._validateStyleAst(qe,e),qe.offset=Yt,r.styles.push(qe)}),r}visitReference(t,e){return{type:8,animation:io(this,nv(t.animation),e),options:kf(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:kf(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:kf(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,o=t.options||{};e.queryCount++,e.currentQuery=t;const[c,h]=function pL(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(hL,"")),n=n.replace(/@\*/g,CE).replace(/@\w+/g,e=>CE+"-"+e.slice(1)).replace(/:animating/g,yT),[n,t]}(t.selector);e.currentQuerySelector=r.length?r+" "+c:c,ro(e.collectedStyles,e.currentQuerySelector,new Map);const g=io(this,nv(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:c,limit:o.limit||0,optional:!!o.optional,includeSelf:h,animation:g,originalSelector:t.selector,options:kf(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function A1(){return new l.vHH(3013,!1)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:EE(t.timings,e.errors,!0);return{type:12,animation:io(this,nv(t.animation),e),timings:r,options:null}}}class gL{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function kf(n){return n?(n=tv(n)).params&&(n.params=function mL(n){return n?tv(n):null}(n.params)):n={},n}function ET(n,t,e){return{duration:n,delay:t,easing:e}}function DT(n,t,e,r,o,c,h=null,g=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:o,delay:c,totalTime:o+c,easing:h,subTimeline:g}}class kE{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const wL=new RegExp(":enter","g"),EL=new RegExp(":leave","g");function IT(n,t,e,r,o,c=new Map,h=new Map,g,v,D=[]){return(new DL).buildKeyframes(n,t,e,r,o,c,h,g,v,D)}class DL{buildKeyframes(t,e,r,o,c,h,g,v,D,M=[]){D=D||new kE;const O=new ST(t,e,D,o,c,M,[]);O.options=v;const B=v.delay?xd(v.delay):0;O.currentTimeline.delayNextStep(B),O.currentTimeline.setStyles([h],null,O.errors,v),io(this,r,O);const Q=O.timelines.filter(re=>re.containsAnimation());if(Q.length&&g.size){let re;for(let ye=Q.length-1;ye>=0;ye--){const Ne=Q[ye];if(Ne.element===e){re=Ne;break}}re&&!re.allowOnlyTimelineStyles()&&re.setStyles([g],null,O.errors,v)}return Q.length?Q.map(re=>re.buildKeyframes()):[DT(e,[],[],[],0,B,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.get(e.element);if(r){const o=e.createSubContext(t.options),c=e.currentTimeline.currentTime,h=this._visitSubInstructions(r,o,o.options);c!=h&&e.transformIntoNewTimeline(h)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,r){let c=e.currentTimeline.currentTime;const h=null!=r.duration?xd(r.duration):null,g=null!=r.delay?xd(r.delay):null;return 0!==h&&t.forEach(v=>{const D=e.appendInstructionToTimeline(v,h,g);c=Math.max(c,D.duration+D.delay)}),c}visitReference(t,e){e.updateOptions(t.options,!0),io(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let o=e;const c=t.options;if(c&&(c.params||c.delay)&&(o=e.createSubContext(c),o.transformIntoNewTimeline(),null!=c.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=xE);const h=xd(c.delay);o.delayNextStep(h)}t.steps.length&&(t.steps.forEach(h=>io(this,h,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>r&&o.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let o=e.currentTimeline.currentTime;const c=t.options&&t.options.delay?xd(t.options.delay):0;t.steps.forEach(h=>{const g=e.createSubContext(t.options);c&&g.delayNextStep(c),io(this,h,g),o=Math.max(o,g.currentTimeline.currentTime),r.push(g.currentTimeline)}),r.forEach(h=>e.currentTimeline.mergeTimelineCollectedStyles(h)),e.transformIntoNewTimeline(o),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return EE(e.params?DE(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),o=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),o.snapshotCurrentStyles());const c=t.style;5==c.type?this.visitKeyframes(c,e):(e.incrementTime(r.duration),this.visitStyle(c,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,o=e.currentAnimateTimings;!o&&r.hasCurrentStyleProperties()&&r.forwardFrame();const c=o&&o.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(c):r.setStyles(t.styles,c,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,o=e.currentTimeline.duration,c=r.duration,g=e.createSubContext().currentTimeline;g.easing=r.easing,t.styles.forEach(v=>{g.forwardTime((v.offset||0)*c),g.setStyles(v.styles,v.easing,e.errors,e.options),g.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(g),e.transformIntoNewTimeline(o+c),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,o=t.options||{},c=o.delay?xd(o.delay):0;c&&(6===e.previousNode.type||0==r&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=xE);let h=r;const g=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=g.length;let v=null;g.forEach((D,M)=>{e.currentQueryIndex=M;const O=e.createSubContext(t.options,D);c&&O.delayNextStep(c),D===e.element&&(v=O.currentTimeline),io(this,t.animation,O),O.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,O.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(h),v&&(e.currentTimeline.mergeTimelineCollectedStyles(v),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,o=e.currentTimeline,c=t.timings,h=Math.abs(c.duration),g=h*(e.currentQueryTotal-1);let v=h*e.currentQueryIndex;switch(c.duration<0?"reverse":c.easing){case"reverse":v=g-v;break;case"full":v=r.currentStaggerTime}const M=e.currentTimeline;v&&M.delayNextStep(v);const O=M.currentTime;io(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=o.currentTime-O+(o.startTime-r.currentTimeline.startTime)}}const xE={};class ST{constructor(t,e,r,o,c,h,g,v){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=o,this._leaveClassName=c,this.errors=h,this.timelines=g,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=xE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=v||new OE(this._driver,e,0),g.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let o=this.options;null!=r.duration&&(o.duration=xd(r.duration)),null!=r.delay&&(o.delay=xd(r.delay));const c=r.params;if(c){let h=o.params;h||(h=this.options.params={}),Object.keys(c).forEach(g=>{(!e||!h.hasOwnProperty(g))&&(h[g]=DE(c[g],h,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(o=>{r[o]=e[o]})}}return t}createSubContext(t=null,e,r){const o=e||this.element,c=new ST(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,r||0));return c.previousNode=this.previousNode,c.currentAnimateTimings=this.currentAnimateTimings,c.options=this._copyOptions(),c.updateOptions(t),c.currentQueryIndex=this.currentQueryIndex,c.currentQueryTotal=this.currentQueryTotal,c.parentContext=this,this.subContextCount++,c}transformIntoNewTimeline(t){return this.previousNode=xE,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const o={duration:e??t.duration,delay:this.currentTimeline.currentTime+(r??0)+t.delay,easing:""},c=new IL(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,o,t.stretchStartingKeyframe);return this.timelines.push(c),o}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,o,c,h){let g=[];if(o&&g.push(this.element),t.length>0){t=(t=t.replace(wL,"."+this._enterClassName)).replace(EL,"."+this._leaveClassName);let D=this._driver.query(this.element,t,1!=r);0!==r&&(D=r<0?D.slice(D.length+r,D.length):D.slice(0,r)),g.push(...D)}return!c&&0==g.length&&h.push(function M1(n){return new l.vHH(3014,!1)}()),g}}class OE{constructor(t,e,r,o){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new OE(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||Fc),this._currentKeyframe.set(e,Fc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,o){e&&this._previousKeyframe.set("easing",e);const c=o&&o.params||{},h=function SL(n,t){const e=new Map;let r;return n.forEach(o=>{if("*"===o){r=r||t.keys();for(let c of r)e.set(c,Fc)}else Od(o,e)}),e}(t,this._globalTimelineStyles);for(let[g,v]of h){const D=DE(v,c,r);this._pendingStyles.set(g,D),this._localTimelineStyles.has(g)||this._backFill.set(g,this._globalTimelineStyles.get(g)??Fc),this._updateStyle(g,D)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,r)=>{const o=this._styleSummary.get(r);(!o||e.time>o.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((g,v)=>{const D=Od(g,new Map,this._backFill);D.forEach((M,O)=>{"!"===M?t.add(O):M===Fc&&e.add(O)}),r||D.set("offset",v/this.duration),o.push(D)});const c=t.size?IE(t.values()):[],h=e.size?IE(e.values()):[];if(r){const g=o[0],v=new Map(g);g.set("offset",0),v.set("offset",1),o=[g,v]}return DT(this.element,o,c,h,this.duration,this.startTime,this.easing,!1)}}class IL extends OE{constructor(t,e,r,o,c,h,g=!1){super(t,e,h.delay),this.keyframes=r,this.preStyleProps=o,this.postStyleProps=c,this._stretchStartingKeyframe=g,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){const c=[],h=r+e,g=e/h,v=Od(t[0]);v.set("offset",0),c.push(v);const D=Od(t[0]);D.set("offset",Kk(g)),c.push(D);const M=t.length-1;for(let O=1;O<=M;O++){let B=Od(t[O]);const Q=B.get("offset");B.set("offset",Kk((e+Q*r)/h)),c.push(B)}r=h,e=0,o="",t=c}return DT(this.element,t,this.preStyleProps,this.postStyleProps,r,e,o,!0)}}function Kk(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class TT{}const TL=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class AL extends TT{normalizePropertyName(t,e){return wT(t)}normalizeStyleValue(t,e,r,o){let c="";const h=r.toString().trim();if(TL.has(e)&&0!==r&&"0"!==r)if("number"==typeof r)c="px";else{const g=r.match(/^[+-]?[\d\.]+([a-z]*)$/);g&&0==g[1].length&&o.push(function y1(n,t){return new l.vHH(3005,!1)}())}return h+c}}function Qk(n,t,e,r,o,c,h,g,v,D,M,O,B){return{type:0,element:n,triggerName:t,isRemovalTransition:o,fromState:e,fromStyles:c,toState:r,toStyles:h,timelines:g,queriedElements:v,preStyleProps:D,postStyleProps:M,totalTime:O,errors:B}}const AT={};class Jk{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,o){return function ML(n,t,e,r,o){return n.some(c=>c(t,e,r,o))}(this.ast.matchers,t,e,r,o)}buildStyles(t,e,r){let o=this._stateStyles.get("*");return void 0!==t&&(o=this._stateStyles.get(t?.toString())||o),o?o.buildStyles(e,r):new Map}build(t,e,r,o,c,h,g,v,D,M){const O=[],B=this.ast.options&&this.ast.options.params||AT,re=this.buildStyles(r,g&&g.params||AT,O),ye=v&&v.params||AT,Ne=this.buildStyles(o,ye,O),qe=new Set,yt=new Map,Yt=new Map,Mt="void"===o,Or={params:RL(ye,B),delay:this.ast.options?.delay},Gr=M?[]:IT(t,e,this.ast.animation,c,h,re,Ne,Or,D,O);let qi=0;if(Gr.forEach(jc=>{qi=Math.max(jc.duration+jc.delay,qi)}),O.length)return Qk(e,this._triggerName,r,o,Mt,re,Ne,[],[],yt,Yt,qi,O);Gr.forEach(jc=>{const $c=jc.element,px=ro(yt,$c,new Set);jc.preStyleProps.forEach(xf=>px.add(xf));const iv=ro(Yt,$c,new Set);jc.postStyleProps.forEach(xf=>iv.add(xf)),$c!==e&&qe.add($c)});const Hc=IE(qe.values());return Qk(e,this._triggerName,r,o,Mt,re,Ne,Gr,Hc,yt,Yt,qi)}}function RL(n,t){const e=tv(t);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(e[r]=n[r]);return e}class kL{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r=new Map,o=tv(this.defaultParams);return Object.keys(t).forEach(c=>{const h=t[c];null!==h&&(o[c]=h)}),this.styles.styles.forEach(c=>{"string"!=typeof c&&c.forEach((h,g)=>{h&&(h=DE(h,o,e));const v=this.normalizer.normalizePropertyName(g,e);h=this.normalizer.normalizeStyleValue(g,v,h,e),r.set(v,h)})}),r}}class OL{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states=new Map,e.states.forEach(o=>{this.states.set(o.name,new kL(o.style,o.options&&o.options.params||{},r))}),Xk(this.states,"true","1"),Xk(this.states,"false","0"),e.transitions.forEach(o=>{this.transitionFactories.push(new Jk(t,o,this.states))}),this.fallbackTransition=function NL(n,t,e){return new Jk(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,g)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,o){return this.transitionFactories.find(h=>h.match(t,e,r,o))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function Xk(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const PL=new kE;class FL{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const r=[],c=CT(this._driver,e,r,[]);if(r.length)throw function F1(n){return new l.vHH(3503,!1)}();this._animations.set(t,c)}_buildPlayer(t,e,r){const o=t.element,c=kk(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(o,c,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const o=[],c=this._animations.get(t);let h;const g=new Map;if(c?(h=IT(this._driver,e,c,_T,bE,new Map,new Map,r,PL,o),h.forEach(M=>{const O=ro(g,M.element,new Map);M.postStyleProps.forEach(B=>O.set(B,null))})):(o.push(function L1(){return new l.vHH(3300,!1)}()),h=[]),o.length)throw function V1(n){return new l.vHH(3504,!1)}();g.forEach((M,O)=>{M.forEach((B,Q)=>{M.set(Q,this._driver.computeStyle(O,Q,Fc))})});const D=kd(h.map(M=>{const O=g.get(M.element);return this._buildPlayer(M,new Map,O)}));return this._playersById.set(t,D),D.onDestroy(()=>this.destroy(t)),this.players.push(D),D}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function B1(n){return new l.vHH(3301,!1)}();return e}listen(t,e,r,o){const c=fT(e,"","","");return dT(this._getPlayer(t),r,c,o),()=>{}}command(t,e,r,o){if("register"==r)return void this.register(t,o[0]);if("create"==r)return void this.create(t,e,o[0]||{});const c=this._getPlayer(t);switch(r){case"play":c.play();break;case"pause":c.pause();break;case"reset":c.reset();break;case"restart":c.restart();break;case"finish":c.finish();break;case"init":c.init();break;case"setPosition":c.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(t)}}}const ex="ng-animate-queued",MT="ng-animate-disabled",HL=[],tx={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},jL={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Qo="__ng_removed";class RT{constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function WL(n){return n??null}(r?t.value:t),r){const c=tv(t);delete c.value,this.options=c}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(o=>{null==r[o]&&(r[o]=e[o])})}}}const rv="void",kT=new RT(rv);class $L{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Jo(e,this._hostClassName)}listen(t,e,r,o){if(!this._triggers.has(e))throw function U1(n,t){return new l.vHH(3302,!1)}();if(null==r||0==r.length)throw function H1(n){return new l.vHH(3303,!1)}();if(!function qL(n){return"start"==n||"done"==n}(r))throw function j1(n,t){return new l.vHH(3400,!1)}();const c=ro(this._elementListeners,t,[]),h={name:e,phase:r,callback:o};c.push(h);const g=ro(this._engine.statesByElement,t,new Map);return g.has(e)||(Jo(t,wE),Jo(t,wE+"-"+e),g.set(e,kT)),()=>{this._engine.afterFlush(()=>{const v=c.indexOf(h);v>=0&&c.splice(v,1),this._triggers.has(e)||g.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function $1(n){return new l.vHH(3401,!1)}();return e}trigger(t,e,r,o=!0){const c=this._getTrigger(e),h=new xT(this.id,e,t);let g=this._engine.statesByElement.get(t);g||(Jo(t,wE),Jo(t,wE+"-"+e),this._engine.statesByElement.set(t,g=new Map));let v=g.get(e);const D=new RT(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&v&&D.absorbOptions(v.options),g.set(e,D),v||(v=kT),D.value!==rv&&v.value===D.value){if(!function KL(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let o=0;o<e.length;o++){const c=e[o];if(!t.hasOwnProperty(c)||n[c]!==t[c])return!1}return!0}(v.params,D.params)){const ye=[],Ne=c.matchStyles(v.value,v.params,ye),qe=c.matchStyles(D.value,D.params,ye);ye.length?this._engine.reportError(ye):this._engine.afterFlush(()=>{Rf(t,Ne),Nl(t,qe)})}return}const B=ro(this._engine.playersByElement,t,[]);B.forEach(ye=>{ye.namespaceId==this.id&&ye.triggerName==e&&ye.queued&&ye.destroy()});let Q=c.matchTransition(v.value,D.value,t,D.params),re=!1;if(!Q){if(!o)return;Q=c.fallbackTransition,re=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:Q,fromState:v,toState:D,player:h,isFallbackTransition:re}),re||(Jo(t,ex),h.onStart(()=>{Vm(t,ex)})),h.onDone(()=>{let ye=this.players.indexOf(h);ye>=0&&this.players.splice(ye,1);const Ne=this._engine.playersByElement.get(t);if(Ne){let qe=Ne.indexOf(h);qe>=0&&Ne.splice(qe,1)}}),this.players.push(h),B.push(h),h}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(o=>o.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,CE,!0);r.forEach(o=>{if(o[Qo])return;const c=this._engine.fetchNamespacesByElement(o);c.size?c.forEach(h=>h.triggerLeaveAnimation(o,e,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(t,e,r,o){const c=this._engine.statesByElement.get(t),h=new Map;if(c){const g=[];if(c.forEach((v,D)=>{if(h.set(D,v.value),this._triggers.has(D)){const M=this.trigger(t,D,rv,o);M&&g.push(M)}}),g.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,h),r&&kd(g).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const o=new Set;e.forEach(c=>{const h=c.name;if(o.has(h))return;o.add(h);const v=this._triggers.get(h).fallbackTransition,D=r.get(h)||kT,M=new RT(rv),O=new xT(this.id,h,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:h,transition:v,fromState:D,toState:M,player:O,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let o=!1;if(r.totalAnimations){const c=r.players.length?r.playersByQueriedElement.get(t):[];if(c&&c.length)o=!0;else{let h=t;for(;h=h.parentNode;)if(r.statesByElement.get(h)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(t),o)r.markElementAsRemoved(this.id,t,!1,e);else{const c=t[Qo];(!c||c===tx)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){Jo(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const o=r.player;if(o.destroyed)return;const c=r.element,h=this._elementListeners.get(c);h&&h.forEach(g=>{if(g.name==r.triggerName){const v=fT(c,r.triggerName,r.fromState.value,r.toState.value);v._data=t,dT(r.player,g.phase,v,g.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):e.push(r)}),this._queue=[],e.sort((r,o)=>{const c=r.transition.ast.depCount,h=o.transition.ast.depCount;return 0==c||0==h?c-h:this._engine.driver.containsElement(r.element,o.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class zL{constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,c)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new $L(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList,o=this.namespacesByHostElement;if(r.length-1>=0){let h=!1,g=this.driver.getParentElement(e);for(;g;){const v=o.get(g);if(v){const D=r.indexOf(v);r.splice(D+1,0,t),h=!0;break}g=this.driver.getParentElement(g)}h||r.unshift(t)}else r.push(t);return o.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let o=this._namespaceLookup[t];o&&o.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const o=this._namespaceList.indexOf(r);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r)for(let o of r.values())if(o.namespaceId){const c=this._fetchNamespace(o.namespaceId);c&&e.add(c)}return e}trigger(t,e,r,o){if(NE(e)){const c=this._fetchNamespace(t);if(c)return c.trigger(e,r,o),!0}return!1}insertNode(t,e,r,o){if(!NE(e))return;const c=e[Qo];if(c&&c.setForRemoval){c.setForRemoval=!1,c.setForMove=!0;const h=this.collectedLeaveElements.indexOf(e);h>=0&&this.collectedLeaveElements.splice(h,1)}if(t){const h=this._fetchNamespace(t);h&&h.insertNode(e,r)}o&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Jo(t,MT)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Vm(t,MT))}removeNode(t,e,r,o){if(NE(e)){const c=t?this._fetchNamespace(t):null;if(c?c.removeNode(e,o):this.markElementAsRemoved(t,e,!1,o),r){const h=this.namespacesByHostElement.get(e);h&&h.id!==t&&h.removeNode(e,o)}}else this._onRemovalComplete(e,o)}markElementAsRemoved(t,e,r,o,c){this.collectedLeaveElements.push(e),e[Qo]={namespaceId:t,setForRemoval:o,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:c}}listen(t,e,r,o,c){return NE(e)?this._fetchNamespace(t).listen(e,r,o,c):()=>{}}_buildInstruction(t,e,r,o,c){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,o,t.fromState.options,t.toState.options,e,c)}destroyInnerAnimations(t){let e=this.driver.query(t,CE,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,yT,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return kd(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Qo];if(e&&e.setForRemoval){if(t[Qo]=tx,e.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(MT)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,o)=>this._balanceNamespaceList(r,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Jo(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let o=0;o<r.length;o++)r[o]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?kd(e).onDone(()=>{r.forEach(o=>o())}):r.forEach(o=>o())}}reportError(t){throw function z1(n){return new l.vHH(3402,!1)}()}_flushAnimations(t,e){const r=new kE,o=[],c=new Map,h=[],g=new Map,v=new Map,D=new Map,M=new Set;this.disabledNodes.forEach(it=>{M.add(it);const mt=this.driver.query(it,".ng-animate-queued",!0);for(let bt=0;bt<mt.length;bt++)M.add(mt[bt])});const O=this.bodyNode,B=Array.from(this.statesByElement.keys()),Q=ix(B,this.collectedEnterElements),re=new Map;let ye=0;Q.forEach((it,mt)=>{const bt=_T+ye++;re.set(mt,bt),it.forEach(Kt=>Jo(Kt,bt))});const Ne=[],qe=new Set,yt=new Set;for(let it=0;it<this.collectedLeaveElements.length;it++){const mt=this.collectedLeaveElements[it],bt=mt[Qo];bt&&bt.setForRemoval&&(Ne.push(mt),qe.add(mt),bt.hasAnimation?this.driver.query(mt,".ng-star-inserted",!0).forEach(Kt=>qe.add(Kt)):yt.add(mt))}const Yt=new Map,Mt=ix(B,Array.from(qe));Mt.forEach((it,mt)=>{const bt=bE+ye++;Yt.set(mt,bt),it.forEach(Kt=>Jo(Kt,bt))}),t.push(()=>{Q.forEach((it,mt)=>{const bt=re.get(mt);it.forEach(Kt=>Vm(Kt,bt))}),Mt.forEach((it,mt)=>{const bt=Yt.get(mt);it.forEach(Kt=>Vm(Kt,bt))}),Ne.forEach(it=>{this.processLeaveNode(it)})});const Or=[],Gr=[];for(let it=this._namespaceList.length-1;it>=0;it--)this._namespaceList[it].drainQueuedTransitions(e).forEach(bt=>{const Kt=bt.player,Wr=bt.element;if(Or.push(Kt),this.collectedEnterElements.length){const Ei=Wr[Qo];if(Ei&&Ei.setForMove){if(Ei.previousTriggersValues&&Ei.previousTriggersValues.has(bt.triggerName)){const Of=Ei.previousTriggersValues.get(bt.triggerName),Xo=this.statesByElement.get(bt.element);if(Xo&&Xo.has(bt.triggerName)){const LE=Xo.get(bt.triggerName);LE.value=Of,Xo.set(bt.triggerName,LE)}}return void Kt.destroy()}}const Pl=!O||!this.driver.containsElement(O,Wr),so=Yt.get(Wr),Nd=re.get(Wr),tr=this._buildInstruction(bt,r,Nd,so,Pl);if(tr.errors&&tr.errors.length)return void Gr.push(tr);if(Pl)return Kt.onStart(()=>Rf(Wr,tr.fromStyles)),Kt.onDestroy(()=>Nl(Wr,tr.toStyles)),void o.push(Kt);if(bt.isFallbackTransition)return Kt.onStart(()=>Rf(Wr,tr.fromStyles)),Kt.onDestroy(()=>Nl(Wr,tr.toStyles)),void o.push(Kt);const _x=[];tr.timelines.forEach(Ei=>{Ei.stretchStartingKeyframe=!0,this.disabledNodes.has(Ei.element)||_x.push(Ei)}),tr.timelines=_x,r.append(Wr,tr.timelines),h.push({instruction:tr,player:Kt,element:Wr}),tr.queriedElements.forEach(Ei=>ro(g,Ei,[]).push(Kt)),tr.preStyleProps.forEach((Ei,Of)=>{if(Ei.size){let Xo=v.get(Of);Xo||v.set(Of,Xo=new Set),Ei.forEach((LE,PT)=>Xo.add(PT))}}),tr.postStyleProps.forEach((Ei,Of)=>{let Xo=D.get(Of);Xo||D.set(Of,Xo=new Set),Ei.forEach((LE,PT)=>Xo.add(PT))})});if(Gr.length){const it=[];Gr.forEach(mt=>{it.push(function G1(n,t){return new l.vHH(3505,!1)}())}),Or.forEach(mt=>mt.destroy()),this.reportError(it)}const qi=new Map,Hc=new Map;h.forEach(it=>{const mt=it.element;r.has(mt)&&(Hc.set(mt,mt),this._beforeAnimationBuild(it.player.namespaceId,it.instruction,qi))}),o.forEach(it=>{const mt=it.element;this._getPreviousPlayers(mt,!1,it.namespaceId,it.triggerName,null).forEach(Kt=>{ro(qi,mt,[]).push(Kt),Kt.destroy()})});const jc=Ne.filter(it=>ox(it,v,D)),$c=new Map;rx($c,this.driver,yt,D,Fc).forEach(it=>{ox(it,v,D)&&jc.push(it)});const iv=new Map;Q.forEach((it,mt)=>{rx(iv,this.driver,new Set(it),v,"!")}),jc.forEach(it=>{const mt=$c.get(it),bt=iv.get(it);$c.set(it,new Map([...Array.from(mt?.entries()??[]),...Array.from(bt?.entries()??[])]))});const xf=[],mx=[],gx={};h.forEach(it=>{const{element:mt,player:bt,instruction:Kt}=it;if(r.has(mt)){if(M.has(mt))return bt.onDestroy(()=>Nl(mt,Kt.toStyles)),bt.disabled=!0,bt.overrideTotalTime(Kt.totalTime),void o.push(bt);let Wr=gx;if(Hc.size>1){let so=mt;const Nd=[];for(;so=so.parentNode;){const tr=Hc.get(so);if(tr){Wr=tr;break}Nd.push(so)}Nd.forEach(tr=>Hc.set(tr,Wr))}const Pl=this._buildAnimation(bt.namespaceId,Kt,qi,c,iv,$c);if(bt.setRealPlayer(Pl),Wr===gx)xf.push(bt);else{const so=this.playersByElement.get(Wr);so&&so.length&&(bt.parentPlayer=kd(so)),o.push(bt)}}else Rf(mt,Kt.fromStyles),bt.onDestroy(()=>Nl(mt,Kt.toStyles)),mx.push(bt),M.has(mt)&&o.push(bt)}),mx.forEach(it=>{const mt=c.get(it.element);if(mt&&mt.length){const bt=kd(mt);it.setRealPlayer(bt)}}),o.forEach(it=>{it.parentPlayer?it.syncPlayerEvents(it.parentPlayer):it.destroy()});for(let it=0;it<Ne.length;it++){const mt=Ne[it],bt=mt[Qo];if(Vm(mt,bE),bt&&bt.hasAnimation)continue;let Kt=[];if(g.size){let Pl=g.get(mt);Pl&&Pl.length&&Kt.push(...Pl);let so=this.driver.query(mt,yT,!0);for(let Nd=0;Nd<so.length;Nd++){let tr=g.get(so[Nd]);tr&&tr.length&&Kt.push(...tr)}}const Wr=Kt.filter(Pl=>!Pl.destroyed);Wr.length?ZL(this,mt,Wr):this.processLeaveNode(mt)}return Ne.length=0,xf.forEach(it=>{this.players.push(it),it.onDone(()=>{it.destroy();const mt=this.players.indexOf(it);this.players.splice(mt,1)}),it.play()}),xf}elementContainsData(t,e){let r=!1;const o=e[Qo];return o&&o.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,o,c){let h=[];if(e){const g=this.playersByQueriedElement.get(t);g&&(h=g)}else{const g=this.playersByElement.get(t);if(g){const v=!c||c==rv;g.forEach(D=>{D.queued||!v&&D.triggerName!=o||h.push(D)})}}return(r||o)&&(h=h.filter(g=>!(r&&r!=g.namespaceId||o&&o!=g.triggerName))),h}_beforeAnimationBuild(t,e,r){const c=e.element,h=e.isRemovalTransition?void 0:t,g=e.isRemovalTransition?void 0:e.triggerName;for(const v of e.timelines){const D=v.element,M=D!==c,O=ro(r,D,[]);this._getPreviousPlayers(D,M,h,g,e.toState).forEach(Q=>{const re=Q.getRealPlayer();re.beforeDestroy&&re.beforeDestroy(),Q.destroy(),O.push(Q)})}Rf(c,e.fromStyles)}_buildAnimation(t,e,r,o,c,h){const g=e.triggerName,v=e.element,D=[],M=new Set,O=new Set,B=e.timelines.map(re=>{const ye=re.element;M.add(ye);const Ne=ye[Qo];if(Ne&&Ne.removedBeforeQueried)return new Gy(re.duration,re.delay);const qe=ye!==v,yt=function YL(n){const t=[];return sx(n,t),t}((r.get(ye)||HL).map(qi=>qi.getRealPlayer())).filter(qi=>!!qi.element&&qi.element===ye),Yt=c.get(ye),Mt=h.get(ye),Or=kk(0,this._normalizer,0,re.keyframes,Yt,Mt),Gr=this._buildPlayer(re,Or,yt);if(re.subTimeline&&o&&O.add(ye),qe){const qi=new xT(t,g,ye);qi.setRealPlayer(Gr),D.push(qi)}return Gr});D.forEach(re=>{ro(this.playersByQueriedElement,re.element,[]).push(re),re.onDone(()=>function GL(n,t,e){let r=n.get(t);if(r){if(r.length){const o=r.indexOf(e);r.splice(o,1)}0==r.length&&n.delete(t)}return r}(this.playersByQueriedElement,re.element,re))}),M.forEach(re=>Jo(re,Uk));const Q=kd(B);return Q.onDestroy(()=>{M.forEach(re=>Vm(re,Uk)),Nl(v,e.toStyles)}),O.forEach(re=>{ro(o,re,[]).push(Q)}),Q}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new Gy(t.duration,t.delay)}}class xT{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new Gy,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,r)=>{e.forEach(o=>dT(t,r,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ro(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function NE(n){return n&&1===n.nodeType}function nx(n,t){const e=n.style.display;return n.style.display=t??"none",e}function rx(n,t,e,r,o){const c=[];e.forEach(v=>c.push(nx(v)));const h=[];r.forEach((v,D)=>{const M=new Map;v.forEach(O=>{const B=t.computeStyle(D,O,o);M.set(O,B),(!B||0==B.length)&&(D[Qo]=jL,h.push(D))}),n.set(D,M)});let g=0;return e.forEach(v=>nx(v,c[g++])),h}function ix(n,t){const e=new Map;if(n.forEach(g=>e.set(g,[])),0==t.length)return e;const o=new Set(t),c=new Map;function h(g){if(!g)return 1;let v=c.get(g);if(v)return v;const D=g.parentNode;return v=e.has(D)?D:o.has(D)?1:h(D),c.set(g,v),v}return t.forEach(g=>{const v=h(g);1!==v&&e.get(v).push(g)}),e}function Jo(n,t){n.classList?.add(t)}function Vm(n,t){n.classList?.remove(t)}function ZL(n,t,e){kd(e).onDone(()=>n.processLeaveNode(t))}function sx(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof $M?sx(r.players,t):t.push(r)}}function ox(n,t,e){const r=e.get(n);if(!r)return!1;let o=t.get(n);return o?r.forEach(c=>o.add(c)):t.set(n,r),e.delete(n),!0}class PE{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,c)=>{},this._transitionEngine=new zL(t,e,r),this._timelineEngine=new FL(t,e,r),this._transitionEngine.onRemovalComplete=(o,c)=>this.onRemovalComplete(o,c)}registerTrigger(t,e,r,o,c){const h=t+"-"+o;let g=this._triggerCache[h];if(!g){const v=[],M=CT(this._driver,c,v,[]);if(v.length)throw function N1(n,t){return new l.vHH(3404,!1)}();g=function xL(n,t,e){return new OL(n,t,e)}(o,M,this._normalizer),this._triggerCache[h]=g}this._transitionEngine.registerTrigger(e,o,g)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,o){this._transitionEngine.insertNode(t,e,r,o)}onRemove(t,e,r,o){this._transitionEngine.removeNode(t,e,o||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,o){if("@"==r.charAt(0)){const[c,h]=xk(r);this._timelineEngine.command(c,e,h,o)}else this._transitionEngine.trigger(t,e,r,o)}listen(t,e,r,o,c){if("@"==r.charAt(0)){const[h,g]=xk(r);return this._timelineEngine.listen(h,e,g,c)}return this._transitionEngine.listen(t,e,r,o,c)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let JL=(()=>{class n{constructor(e,r,o){this._element=e,this._startStyles=r,this._endStyles=o,this._state=0;let c=n.initialStylesByElement.get(e);c||n.initialStylesByElement.set(e,c=new Map),this._initialStyles=c}start(){this._state<1&&(this._startStyles&&Nl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Nl(this._element,this._initialStyles),this._endStyles&&(Nl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Rf(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Rf(this._element,this._endStyles),this._endStyles=null),Nl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function OT(n){let t=null;return n.forEach((e,r)=>{(function XL(n){return"display"===n||"position"===n})(r)&&(t=t||new Map,t.set(r,e))}),t}class ax{constructor(t,e,r,o){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(t,e,r){return t.animate(this._convertKeyframesToObject(e),r)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,o)=>{"offset"!==o&&t.set(o,this._finished?r:Wk(this.element,o))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class eV{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return Fk(t,e)}getParentElement(t){return mT(t)}query(t,e,r){return Lk(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}animate(t,e,r,o,c,h=[]){const v={duration:r,delay:o,fill:0==o?"both":"forwards"};c&&(v.easing=c);const D=new Map,M=h.filter(Q=>Q instanceof ax);(function iL(n,t){return 0===n||0===t})(r,o)&&M.forEach(Q=>{Q.currentSnapshot.forEach((re,ye)=>D.set(ye,re))});let O=function eL(n){return n.length?n[0]instanceof Map?n:n.map(t=>Hk(t)):[]}(e).map(Q=>Od(Q));O=function sL(n,t,e){if(e.size&&t.length){let r=t[0],o=[];if(e.forEach((c,h)=>{r.has(h)||o.push(h),r.set(h,c)}),o.length)for(let c=1;c<t.length;c++){let h=t[c];o.forEach(g=>h.set(g,Wk(n,g)))}}return t}(t,O,D);const B=function QL(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=OT(t[0]),t.length>1&&(r=OT(t[t.length-1]))):t instanceof Map&&(e=OT(t)),e||r?new JL(n,e,r):null}(t,O);return new ax(t,O,v,B)}}let tV=(()=>{class n extends BM{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(e)?HM(e):e;return lx(this._renderer,null,r,"register",[o]),new nV(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.FYo),l.LFG(oe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class nV extends class VN{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new rV(this._id,t,e||{},this._renderer)}}class rV{constructor(t,e,r,o){this.id=t,this.element=e,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return lx(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function lx(n,t,e,r,o){return n.setProperty(t,`@@${e}:${r}`,o)}const cx="@.disabled";let iV=(()=>{class n{constructor(e,r,o){this.delegate=e,this.engine=r,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(c,h)=>{const g=h?.parentNode(c);g&&h.removeChild(g,c)}}createRenderer(e,r){const c=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let M=this._rendererCache.get(c);return M||(M=new ux("",c,this.engine),this._rendererCache.set(c,M)),M}const h=r.id,g=r.id+"-"+this._currentId;this._currentId++,this.engine.register(g,e);const v=M=>{Array.isArray(M)?M.forEach(v):this.engine.registerTrigger(h,g,e,M.name,M)};return r.data.animation.forEach(v),new sV(this,g,c,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,o){e>=0&&e<this._microtaskId?this._zone.run(()=>r(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(c=>{const[h,g]=c;h(g)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.FYo),l.LFG(PE),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class ux{constructor(t,e,r){this.namespaceId=t,this.delegate=e,this.engine=r,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,o=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,o)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,o){this.delegate.setAttribute(t,e,r,o)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,o){this.delegate.setStyle(t,e,r,o)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==cx?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class sV extends ux{constructor(t,e,r,o){super(e,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==cx?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.slice(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const o=function oV(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let c=e.slice(1),h="";return"@"!=c.charAt(0)&&([c,h]=function aV(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(c)),this.engine.listen(this.namespaceId,o,c,h,g=>{this.factory.scheduleListenerCallback(g._data||-1,r,g)})}return this.delegate.listen(t,e,r)}}const dx=[{provide:BM,useClass:tV},{provide:TT,useFactory:function cV(){return new AL}},{provide:PE,useClass:(()=>{class n extends PE{constructor(e,r,o,c){super(e.body,r,o)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(oe),l.LFG(gT),l.LFG(TT),l.LFG(l.z2F))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})()},{provide:l.FYo,useFactory:function uV(n,t,e){return new iV(n,t,e)},deps:[Oi,PE,l.R0b]}],NT=[{provide:gT,useFactory:()=>new eV},{provide:l.QbO,useValue:"BrowserAnimations"},...dx],hx=[{provide:gT,useClass:Vk},{provide:l.QbO,useValue:"NoopAnimations"},...dx];let dV=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?hx:NT}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:NT,imports:[ln]}),n})(),hV=(()=>{class n{constructor(e){this.firebaseApi=e}getNumberOfMatchs(){return this.firebaseApi.list("matchs").valueChanges().pipe((0,et.U)(e=>e.length))}getAllMatchs(){return this.firebaseApi.list("matchs").valueChanges()}getMatchByID(e){return this.firebaseApi.list("matchs").valueChanges().pipe((0,et.U)(r=>r[e+1]))}setPronosticOnMatch(e,r,o,c){this.firebaseApi.database.ref("matchs").child(`${e}`).child("pronostics").child(`${r}`).set({score:o,winner:c})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(mC))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fV(n,t){if(1&n&&(l.TgZ(0,"p"),l._uU(1),l.qZA()),2&n){const e=l.oxw();l.xp6(1),l.hij(" ",e.user.uid," est connect\xe9")}}let pV=(()=>{class n{constructor(e,r){this.auth=e,this.mService=r}ngOnInit(){this.auth.getCurrentUser().subscribe(e=>{this.user=e,this.signedIn=!!this.user})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Df),l.Y36(hV))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-landing-page"]],decls:5,vars:2,consts:[[4,"ngIf"],[3,"click"]],template:function(e,r){1&e&&(l.YNc(0,fV,2,1,"p",0),l.TgZ(1,"p"),l._uU(2),l.qZA(),l.TgZ(3,"button",1),l.NdJ("click",function(){return r.mService.setPronosticOnMatch(1,1,"2-3","FNC")}),l._uU(4,"Test"),l.qZA()),2&e&&(l.Q6J("ngIf",r.signedIn),l.xp6(2),l.hij(" ",r.signedIn,""))},dependencies:[wn]}),n})();function mV(n,t){if(1&n&&(l.TgZ(0,"div",10),l._uU(1),l.qZA()),2&n){const e=l.oxw();l.xp6(1),l.hij(" ",e.notify," ")}}let gV=(()=>{class n{constructor(e,r){this.formBuilder=e,this.auth=r,this.hide=!0}ngOnInit(){this.loginForm=this.formBuilder.group({email:[null,[Bc.required,Bc.email]],password:[null,Bc.required]})}getEmailErrorMessage(){return this.loginForm.controls.email.errors?.required?"Mets ton mail bouffon":this.loginForm.controls.email.errors?.email?"C'est pas un mail \xe7a tocard":"ok ca passe"}getPasswordErrorMessage(){return this.loginForm.controls.password.errors?.required?"Je vole pas les mots de passe t'inquiete, tu peux en mettre un":this.loginForm.controls.password.errors?.minlength?"Mets au moins 6 caract\xe8res flemmard":"ok ca passe"}login(){this.auth.login(this.loginForm.controls.email.value,this.loginForm.controls.password.value)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(mk),l.Y36(Df))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-login-page"]],decls:26,vars:7,consts:[[1,"form-box"],[3,"formGroup","submit"],["class","alert alert-success",4,"ngIf"],["appearance","fill"],["matInput","","placeholder","Faker.Le-Nul@rinc\xe9.fr","formControlName","email"],["matInput","","placeholder","ABC123!","formControlName","password",3,"type"],["type","button","mat-icon-button","","matSuffix","",3,"click"],["id","authentication-div"],["id","login-button","mat-raised-button","","color","primary","type","submit",3,"disabled"],["type","button","id","register-button","mat-raised-button","","color","warn","routerLink","/register"],[1,"alert","alert-success"]],template:function(e,r){1&e&&(l.TgZ(0,"div",0)(1,"h2"),l._uU(2,"Connexion"),l.qZA(),l.TgZ(3,"form",1),l.NdJ("submit",function(){return r.login()}),l.TgZ(4,"div"),l.YNc(5,mV,2,1,"div",2),l.TgZ(6,"mat-form-field",3)(7,"mat-label"),l._uU(8,"Email"),l.qZA(),l._UZ(9,"input",4),l.TgZ(10,"mat-error"),l._uU(11),l.qZA()(),l.TgZ(12,"mat-form-field",3)(13,"mat-label"),l._uU(14,"Password"),l.qZA(),l._UZ(15,"input",5),l.TgZ(16,"button",6),l.NdJ("click",function(){return r.hide=!r.hide}),l.TgZ(17,"mat-icon"),l._uU(18),l.qZA()(),l.TgZ(19,"mat-error"),l._uU(20),l.qZA()()(),l.TgZ(21,"div",7)(22,"button",8),l._uU(23,"Se connecter"),l.qZA(),l.TgZ(24,"button",9),l._uU(25,"T'es pas inscrit? Viens l\xe0"),l.qZA()()()()),2&e&&(l.xp6(3),l.Q6J("formGroup",r.loginForm),l.xp6(2),l.Q6J("ngIf",r.notify),l.xp6(6),l.Oqu(r.getEmailErrorMessage()),l.xp6(4),l.Q6J("type",r.hide?"password":"text"),l.xp6(3),l.Oqu(r.hide?"visibility_off":"visibility"),l.xp6(2),l.Oqu(r.getPasswordErrorMessage()),l.xp6(2),l.Q6J("disabled",!r.loginForm.valid))},dependencies:[wn,_S,KC,tT,Yy,GS,WS,Lm,yE,yk,Ik,vE,wk,Ak,ju],styles:[".form-box[_ngcontent-%COMP%]{box-sizing:border-box;width:35%;margin:150px auto;padding:10px 30px;box-shadow:#d3d3d3 4px 4px 40px;text-align:center}mat-form-field[_ngcontent-%COMP%]{width:100%}#authentication-div[_ngcontent-%COMP%]{display:flex;margin:20px 0;justify-content:space-evenly}"]}),n})();function _V(n,t){1&n&&(l.TgZ(0,"th",8),l._uU(1," Position "),l.qZA())}function yV(n,t){if(1&n&&(l.TgZ(0,"td",9),l._uU(1),l.qZA()),2&n){const e=t.index;l.xp6(1),l.hij(" ",e+1,"")}}function vV(n,t){1&n&&(l.TgZ(0,"th",8),l._uU(1," Joueur "),l.qZA())}function bV(n,t){if(1&n&&(l.TgZ(0,"td",9),l._uU(1),l.qZA()),2&n){const e=t.$implicit;l.xp6(1),l.hij(" ",e.nickname,"")}}function wV(n,t){1&n&&(l.TgZ(0,"th",8),l._uU(1," Score "),l.qZA())}function CV(n,t){if(1&n&&(l.TgZ(0,"td",9),l._uU(1),l.qZA()),2&n){const e=t.$implicit;l.xp6(1),l.hij(" ",e.score,"")}}function EV(n,t){1&n&&l._UZ(0,"tr",10)}function DV(n,t){1&n&&l._UZ(0,"tr",11)}function SV(n,t){if(1&n&&(l.TgZ(0,"div",11),l._uU(1),l.qZA()),2&n){const e=l.oxw();l.xp6(1),l.hij(" ",e.notify," ")}}const TV=[{path:"",component:pV},{path:"ranking",component:(()=>{class n{constructor(e){this.jService=e,this.displayedColumns=["Position","Name","Score"]}ngOnInit(){this.joueurs$=this.jService.getAllUsers().pipe((0,et.U)(e=>[...e].sort((r,o)=>o.score-r.score)),En(1))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Oy))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-ranking-page"]],decls:12,vars:3,consts:[["mat-table","",3,"dataSource"],["matColumnDef","Position"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Name"],["matColumnDef","Score"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(e,r){1&e&&(l.TgZ(0,"table",0),l.ynx(1,1),l.YNc(2,_V,2,0,"th",2),l.YNc(3,yV,2,1,"td",3),l.BQk(),l.ynx(4,4),l.YNc(5,vV,2,0,"th",2),l.YNc(6,bV,2,1,"td",3),l.BQk(),l.ynx(7,5),l.YNc(8,wV,2,0,"th",2),l.YNc(9,CV,2,1,"td",3),l.BQk(),l.YNc(10,EV,1,0,"tr",6),l.YNc(11,DV,1,0,"tr",7),l.qZA()),2&e&&(l.Q6J("dataSource",r.joueurs$),l.xp6(10),l.Q6J("matHeaderRowDef",r.displayedColumns),l.xp6(1),l.Q6J("matRowDefColumns",r.displayedColumns))},dependencies:[iR,VS,sR,BS,LS,oR,US,HS,aR,lR],styles:["table[_ngcontent-%COMP%]{width:100%}.mat-column-Position[_ngcontent-%COMP%]{width:10%;border-right:2px solid currentColor;padding-right:24px;text-align:center}.mat-column-Name[_ngcontent-%COMP%], .mat-column-Score[_ngcontent-%COMP%]{width:30%;padding-right:24px;text-align:center}"]}),n})()},{path:"login",component:gV},{path:"register",component:(()=>{class n{constructor(e,r){this.formBuilder=e,this.auth=r,this.hide=!0}ngOnInit(){this.loginForm=this.formBuilder.group({email:[null,[Bc.required,Bc.email]],password:[null,[Bc.required,Bc.minLength(6)]],nickname:[null,Bc.required]})}getEmailErrorMessage(){return this.loginForm.controls.email.errors?.required?"Mets ton mail bouffon":this.loginForm.controls.email.errors?.email?"C'est pas un mail \xe7a tocard":"ok ca passe"}getPasswordErrorMessage(){return this.loginForm.controls.password.errors?.required?"Je vole pas les mots de passe t'inquiete, tu peux en mettre un":this.loginForm.controls.password.errors?.minlength?"Mets au moins 6 caract\xe8res flemmard":"ok ca passe"}getNicknameErrorMessage(){return this.loginForm.controls.nickname.errors?.required?"N'ai pas honte de ton pseudo, Shems":"ok ca passe"}register(){this.auth.register(this.loginForm.controls.email.value,this.loginForm.controls.password.value,this.loginForm.controls.nickname.value)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(mk),l.Y36(Df))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-register-page"]],decls:34,vars:8,consts:[[1,"form-box"],[3,"formGroup","submit"],["class","alert alert-success",4,"ngIf"],["appearance","fill"],["matInput","","placeholder","Faker.Le-Nul@rinc\xe9.fr","formControlName","email"],["matInput","","placeholder","XxPluton17xX","formControlName","nickname"],["matInput","","placeholder","ABC123!","formControlName","password",3,"type"],["type","button","mat-icon-button","","matSuffix","",3,"click"],["id","authentication-div"],["id","login-button","mat-raised-button","","color","primary","type","submit",3,"disabled"],["type","button","id","register-button","mat-raised-button","","color","warn","routerLink","/login"],[1,"alert","alert-success"]],template:function(e,r){1&e&&(l.TgZ(0,"div",0)(1,"h2"),l._uU(2,"Inscription"),l.qZA(),l.TgZ(3,"form",1),l.NdJ("submit",function(){return r.register()}),l.TgZ(4,"div"),l.YNc(5,SV,2,1,"div",2),l.TgZ(6,"mat-form-field",3)(7,"mat-label"),l._uU(8,"Email"),l.qZA(),l._UZ(9,"input",4),l.TgZ(10,"mat-error"),l._uU(11),l.qZA()(),l.TgZ(12,"mat-form-field",3)(13,"mat-label"),l._uU(14,"Nickname"),l.qZA(),l._UZ(15,"input",5),l.TgZ(16,"mat-error"),l._uU(17),l.qZA()(),l.TgZ(18,"mat-form-field",3)(19,"mat-label"),l._uU(20,"Password"),l.qZA(),l._UZ(21,"input",6),l.TgZ(22,"button",7),l.NdJ("click",function(){return r.hide=!r.hide}),l.TgZ(23,"mat-icon"),l._uU(24),l.qZA()(),l.TgZ(25,"mat-error"),l._uU(26),l.qZA(),l.TgZ(27,"mat-hint"),l._uU(28,"Pas d'inspi? Mets Arisiii"),l.qZA()()(),l.TgZ(29,"div",8)(30,"button",9),l._uU(31,"S'inscrire"),l.qZA(),l.TgZ(32,"button",10),l._uU(33,"D\xe9j\xe0 inscrit?"),l.qZA()()()()),2&e&&(l.xp6(3),l.Q6J("formGroup",r.loginForm),l.xp6(2),l.Q6J("ngIf",r.notify),l.xp6(6),l.Oqu(r.getEmailErrorMessage()),l.xp6(6),l.Oqu(r.getNicknameErrorMessage()),l.xp6(4),l.Q6J("type",r.hide?"password":"text"),l.xp6(3),l.Oqu(r.hide?"visibility_off":"visibility"),l.xp6(2),l.Oqu(r.getPasswordErrorMessage()),l.xp6(4),l.Q6J("disabled",!r.loginForm.valid))},dependencies:[wn,_S,KC,tT,Yy,GS,WS,Lm,yE,yk,Ik,XF,vE,wk,Ak,ju],styles:[".form-box[_ngcontent-%COMP%]{box-sizing:border-box;width:35%;margin:150px auto;padding:10px 30px;box-shadow:#d3d3d3 4px 4px 40px;text-align:center}mat-form-field[_ngcontent-%COMP%]{width:100%}#authentication-div[_ngcontent-%COMP%]{display:flex;margin:20px 0;justify-content:space-evenly}"]}),n})()}];let AV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[x0.forRoot(TV),x0]}),n})();const fx_firebaseConfig={apiKey:"AIzaSyDYNQFsCg0MRRVm5h_2GlRLCWsxLRJVLvI",authDomain:"pronoworlds.firebaseapp.com",databaseURL:"https://pronoworlds-default-rtdb.europe-west1.firebasedatabase.app",projectId:"pronoworlds",storageBucket:"pronoworlds.appspot.com",messagingSenderId:"448366362482",appId:"1:448366362482:web:1b4a1643e174b4465fe7eb"};let MV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[oP]}),n.\u0275inj=l.cJS({imports:[ln,h1,dV,Mk,AV,ar.hO.initializeApp(fx_firebaseConfig)]}),n})();(0,l.G48)(),Vd().bootstrapModule(MV).catch(n=>console.error(n))},5867:(Xe,De,P)=>{P.d(De,{C6:()=>l.getApps,Mq:()=>l.getApp});var l=P(9681);(0,l.registerVersion)("firebase","9.10.0","app")},127:(Xe,De,P)=>{P.d(De,{Z:()=>l.Z});var l=P(3942);l.Z.registerVersion("firebase","9.10.0","app-compat")},2476:(Xe,De,P)=>{P.r(De);var l=P(5861),te=P(3942),N=P(2090),ue=P(9681),ae=P(655),he=P(1877),oe=P(4859);const be=function Pe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ze=function Ae(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},_e=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ge=new he.Yd("@firebase/auth");function Je(_,...f){Ge.logLevel<=he.in.ERROR&&Ge.error(`Auth (${ue.SDK_VERSION}): ${_}`,...f)}function Te(_,...f){throw Ue(_,...f)}function ve(_,...f){return Ue(_,...f)}function Ce(_,f,m){const b=Object.assign(Object.assign({},Ze()),{[f]:m});return new N.LL("auth","Firebase",b).create(f,{appName:_.name})}function Ve(_,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&Te(_,"argument-error"),Ce(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ue(_,...f){if("string"!=typeof _){const m=f[0],b=[...f.slice(1)];return b[0]&&(b[0].appName=_.name),_._errorFactory.create(m,...b)}return _e.create(_,...f)}function H(_,f,...m){if(!_)throw Ue(f,...m)}function ge(_){const f="INTERNAL ASSERTION FAILED: "+_;throw Je(f),new Error(f)}function J(_,f){_||ge(f)}const ne=new Map;function le(_){J(_ instanceof Function,"Expected a class definition");let f=ne.get(_);return f?(J(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,ne.set(_,f),f)}function Re(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function ot(){return"http:"===Nt()||"https:"===Nt()}function Nt(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Wt{constructor(f,m){this.shortDelay=f,this.longDelay=m,J(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function Rt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ot()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Tn(_,f){J(_.emulator,"Emulator should always be set here");const{url:m}=_.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class Lt{static initialize(f,m,b){this.fetchImpl=f,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Vt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},cr=new Wt(3e4,6e4);function Ct(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function qt(_,f,m,b){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,l.Z)(function*(_,f,m,b,T={}){return Nr(_,T,(0,l.Z)(function*(){let R={},W={};b&&("GET"===f?W=b:R={body:JSON.stringify(b)});const de=(0,N.xO)(Object.assign({key:_.config.apiKey},W)).slice(1),ke=yield _._getAdditionalHeaders();return ke["Content-Type"]="application/json",_.languageCode&&(ke["X-Firebase-Locale"]=_.languageCode),Lt.fetch()(Di(_,_.config.apiHost,m,de),Object.assign({method:f,headers:ke,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function Nr(_,f,m){return or.apply(this,arguments)}function or(){return(or=(0,l.Z)(function*(_,f,m){_._canInitEmulator=!1;const b=Object.assign(Object.assign({},Vt),f);try{const T=new Pr(_),R=yield Promise.race([m(),T.promise]);T.clearNetworkTimeout();const W=yield R.json();if("needConfirmation"in W)throw qr(_,"account-exists-with-different-credential",W);if(R.ok&&!("errorMessage"in W))return W;{const de=R.ok?W.errorMessage:W.error.message,[ke,We]=de.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ke)throw qr(_,"credential-already-in-use",W);if("EMAIL_EXISTS"===ke)throw qr(_,"email-already-in-use",W);if("USER_DISABLED"===ke)throw qr(_,"user-disabled",W);const ct=b[ke]||ke.toLowerCase().replace(/[_\s]+/g,"-");if(We)throw Ce(_,ct,We);Te(_,ct)}}catch(T){if(T instanceof N.ZR)throw T;Te(_,"network-request-failed")}})).apply(this,arguments)}function ur(_,f,m,b){return li.apply(this,arguments)}function li(){return(li=(0,l.Z)(function*(_,f,m,b,T={}){const R=yield qt(_,f,m,b,T);return"mfaPendingCredential"in R&&Te(_,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function Di(_,f,m,b){const T=`${f}${m}?${b}`;return _.config.emulator?Tn(_.config,T):`${_.config.apiScheme}://${T}`}class Pr{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(ve(this.auth,"network-request-failed")),cr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qr(_,f,m){const b={appName:_.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const T=ve(_,f,b);return T.customData._tokenResponse=m,T}function en(){return(en=(0,l.Z)(function*(_,f){return qt(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Zr(_,f){return An.apply(this,arguments)}function An(){return(An=(0,l.Z)(function*(_,f){return qt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ci(_,f){return ui.apply(this,arguments)}function ui(){return(ui=(0,l.Z)(function*(_,f){return qt(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function bn(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function tn(){return(tn=(0,l.Z)(function*(_,f=!1){const m=(0,N.m9)(_),b=yield m.getIdToken(f),T=ze(b);H(T&&T.exp&&T.auth_time&&T.iat,m.auth,"internal-error");const R="object"==typeof T.firebase?T.firebase:void 0,W=R?.sign_in_provider;return{claims:T,token:b,authTime:bn(Ye(T.auth_time)),issuedAtTime:bn(Ye(T.iat)),expirationTime:bn(Ye(T.exp)),signInProvider:W||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}function Ye(_){return 1e3*Number(_)}function ze(_){var f;const[m,b,T]=_.split(".");if(void 0===m||void 0===b||void 0===T)return Je("JWT malformed, contained fewer than 3 sections"),null;try{const R=(0,N.tV)(b);return R?JSON.parse(R):(Je("Failed to decode base64 JWT payload"),null)}catch(R){return Je("Caught error parsing JWT payload as JSON",null===(f=R)||void 0===f?void 0:f.toString()),null}}function Zn(_,f){return sn.apply(this,arguments)}function sn(){return(sn=(0,l.Z)(function*(_,f,m=!1){if(m)return f;try{return yield f}catch(b){throw b instanceof N.ZR&&It(b)&&_.auth.currentUser===_&&(yield _.auth.signOut()),b}})).apply(this,arguments)}function It({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class Fn{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const T=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(f);this.timerId=setTimeout((0,l.Z)(function*(){yield m.iteration()}),b)}iteration(){var f=this;return(0,l.Z)(function*(){var m;try{yield f.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===(null===(m=b)||void 0===m?void 0:m.code)&&f.schedule(!0))}f.schedule()})()}}class Yi{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=bn(this.lastLoginAt),this.creationTime=bn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ht(_){return di.apply(this,arguments)}function di(){return(di=(0,l.Z)(function*(_){var f;const m=_.auth,b=yield _.getIdToken(),T=yield Zn(_,ci(m,{idToken:b}));H(T?.users.length,m,"internal-error");const R=T.users[0];_._notifyReloadListener(R);const W=null!==(f=R.providerUserInfo)&&void 0!==f&&f.length?U(R.providerUserInfo):[],de=z(_.providerData,W),ct=!!_.isAnonymous&&!(_.email&&R.passwordHash||de?.length),st={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:de,metadata:new Yi(R.createdAt,R.lastLoginAt),isAnonymous:ct};Object.assign(_,st)})).apply(this,arguments)}function K(){return(K=(0,l.Z)(function*(_){const f=(0,N.m9)(_);yield Ht(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function z(_,f){return[..._.filter(b=>!f.some(T=>T.providerId===b.providerId)),...f]}function U(_){return _.map(f=>{var{providerId:m}=f,b=(0,ae._T)(f,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function q(){return(q=(0,l.Z)(function*(_,f){const m=yield Nr(_,{},(0,l.Z)(function*(){const b=(0,N.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:T,apiKey:R}=_.config,W=Di(_,T,"/v1/token",`key=${R}`),de=yield _._getAdditionalHeaders();return de["Content-Type"]="application/x-www-form-urlencoded",Lt.fetch()(W,{method:"POST",headers:de,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Ie{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){H(f.idToken,"internal-error"),H(typeof f.idToken<"u","internal-error"),H(typeof f.refreshToken<"u","internal-error");const m="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function oo(_){const f=ze(_);return H(f,"internal-error"),H(typeof f.exp<"u","internal-error"),H(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var b=this;return(0,l.Z)(function*(){return H(!b.accessToken||b.refreshToken,f,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(f,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var b=this;return(0,l.Z)(function*(){const{accessToken:T,refreshToken:R,expiresIn:W}=yield function G(_,f){return q.apply(this,arguments)}(f,m);b.updateTokensAndExpiration(T,R,Number(W))})()}updateTokensAndExpiration(f,m,b){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(f,m){const{refreshToken:b,accessToken:T,expirationTime:R}=m,W=new Ie;return b&&(H("string"==typeof b,"internal-error",{appName:f}),W.refreshToken=b),T&&(H("string"==typeof T,"internal-error",{appName:f}),W.accessToken=T),R&&(H("number"==typeof R,"internal-error",{appName:f}),W.expirationTime=R),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Ie,this.toJSON())}_performRefresh(){return ge("not implemented")}}function Fe(_,f){H("string"==typeof _||typeof _>"u","internal-error",{appName:f})}class nt{constructor(f){var{uid:m,auth:b,stsTokenManager:T}=f,R=(0,ae._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Fn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new Yi(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,l.Z)(function*(){const b=yield Zn(m,m.stsTokenManager.getToken(m.auth,f));return H(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(f){return function Zi(_){return tn.apply(this,arguments)}(this,f)}reload(){return function At(_){return K.apply(this,arguments)}(this)}_assign(f){this!==f&&(H(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new nt(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){H(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var b=this;return(0,l.Z)(function*(){let T=!1;f.idToken&&f.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(f),T=!0),m&&(yield Ht(b)),yield b.auth._persistUserIfCurrent(b),T&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var f=this;return(0,l.Z)(function*(){const m=yield f.getIdToken();return yield Zn(f,function lt(_,f){return en.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var b,T,R,W,de,ke,We,ct;const st=null!==(b=m.displayName)&&void 0!==b?b:void 0,er=null!==(T=m.email)&&void 0!==T?T:void 0,Ur=null!==(R=m.phoneNumber)&&void 0!==R?R:void 0,zs=null!==(W=m.photoURL)&&void 0!==W?W:void 0,Mu=null!==(de=m.tenantId)&&void 0!==de?de:void 0,Lo=null!==(ke=m._redirectEventId)&&void 0!==ke?ke:void 0,Kf=null!==(We=m.createdAt)&&void 0!==We?We:void 0,Ru=null!==(ct=m.lastLoginAt)&&void 0!==ct?ct:void 0,{uid:Vo,emailVerified:Qf,isAnonymous:Jf,providerData:hc,stsTokenManager:gg}=m;H(Vo&&gg,f,"internal-error");const yv=Ie.fromJSON(this.name,gg);H("string"==typeof Vo,f,"internal-error"),Fe(st,f.name),Fe(er,f.name),H("boolean"==typeof Qf,f,"internal-error"),H("boolean"==typeof Jf,f,"internal-error"),Fe(Ur,f.name),Fe(zs,f.name),Fe(Mu,f.name),Fe(Lo,f.name),Fe(Kf,f.name),Fe(Ru,f.name);const fc=new nt({uid:Vo,auth:f,email:er,emailVerified:Qf,displayName:st,isAnonymous:Jf,photoURL:zs,phoneNumber:Ur,tenantId:Mu,stsTokenManager:yv,createdAt:Kf,lastLoginAt:Ru});return hc&&Array.isArray(hc)&&(fc.providerData=hc.map(vv=>Object.assign({},vv))),Lo&&(fc._redirectEventId=Lo),fc}static _fromIdTokenResponse(f,m,b=!1){return(0,l.Z)(function*(){const T=new Ie;T.updateFromServerResponse(m);const R=new nt({uid:m.localId,auth:f,stsTokenManager:T,isAnonymous:b});return yield Ht(R),R})()}}const jt=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(m,b){var T=this;return(0,l.Z)(function*(){T.storage[m]=b})()}_get(m){var b=this;return(0,l.Z)(function*(){const T=b.storage[m];return void 0===T?null:T})()}_remove(m){var b=this;return(0,l.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return _.type="NONE",_})();function $n(_,f,m){return`firebase:${_}:${f}:${m}`}class Ke{constructor(f,m,b){this.persistence=f,this.auth=m,this.userKey=b;const{config:T,name:R}=this.auth;this.fullUserKey=$n(this.userKey,T.apiKey,R),this.fullPersistenceKey=$n("persistence",T.apiKey,R),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,l.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?nt._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,l.Z)(function*(){if(m.persistence===f)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,b="authUser"){return(0,l.Z)(function*(){if(!m.length)return new Ke(le(jt),f,b);const T=(yield Promise.all(m.map(function(){var We=(0,l.Z)(function*(ct){if(yield ct._isAvailable())return ct});return function(ct){return We.apply(this,arguments)}}()))).filter(We=>We);let R=T[0]||le(jt);const W=$n(b,f.config.apiKey,f.name);let de=null;for(const We of m)try{const ct=yield We._get(W);if(ct){const st=nt._fromJSON(f,ct);We!==R&&(de=st),R=We;break}}catch{}const ke=T.filter(We=>We._shouldAllowMigration);return R._shouldAllowMigration&&ke.length?(R=ke[0],de&&(yield R._set(W,de.toJSON())),yield Promise.all(m.map(function(){var We=(0,l.Z)(function*(ct){if(ct!==R)try{yield ct._remove(W)}catch{}});return function(ct){return We.apply(this,arguments)}}())),new Ke(R,f,b)):new Ke(R,f,b)})()}}function Jt(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(je(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(on(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(zt(f))return"Blackberry";if(Mn(f))return"Webos";if(Yn(f))return"Safari";if((f.includes("chrome/")||nr(f))&&!f.includes("edge/"))return"Chrome";if(dt(f))return"Android";{const b=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function on(_=(0,N.z$)()){return/firefox\//i.test(_)}function Yn(_=(0,N.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function nr(_=(0,N.z$)()){return/crios\//i.test(_)}function je(_=(0,N.z$)()){return/iemobile/i.test(_)}function dt(_=(0,N.z$)()){return/android/i.test(_)}function zt(_=(0,N.z$)()){return/blackberry/i.test(_)}function Mn(_=(0,N.z$)()){return/webos/i.test(_)}function Fr(_=(0,N.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function ea(_=(0,N.z$)()){return Fr(_)||dt(_)||Mn(_)||zt(_)||/windows phone/i.test(_)||je(_)}function vt(_,f=[]){let m;switch(_){case"Browser":m=Jt((0,N.z$)());break;case"Worker":m=`${Jt((0,N.z$)())}-${_}`;break;default:m=_}const b=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${ue.SDK_VERSION}/${b}`}class ta{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const b=R=>new Promise((W,de)=>{try{W(f(R))}catch(ke){de(ke)}});b.onAbort=m,this.queue.push(b);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,l.Z)(function*(){var b;if(m.auth.currentUser===f)return;const T=[];try{for(const R of m.queue)yield R(f),R.onAbort&&T.push(R.onAbort)}catch(R){T.reverse();for(const W of T)try{W()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(b=R)||void 0===b?void 0:b.message})}})()}}class ao{constructor(f,m,b){this.app=f,this.heartbeatServiceProvider=m,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qi(this),this.idTokenSubscription=new Qi(this),this.beforeStateQueue=new ta(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_e,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(f,m){var b=this;return m&&(this._popupRedirectResolver=le(m)),this._initializationPromise=this.queue((0,l.Z)(function*(){var T,R;if(!b._deleted&&(b.persistenceManager=yield Ke.create(b,f),!b._deleted)){if(null!==(T=b._popupRedirectResolver)&&void 0!==T&&T._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(R=b.currentUser)||void 0===R?void 0:R.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,l.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,l.Z)(function*(){var b;const T=yield m.assertedPersistence.getCurrentUser();let R=T,W=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const de=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,ke=R?._redirectEventId,We=yield m.tryRedirectSignIn(f);(!de||de===ke)&&We?.user&&(R=We.user,W=!0)}if(!R)return m.directlySetCurrentUser(null);if(!R._redirectEventId){if(W)try{yield m.beforeStateQueue.runMiddleware(R)}catch(de){R=T,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(de))}return R?m.reloadAndSetCurrentUserOrClear(R):m.directlySetCurrentUser(null)}return H(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===R._redirectEventId?m.directlySetCurrentUser(R):m.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(f){var m=this;return(0,l.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch{yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,l.Z)(function*(){var b;try{yield Ht(f)}catch(T){if("auth/network-request-failed"!==(null===(b=T)||void 0===b?void 0:b.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function He(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,l.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,l.Z)(function*(){const b=f?(0,N.m9)(f):null;return b&&H(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(f,m=!1){var b=this;return(0,l.Z)(function*(){if(!b._deleted)return f&&H(b.tenantId===f.tenantId,b,"tenant-id-mismatch"),m||(yield b.beforeStateQueue.runMiddleware(f)),b.queue((0,l.Z)(function*(){yield b.directlySetCurrentUser(f),b.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,l.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,l.Z)(function*(){yield m.assertedPersistence.setPersistence(le(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new N.LL("auth","Firebase",f())}onAuthStateChanged(f,m,b){return this.registerStateListener(this.authStateSubscription,f,m,b)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,b){return this.registerStateListener(this.idTokenSubscription,f,m,b)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var b=this;return(0,l.Z)(function*(){const T=yield b.getOrInitRedirectPersistenceManager(m);return null===f?T.removeCurrentUser():T.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,l.Z)(function*(){if(!m.redirectPersistenceManager){const b=f&&le(f)||m._popupRedirectResolver;H(b,m,"argument-error"),m.redirectPersistenceManager=yield Ke.create(m,[le(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,l.Z)(function*(){var b,T;return m._isInitialized&&(yield m.queue((0,l.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===f?m._currentUser:(null===(T=m.redirectUser)||void 0===T?void 0:T._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,l.Z)(function*(){if(f===m.currentUser)return m.queue((0,l.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,b,T){if(this._deleted)return()=>{};const R="function"==typeof m?m:m.next.bind(m),W=this._isInitialized?Promise.resolve():this._initializationPromise;return H(W,this,"internal-error"),W.then(()=>R(this.currentUser)),"function"==typeof m?f.addObserver(m,b,T):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,l.Z)(function*(){m.currentUser&&m.currentUser!==f&&m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh(),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return H(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=vt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,l.Z)(function*(){var m;const b={"X-Client-Version":f.clientVersion};f.app.options.appId&&(b["X-Firebase-gmpid"]=f.app.options.appId);const T=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return T&&(b["X-Firebase-Client"]=T),b})()}}function fn(_){return(0,N.m9)(_)}class Qi{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,N.ne)(m=>this.observer=m)}get next(){return H(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ji(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function dr(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class Ts{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return ge("not implemented")}_getIdTokenResponse(f){return ge("not implemented")}_linkToIdToken(f,m){return ge("not implemented")}_getReauthenticationResolver(f){return ge("not implemented")}}function St(_,f){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,l.Z)(function*(_,f){return qt(_,"POST","/v1/accounts:resetPassword",Ct(_,f))})).apply(this,arguments)}function zc(_,f){return lo.apply(this,arguments)}function lo(){return(lo=(0,l.Z)(function*(_,f){return qt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function na(_,f){return es.apply(this,arguments)}function es(){return(es=(0,l.Z)(function*(_,f){return qt(_,"POST","/v1/accounts:update",Ct(_,f))})).apply(this,arguments)}function ts(){return(ts=(0,l.Z)(function*(_,f){return ur(_,"POST","/v1/accounts:signInWithPassword",Ct(_,f))})).apply(this,arguments)}function Rn(_,f){return ra.apply(this,arguments)}function ra(){return(ra=(0,l.Z)(function*(_,f){return qt(_,"POST","/v1/accounts:sendOobCode",Ct(_,f))})).apply(this,arguments)}function wn(_,f){return br.apply(this,arguments)}function br(){return(br=(0,l.Z)(function*(_,f){return Rn(_,f)})).apply(this,arguments)}function uo(_,f){return As.apply(this,arguments)}function As(){return(As=(0,l.Z)(function*(_,f){return Rn(_,f)})).apply(this,arguments)}function ho(_,f){return wr.apply(this,arguments)}function wr(){return(wr=(0,l.Z)(function*(_,f){return Rn(_,f)})).apply(this,arguments)}function Nf(_,f){return ja.apply(this,arguments)}function ja(){return(ja=(0,l.Z)(function*(_,f){return Rn(_,f)})).apply(this,arguments)}function Fl(){return(Fl=(0,l.Z)(function*(_,f){return ur(_,"POST","/v1/accounts:signInWithEmailLink",Ct(_,f))})).apply(this,arguments)}function Gc(){return(Gc=(0,l.Z)(function*(_,f){return ur(_,"POST","/v1/accounts:signInWithEmailLink",Ct(_,f))})).apply(this,arguments)}class Ll extends Ts{constructor(f,m,b,T=null){super("password",b),this._email=f,this._password=m,this._tenantId=T}static _fromEmailAndPassword(f,m){return new Ll(f,m,"password")}static _fromEmailAndCode(f,m,b=null){return new Ll(f,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,l.Z)(function*(){switch(m.signInMethod){case"password":return function co(_,f){return ts.apply(this,arguments)}(f,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Pd(_,f){return Fl.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:Te(f,"internal-error")}})()}_linkToIdToken(f,m){var b=this;return(0,l.Z)(function*(){switch(b.signInMethod){case"password":return zc(f,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function Pf(_,f){return Gc.apply(this,arguments)}(f,{idToken:m,email:b._email,oobCode:b._password});default:Te(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function zn(_,f){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,l.Z)(function*(_,f){return ur(_,"POST","/v1/accounts:signInWithIdp",Ct(_,f))})).apply(this,arguments)}class Si extends Ts{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new Si(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):Te("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:T}=m,R=(0,ae._T)(m,["providerId","signInMethod"]);if(!b||!T)return null;const W=new Si(b,T);return W.idToken=R.idToken||void 0,W.accessToken=R.accessToken||void 0,W.secret=R.secret,W.nonce=R.nonce,W.pendingToken=R.pendingToken||null,W}_getIdTokenResponse(f){return zn(f,this.buildRequest())}_linkToIdToken(f,m){const b=this.buildRequest();return b.idToken=m,zn(f,b)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,zn(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,N.xO)(m)}return f}}function Lf(_,f){return qc.apply(this,arguments)}function qc(){return(qc=(0,l.Z)(function*(_,f){return qt(_,"POST","/v1/accounts:sendVerificationCode",Ct(_,f))})).apply(this,arguments)}function ns(){return(ns=(0,l.Z)(function*(_,f){return ur(_,"POST","/v1/accounts:signInWithPhoneNumber",Ct(_,f))})).apply(this,arguments)}function Zc(){return(Zc=(0,l.Z)(function*(_,f){const m=yield ur(_,"POST","/v1/accounts:signInWithPhoneNumber",Ct(_,f));if(m.temporaryProof)throw qr(_,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Bf={USER_NOT_FOUND:"user-not-found"};function ia(){return(ia=(0,l.Z)(function*(_,f){return ur(_,"POST","/v1/accounts:signInWithPhoneNumber",Ct(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Bf)})).apply(this,arguments)}class fo extends Ts{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new fo({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new fo({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function Vl(_,f){return ns.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function Vf(_,f){return Zc.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Yc(_,f){return ia.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:b,verificationCode:T}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:b,code:T}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:b,phoneNumber:T,temporaryProof:R}=f;return b||m||T||R?new fo({verificationId:m,verificationCode:b,phoneNumber:T,temporaryProof:R}):null}}class Kr{constructor(f){var m,b,T,R,W,de;const ke=(0,N.zd)((0,N.pd)(f)),We=null!==(m=ke.apiKey)&&void 0!==m?m:null,ct=null!==(b=ke.oobCode)&&void 0!==b?b:null,st=function Bm(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=ke.mode)&&void 0!==T?T:null);H(We&&ct&&st,"argument-error"),this.apiKey=We,this.operation=st,this.code=ct,this.continueUrl=null!==(R=ke.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(W=ke.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(de=ke.tenantId)&&void 0!==de?de:null}static parseLink(f){const m=function Kc(_){const f=(0,N.zd)((0,N.pd)(_)).link,m=f?(0,N.zd)((0,N.pd)(f)).deep_link_id:null,b=(0,N.zd)((0,N.pd)(_)).deep_link_id;return(b?(0,N.zd)((0,N.pd)(b)).link:null)||b||m||f||_}(f);try{return new Kr(m)}catch{return null}}}let po=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(m,b){return Ll._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const T=Kr.parseLink(b);return H(T,"argument-error"),Ll._fromEmailAndCode(m,T.code,T.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class hi{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Ms extends hi{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class mo extends Ms{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return H("providerId"in m&&"signInMethod"in m,"argument-error"),Si._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return H(f.idToken||f.accessToken,"argument-error"),Si._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return mo.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return mo.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:T,pendingToken:R,nonce:W,providerId:de}=f;if(!b&&!T&&!m&&!R||!de)return null;try{return new mo(de)._credential({idToken:m,accessToken:b,nonce:W,pendingToken:R})}catch{return null}}}let go=(()=>{class _ extends Ms{constructor(){super("facebook.com")}static credential(m){return Si._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),sa=(()=>{class _ extends Ms{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return Si._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:T}=m;if(!b&&!T)return null;try{return _.credential(b,T)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Jc=(()=>{class _ extends Ms{constructor(){super("github.com")}static credential(m){return Si._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Ti extends Ts{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return zn(f,this.buildRequest())}_linkToIdToken(f,m){const b=this.buildRequest();return b.idToken=m,zn(f,b)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,zn(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:T,pendingToken:R}=m;return b&&T&&R&&b===T?new Ti(b,R):null}static _create(f,m){return new Ti(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class hr extends hi{constructor(f){H(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return hr.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return hr.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=Ti.fromJSON(f);return H(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:b}=f;if(!m||!b)return null;try{return Ti._create(b,m)}catch{return null}}}let eu=(()=>{class _ extends Ms{constructor(){super("twitter.com")}static credential(m,b){return Si._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:T}=m;if(!b||!T)return null;try{return _.credential(b,T)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function _o(_,f){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,l.Z)(function*(_,f){return ur(_,"POST","/v1/accounts:signUp",Ct(_,f))})).apply(this,arguments)}class Lr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,b,T=!1){return(0,l.Z)(function*(){const R=yield nt._fromIdTokenResponse(f,b,T),W=kn(b);return new Lr({user:R,providerId:W,_tokenResponse:b,operationType:m})})()}static _forOperation(f,m,b){return(0,l.Z)(function*(){yield f._updateTokensIfNecessary(b,!0);const T=kn(b);return new Lr({user:f,providerId:T,_tokenResponse:b,operationType:m})})()}}function kn(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function Fd(){return(Fd=(0,l.Z)(function*(_){var f;const m=fn(_);if(yield m._initializationPromise,null!==(f=m.currentUser)&&void 0!==f&&f.isAnonymous)return new Lr({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield _o(m,{returnSecureToken:!0}),T=yield Lr._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(T.user),T})).apply(this,arguments)}class Rs extends N.ZR{constructor(f,m,b,T){var R;super(m.code,m.message),this.operationType=b,this.user=T,Object.setPrototypeOf(this,Rs.prototype),this.customData={appName:f.name,tenantId:null!==(R=f.tenantId)&&void 0!==R?R:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(f,m,b,T){return new Rs(f,m,b,T)}}function Cr(_,f,m,b){return("reauthenticate"===f?m._getReauthenticationResolver(_):m._getIdTokenResponse(_)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?Rs._fromErrorAndOperation(_,R,f,b):R})}function Ai(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function Mi(){return(Mi=(0,l.Z)(function*(_,f){const m=(0,N.m9)(_);yield Qr(!0,m,f);const{providerUserInfo:b}=yield Zr(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),T=Ai(b||[]);return m.providerData=m.providerData.filter(R=>T.has(R.providerId)),T.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Qn(_,f){return yo.apply(this,arguments)}function yo(){return(yo=(0,l.Z)(function*(_,f,m=!1){const b=yield Zn(_,f._linkToIdToken(_.auth,yield _.getIdToken()),m);return Lr._forOperation(_,"link",b)})).apply(this,arguments)}function Qr(_,f,m){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,l.Z)(function*(_,f,m){yield Ht(f);const T=!1===_?"provider-already-linked":"no-such-provider";H(Ai(f.providerData).has(m)===_,f.auth,T)})).apply(this,arguments)}function ki(_,f){return xi.apply(this,arguments)}function xi(){return(xi=(0,l.Z)(function*(_,f,m=!1){var b;const{auth:T}=_,R="reauthenticate";try{const W=yield Zn(_,Cr(T,R,f,_),m);H(W.idToken,T,"internal-error");const de=ze(W.idToken);H(de,T,"internal-error");const{sub:ke}=de;return H(_.uid===ke,T,"user-mismatch"),Lr._forOperation(_,R,W)}catch(W){throw"auth/user-not-found"===(null===(b=W)||void 0===b?void 0:b.code)&&Te(T,"user-mismatch"),W}})).apply(this,arguments)}function vo(_,f){return ht.apply(this,arguments)}function ht(){return(ht=(0,l.Z)(function*(_,f,m=!1){const b="signIn",T=yield Cr(_,b,f),R=yield Lr._fromIdTokenResponse(_,b,T);return m||(yield _._updateCurrentUser(R.user)),R})).apply(this,arguments)}function Cn(_,f){return nu.apply(this,arguments)}function nu(){return(nu=(0,l.Z)(function*(_,f){return vo(fn(_),f)})).apply(this,arguments)}function $a(_,f){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,l.Z)(function*(_,f){const m=(0,N.m9)(_);return yield Qr(!1,m,f.providerId),Qn(m,f)})).apply(this,arguments)}function ks(_,f){return rs.apply(this,arguments)}function rs(){return(rs=(0,l.Z)(function*(_,f){return ki((0,N.m9)(_),f)})).apply(this,arguments)}function za(_,f){return bo.apply(this,arguments)}function bo(){return(bo=(0,l.Z)(function*(_,f){return ur(_,"POST","/v1/accounts:signInWithCustomToken",Ct(_,f))})).apply(this,arguments)}function Tt(){return(Tt=(0,l.Z)(function*(_,f){const m=fn(_),b=yield za(m,{token:f,returnSecureToken:!0}),T=yield Lr._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(T.user),T})).apply(this,arguments)}class is{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?wo._fromServerResponse(f,m):Te(f,"internal-error")}}class wo extends is{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new wo(m)}}function an(_,f,m){var b;H((null===(b=m.url)||void 0===b?void 0:b.length)>0,_,"invalid-continue-uri"),H(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(H(m.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(H(m.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function ss(){return(ss=(0,l.Z)(function*(_,f,m){const b=(0,N.m9)(_),T={requestType:"PASSWORD_RESET",email:f};m&&an(b,T,m),yield uo(b,T)})).apply(this,arguments)}function la(){return(la=(0,l.Z)(function*(_,f,m){yield St((0,N.m9)(_),{oobCode:f,newPassword:m})})).apply(this,arguments)}function Co(){return(Co=(0,l.Z)(function*(_,f){yield na((0,N.m9)(_),{oobCode:f})})).apply(this,arguments)}function ua(_,f){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,l.Z)(function*(_,f){const m=(0,N.m9)(_),b=yield St(m,{oobCode:f}),T=b.requestType;switch(H(T,m,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":H(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":H(b.mfaInfo,m,"internal-error");default:H(b.email,m,"internal-error")}let R=null;return b.mfaInfo&&(R=is._fromServerResponse(fn(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:R},operation:T}})).apply(this,arguments)}function Ln(){return(Ln=(0,l.Z)(function*(_,f){const{data:m}=yield ua((0,N.m9)(_),f);return m.email})).apply(this,arguments)}function da(){return(da=(0,l.Z)(function*(_,f,m){const b=fn(_),T=yield _o(b,{returnSecureToken:!0,email:f,password:m}),R=yield Lr._fromIdTokenResponse(b,"signIn",T);return yield b._updateCurrentUser(R.user),R})).apply(this,arguments)}function Hl(){return(Hl=(0,l.Z)(function*(_,f,m){const b=(0,N.m9)(_),T={requestType:"EMAIL_SIGNIN",email:f};H(m.handleCodeInApp,b,"argument-error"),m&&an(b,T,m),yield ho(b,T)})).apply(this,arguments)}function ha(){return(ha=(0,l.Z)(function*(_,f,m){const b=(0,N.m9)(_),T=po.credentialWithLink(f,m||Re());return H(T._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Cn(b,T)})).apply(this,arguments)}function $l(_,f){return Os.apply(this,arguments)}function Os(){return(Os=(0,l.Z)(function*(_,f){return qt(_,"POST","/v1/accounts:createAuthUri",Ct(_,f))})).apply(this,arguments)}function fa(){return(fa=(0,l.Z)(function*(_,f){const b={identifier:f,continueUri:ot()?Re():"http://localhost"},{signinMethods:T}=yield $l((0,N.m9)(_),b);return T||[]})).apply(this,arguments)}function Eo(){return(Eo=(0,l.Z)(function*(_,f){const m=(0,N.m9)(_),T={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&an(m.auth,T,f);const{email:R}=yield wn(m.auth,T);R!==_.email&&(yield _.reload())})).apply(this,arguments)}function qa(){return(qa=(0,l.Z)(function*(_,f,m){const b=(0,N.m9)(_),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};m&&an(b.auth,R,m);const{email:W}=yield Nf(b.auth,R);W!==_.email&&(yield _.reload())})).apply(this,arguments)}function Za(_,f){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,l.Z)(function*(_,f){return qt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Do(){return(Do=(0,l.Z)(function*(_,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const b=(0,N.m9)(_),R={idToken:yield b.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},W=yield Zn(b,Za(b.auth,R));b.displayName=W.displayName||null,b.photoURL=W.photoUrl||null;const de=b.providerData.find(({providerId:ke})=>"password"===ke);de&&(de.displayName=b.displayName,de.photoURL=b.photoURL),yield b._updateTokensIfNecessary(W)})).apply(this,arguments)}function Wn(_,f,m){return Br.apply(this,arguments)}function Br(){return(Br=(0,l.Z)(function*(_,f,m){const{auth:b}=_,R={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(R.email=f),m&&(R.password=m);const W=yield Zn(_,zc(b,R));yield _._updateTokensIfNecessary(W,!0)})).apply(this,arguments)}class pa{constructor(f,m,b={}){this.isNewUser=f,this.providerId=m,this.profile=b}}class iu extends pa{constructor(f,m,b,T){super(f,m,b),this.username=T}}class Bd extends pa{constructor(f,m){super(f,"facebook.com",m)}}class Gl extends iu{constructor(f,m){super(f,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class su extends pa{constructor(f,m){super(f,"google.com",m)}}class Wl extends iu{constructor(f,m,b){super(f,"twitter.com",m,b)}}function Ja(_){const{user:f,_tokenResponse:m}=_;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function ln(_){var f,m;if(!_)return null;const{providerId:b}=_,T=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},R=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!b&&_?.idToken){const W=null===(m=null===(f=ze(_.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(W)return new pa(R,"anonymous"!==W&&"custom"!==W?W:null)}if(!b)return null;switch(b){case"facebook.com":return new Bd(R,T);case"github.com":return new Gl(R,T);case"google.com":return new su(R,T);case"twitter.com":return new Wl(R,T,_.screenName||null);case"custom":case"anonymous":return new pa(R,null);default:return new pa(R,b,T)}}(m)}class mi{constructor(f,m,b){this.type=f,this.credential=m,this.auth=b}static _fromIdtoken(f,m){return new mi("enroll",f,m)}static _fromMfaPendingCredential(f){return new mi("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,b;if(f?.multiFactorSession){if(null!==(m=f.multiFactorSession)&&void 0!==m&&m.pendingCredential)return mi._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(b=f.multiFactorSession)&&void 0!==b&&b.idToken)return mi._fromIdtoken(f.multiFactorSession.idToken)}return null}}class ga{constructor(f,m,b){this.session=f,this.hints=m,this.signInResolver=b}static _fromError(f,m){const b=fn(f),T=m.customData._serverResponse,R=(T.mfaInfo||[]).map(de=>is._fromServerResponse(b,de));H(T.mfaPendingCredential,b,"internal-error");const W=mi._fromMfaPendingCredential(T.mfaPendingCredential);return new ga(W,R,function(){var de=(0,l.Z)(function*(ke){const We=yield ke._process(b,W);delete T.mfaInfo,delete T.mfaPendingCredential;const ct=Object.assign(Object.assign({},T),{idToken:We.idToken,refreshToken:We.refreshToken});switch(m.operationType){case"signIn":const st=yield Lr._fromIdTokenResponse(b,m.operationType,ct);return yield b._updateCurrentUser(st.user),st;case"reauthenticate":return H(m.user,b,"internal-error"),Lr._forOperation(m.user,m.operationType,ct);default:Te(b,"internal-error")}});return function(ke){return de.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,l.Z)(function*(){return m.signInResolver(f)})()}}function $d(_,f){return qt(_,"POST","/v2/accounts/mfaEnrollment:start",Ct(_,f))}class _a{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>is._fromServerResponse(f.auth,b)))})}static _fromUser(f){return new _a(f)}getSession(){var f=this;return(0,l.Z)(function*(){return mi._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,m){var b=this;return(0,l.Z)(function*(){const T=f,R=yield b.getSession(),W=yield Zn(b.user,T._process(b.user.auth,R,m));return yield b.user._updateTokensIfNecessary(W),b.user.reload()})()}unenroll(f){var m=this;return(0,l.Z)(function*(){var b;const T="string"==typeof f?f:f.uid,R=yield m.user.getIdToken(),W=yield Zn(m.user,function jm(_,f){return qt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Ct(_,f))}(m.user.auth,{idToken:R,mfaEnrollmentId:T}));m.enrolledFactors=m.enrolledFactors.filter(({uid:de})=>de!==T),yield m.user._updateTokensIfNecessary(W);try{yield m.user.reload()}catch(de){if("auth/user-token-expired"!==(null===(b=de)||void 0===b?void 0:b.code))throw de}})()}}const ya=new WeakMap,os="__sak";class lu{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(os,"1"),this.storage.removeItem(os),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const as=(()=>{class _ extends lu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function zd(){const _=(0,N.z$)();return Yn(_)||Fr(_)}()&&function Ki(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ea(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const T=this.storage.getItem(b),R=this.localCache[b];T!==R&&m(b,R,T)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((de,ke,We)=>{this.notifyListeners(de,We)});const T=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const de=this.storage.getItem(T);if(m.newValue!==de)null!==m.newValue?this.storage.setItem(T,m.newValue):this.storage.removeItem(T);else if(this.localCache[T]===m.newValue&&!b)return}const R=()=>{const de=this.storage.getItem(T);!b&&this.localCache[T]===de||this.notifyListeners(T,de)},W=this.storage.getItem(T);!function hn(){return(0,N.w1)()&&10===document.documentMode}()||W===m.newValue||m.newValue===m.oldValue?R():setTimeout(R,10)}notifyListeners(m,b){this.localCache[m]=b;const T=this.listeners[m];if(T)for(const R of Array.from(T))R(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var T=()=>super._set,R=this;return(0,l.Z)(function*(){yield T().call(R,m,b),R.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,T=this;return(0,l.Z)(function*(){const R=yield b().call(T,m);return T.localCache[m]=JSON.stringify(R),R})()}_remove(m){var b=()=>super._remove,T=this;return(0,l.Z)(function*(){yield b().call(T,m),delete T.localCache[m]})()}}return _.type="LOCAL",_})(),ls=(()=>{class _ extends lu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return _.type="SESSION",_})();let $t=(()=>{class _{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(R=>R.isListeningto(m));if(b)return b;const T=new _(m);return this.receivers.push(T),T}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,l.Z)(function*(){const T=m,{eventId:R,eventType:W,data:de}=T.data,ke=b.handlersMap[W];if(!ke?.size)return;T.ports[0].postMessage({status:"ack",eventId:R,eventType:W});const We=Array.from(ke).map(function(){var st=(0,l.Z)(function*(er){return er(T.origin,de)});return function(er){return st.apply(this,arguments)}}()),ct=yield function cu(_){return Promise.all(_.map(function(){var f=(0,l.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return f.apply(this,arguments)}}()))}(We);T.ports[0].postMessage({status:"done",eventId:R,eventType:W,response:ct})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Jr(_="",f=10){let m="";for(let b=0;b<f;b++)m+=Math.floor(10*Math.random());return _+m}class Pt{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,b=50){var T=this;return(0,l.Z)(function*(){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let W,de;return new Promise((ke,We)=>{const ct=Jr("",20);R.port1.start();const st=setTimeout(()=>{We(new Error("unsupported_event"))},b);de={messageChannel:R,onMessage(er){const Ur=er;if(Ur.data.eventId===ct)switch(Ur.data.status){case"ack":clearTimeout(st),W=setTimeout(()=>{We(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),ke(Ur.data.response);break;default:clearTimeout(st),clearTimeout(W),We(new Error("invalid_response"))}}},T.handlers.add(de),R.port1.addEventListener("message",de.onMessage),T.target.postMessage({eventType:f,eventId:ct,data:m},[R.port2])}).finally(()=>{de&&T.removeMessageHandler(de)})})()}}function Le(){return window}function gi(){return typeof Le().WorkerGlobalScope<"u"&&"function"==typeof Le().importScripts}function Er(){return(Er=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const un="firebaseLocalStorageDb",Ps="firebaseLocalStorage",Zl="fbase_key";class Pi{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function us(_,f){return _.transaction([Ps],f?"readwrite":"readonly").objectStore(Ps)}function So(){const _=indexedDB.open(un,1);return new Promise((f,m)=>{_.addEventListener("error",()=>{m(_.error)}),_.addEventListener("upgradeneeded",()=>{const b=_.result;try{b.createObjectStore(Ps,{keyPath:Zl})}catch(T){m(T)}}),_.addEventListener("success",(0,l.Z)(function*(){const b=_.result;b.objectStoreNames.contains(Ps)?f(b):(b.close(),yield function Fs(){const _=indexedDB.deleteDatabase(un);return new Pi(_).toPromise()}(),f(yield So()))}))})}function gn(_,f,m){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,l.Z)(function*(_,f,m){const b=us(_,!0).put({[Zl]:f,value:m});return new Pi(b).toPromise()})).apply(this,arguments)}function ds(){return(ds=(0,l.Z)(function*(_,f){const m=us(_,!1).get(f),b=yield new Pi(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function ba(_,f){const m=us(_,!0).delete(f);return new Pi(m).toPromise()}const Vn=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,l.Z)(function*(){return m.db||(m.db=yield So()),m.db})()}_withRetries(m){var b=this;return(0,l.Z)(function*(){let T=0;for(;;)try{const R=yield b._openDb();return yield m(R)}catch(R){if(T++>3)throw R;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,l.Z)(function*(){return gi()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,l.Z)(function*(){m.receiver=$t._getInstance(function mn(){return gi()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,l.Z)(function*(T,R){return{keyProcessed:(yield m._poll()).includes(R.key)}});return function(T,R){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,l.Z)(function*(T,R){return["keyChanged"]});return function(T,R){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,l.Z)(function*(){var b,T;if(m.activeServiceWorker=yield function cs(){return Er.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Pt(m.activeServiceWorker);const R=yield m.sender._send("ping",{},800);!R||(null===(b=R[0])||void 0===b?void 0:b.fulfilled)&&(null===(T=R[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,l.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function pn(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const m=yield So();return yield gn(m,os,"1"),yield ba(m,os),!0}catch{}return!1})()}_withPendingWrite(m){var b=this;return(0,l.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var T=this;return(0,l.Z)(function*(){return T._withPendingWrite((0,l.Z)(function*(){return yield T._withRetries(R=>gn(R,m,b)),T.localCache[m]=b,T.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,l.Z)(function*(){const T=yield b._withRetries(R=>function En(_,f){return ds.apply(this,arguments)}(R,m));return b.localCache[m]=T,T})()}_remove(m){var b=this;return(0,l.Z)(function*(){return b._withPendingWrite((0,l.Z)(function*(){return yield b._withRetries(T=>ba(T,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,l.Z)(function*(){const b=yield m._withRetries(W=>{const de=us(W,!1).getAll();return new Pi(de).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const T=[],R=new Set;for(const{fbase_key:W,value:de}of b)R.add(W),JSON.stringify(m.localCache[W])!==JSON.stringify(de)&&(m.notifyListeners(W,de),T.push(W));for(const W of Object.keys(m.localCache))m.localCache[W]&&!R.has(W)&&(m.notifyListeners(W,null),T.push(W));return T})()}notifyListeners(m,b){this.localCache[m]=b;const T=this.listeners[m];if(T)for(const R of Array.from(T))R(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Fi(_,f){return qt(_,"POST","/v2/accounts/mfaSignIn:start",Ct(_,f))}function ar(){return(ar=(0,l.Z)(function*(_){return(yield qt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Dr(_){return new Promise((f,m)=>{const b=document.createElement("script");b.setAttribute("src",_),b.onload=f,b.onerror=T=>{const R=ve("internal-error");R.customData=T,m(R)},b.type="text/javascript",b.charset="UTF-8",function wa(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(b)})}function uu(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Ls=1e12;class sv{constructor(f){this.auth=f,this.counter=Ls,this._widgets=new Map}render(f,m){const b=this.counter;return this._widgets.set(b,new $m(f,this.auth.name,m||{})),this.counter++,b}reset(f){var m;const b=f||Ls;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(f){var m;return(null===(m=this._widgets.get(f||Ls))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,l.Z)(function*(){var b;return null===(b=m._widgets.get(f||Ls))||void 0===b||b.execute(),""})()}}class $m{constructor(f,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof f?document.getElementById(f):f;H(T,"argument-error",{appName:m}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Hf(_){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<_;b++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Wd=uu("rcb"),zm=new Wt(3e4,6e4);class Ao{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=Le().grecaptcha)||void 0===f||!f.render)}load(f,m=""){return H(function ov(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(m),f,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Le().grecaptcha):new Promise((b,T)=>{const R=Le().setTimeout(()=>{T(ve(f,"network-request-failed"))},zm.get());Le()[Wd]=()=>{Le().clearTimeout(R),delete Le()[Wd];const de=Le().grecaptcha;if(!de)return void T(ve(f,"internal-error"));const ke=de.render;de.render=(We,ct)=>{const st=ke(We,ct);return this.counter++,st},this.hostLanguage=m,b(de)},Dr(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:Wd,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(R),T(ve(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var m;return!(null===(m=Le().grecaptcha)||void 0===m||!m.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class av{load(f){return(0,l.Z)(function*(){return new sv(f)})()}clearedOneInstance(){}}const qn="recaptcha",qd={theme:"light",type:"image"};class Yl{constructor(f,m=Object.assign({},qd),b){this.parameters=m,this.type=qn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fn(b),this.isInvisible="invisible"===this.parameters.size,H(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof f?document.getElementById(f):f;H(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new av:new Ao,this.validateStartingState()}verify(){var f=this;return(0,l.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),b=f.getAssertedRecaptcha();return b.getResponse(m)||new Promise(R=>{const W=de=>{!de||(f.tokenChangeListeners.delete(W),R(de))};f.tokenChangeListeners.add(W),f.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){H(!this.parameters.sitekey,this.auth,"argument-error"),H(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),H(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof f)f(m);else if("string"==typeof f){const b=Le()[f];"function"==typeof b&&b(m)}}}assertNotDestroyed(){H(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,l.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,l.Z)(function*(){H(ot()&&!gi(),f.auth,"internal-error"),yield function Mo(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function nn(_){return ar.apply(this,arguments)}(f.auth);H(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return H(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class fs{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=fo._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function F(){return(F=(0,l.Z)(function*(_,f,m){const b=fn(_),T=yield Dn(b,f,(0,N.m9)(m));return new fs(T,R=>Cn(b,R))})).apply(this,arguments)}function Vs(){return(Vs=(0,l.Z)(function*(_,f,m){const b=(0,N.m9)(_);yield Qr(!1,b,"phone");const T=yield Dn(b.auth,f,(0,N.m9)(m));return new fs(T,R=>$a(b,R))})).apply(this,arguments)}function el(){return(el=(0,l.Z)(function*(_,f,m){const b=(0,N.m9)(_),T=yield Dn(b.auth,f,(0,N.m9)(m));return new fs(T,R=>ks(b,R))})).apply(this,arguments)}function Dn(_,f,m){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,l.Z)(function*(_,f,m){var b;const T=yield m.verify();try{let R;if(H("string"==typeof T,_,"argument-error"),H(m.type===qn,_,"argument-error"),R="string"==typeof f?{phoneNumber:f}:f,"session"in R){const W=R.session;if("phoneNumber"in R)return H("enroll"===W.type,_,"internal-error"),(yield $d(_,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{H("signin"===W.type,_,"internal-error");const de=(null===(b=R.multiFactorHint)||void 0===b?void 0:b.uid)||R.multiFactorUid;return H(de,_,"missing-multi-factor-info"),(yield Fi(_,{mfaPendingCredential:W.credential,mfaEnrollmentId:de,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield Lf(_,{phoneNumber:R.phoneNumber,recaptchaToken:T});return W}}finally{m._reset()}})).apply(this,arguments)}function tl(){return(tl=(0,l.Z)(function*(_,f){yield Qn((0,N.m9)(_),f)})).apply(this,arguments)}let Ro=(()=>{class _{constructor(m){this.providerId=_.PROVIDER_ID,this.auth=fn(m)}verifyPhoneNumber(m,b){return Dn(this.auth,m,(0,N.m9)(b))}static credential(m,b){return fo._fromVerification(m,b)}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:T}=m;return b&&T?fo._fromTokenResponse(b,T):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Bn(_,f){return f?le(f):(H(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Da extends Ts{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return zn(f,this._buildIdpRequest())}_linkToIdToken(f,m){return zn(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return zn(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function Bs(_){return vo(_.auth,new Da(_),_.bypassAuthState)}function hu(_){const{auth:f,user:m}=_;return H(m,f,"internal-error"),ki(m,new Da(_),_.bypassAuthState)}function nl(_){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,l.Z)(function*(_){const{auth:f,user:m}=_;return H(m,f,"internal-error"),Qn(m,new Da(_),_.bypassAuthState)})).apply(this,arguments)}class rl{constructor(f,m,b,T,R=!1){this.auth=f,this.resolver=b,this.user=T,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,l.Z)(function*(b,T){f.pendingPromise={resolve:b,reject:T};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(R){f.reject(R)}});return function(b,T){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,l.Z)(function*(){const{urlResponse:b,sessionId:T,postBody:R,tenantId:W,error:de,type:ke}=f;if(de)return void m.reject(de);const We={auth:m.auth,requestUri:b,sessionId:T,tenantId:W||void 0,postBody:R||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(ke)(We))}catch(ct){m.reject(ct)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Bs;case"linkViaPopup":case"linkViaRedirect":return nl;case"reauthViaPopup":case"reauthViaRedirect":return hu;default:Te(this.auth,"internal-error")}}resolve(f){J(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){J(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Xn=new Wt(2e3,1e4);function xo(){return(xo=(0,l.Z)(function*(_,f,m){const b=fn(_);Ve(_,f,hi);const T=Bn(b,m);return new Hs(b,"signInViaPopup",f,T).executeNotNull()})).apply(this,arguments)}function Us(){return(Us=(0,l.Z)(function*(_,f,m){const b=(0,N.m9)(_);Ve(b.auth,f,hi);const T=Bn(b.auth,m);return new Hs(b.auth,"reauthViaPopup",f,T,b).executeNotNull()})).apply(this,arguments)}function il(){return(il=(0,l.Z)(function*(_,f,m){const b=(0,N.m9)(_);Ve(b.auth,f,hi);const T=Bn(b.auth,m);return new Hs(b.auth,"linkViaPopup",f,T,b).executeNotNull()})).apply(this,arguments)}let Hs=(()=>{class _ extends rl{constructor(m,b,T,R,W){super(m,b,R,W),this.provider=T,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var m=this;return(0,l.Z)(function*(){const b=yield m.execute();return H(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,l.Z)(function*(){J(1===m.filter.length,"Popup operations only handle one event");const b=Jr();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(T=>{m.reject(T)}),m.resolver._isIframeWebStorageSupported(m.auth,T=>{T||m.reject(ve(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,T;this.pollId=null!==(T=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ve(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Xn.get())};m()}}return _.currentPopupAction=null,_})();const Li=new Map;class Zd extends rl{constructor(f,m,b=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,l.Z)(function*(){let b=Li.get(m.auth._key());if(!b){try{const R=(yield function Yd(_,f){return Sr.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;b=()=>Promise.resolve(R)}catch(T){b=()=>Promise.reject(T)}Li.set(m.auth._key(),b)}return m.bypassAuthState||Li.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,b=this;return(0,l.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(b,f);if("unknown"!==f.type){if(f.eventId){const T=yield b.auth._redirectUserForId(f.eventId);if(T)return b.user=T,m().call(b,f);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Sr(){return(Sr=(0,l.Z)(function*(_,f){const m=Kl(f),b=_n(_);if(!(yield b._isAvailable()))return!1;const T="true"===(yield b._get(m));return yield b._remove(m),T})).apply(this,arguments)}function Ta(_,f){return sr.apply(this,arguments)}function sr(){return(sr=(0,l.Z)(function*(_,f){return _n(_)._set(Kl(f),"true")})).apply(this,arguments)}function pu(_,f){Li.set(_._key(),f)}function _n(_){return le(_._redirectPersistence)}function Kl(_){return $n("pendingRedirect",_.config.apiKey,_.name)}function E(){return(E=(0,l.Z)(function*(_,f,m){const b=fn(_);Ve(_,f,hi);const T=Bn(b,m);return yield Ta(T,b),T._openRedirect(b,f,"signInViaRedirect")})).apply(this,arguments)}function V(){return(V=(0,l.Z)(function*(_,f,m){const b=(0,N.m9)(_);Ve(b.auth,f,hi);const T=Bn(b.auth,m);yield Ta(T,b.auth);const R=yield rt(b);return T._openRedirect(b.auth,f,"reauthViaRedirect",R)})).apply(this,arguments)}function Se(){return(Se=(0,l.Z)(function*(_,f,m){const b=(0,N.m9)(_);Ve(b.auth,f,hi);const T=Bn(b.auth,m);yield Qr(!1,b,f.providerId),yield Ta(T,b.auth);const R=yield rt(b);return T._openRedirect(b.auth,f,"linkViaRedirect",R)})).apply(this,arguments)}function at(){return(at=(0,l.Z)(function*(_,f){return yield fn(_)._initializationPromise,ft(_,f,!1)})).apply(this,arguments)}function ft(_,f){return gt.apply(this,arguments)}function gt(){return(gt=(0,l.Z)(function*(_,f,m=!1){const b=fn(_),T=Bn(b,f),W=yield new Zd(b,T,m).execute();return W&&!m&&(delete W.user._redirectEventId,yield b._persistUserIfCurrent(W.user),yield b._setRedirectUser(null,f)),W})).apply(this,arguments)}function rt(_){return In.apply(this,arguments)}function In(){return(In=(0,l.Z)(function*(_){const f=Jr(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class Aa{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(f,b)&&(m=!0,this.sendToConsumer(f,b),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Jl(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fr(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var b;if(f.error&&!fr(f)){const T=(null===(b=f.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(ve(this.auth,T))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const b=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&b}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ti(f))}saveEventToCache(f){this.cachedEventUids.add(ti(f)),this.lastProcessedEventTime=Date.now()}}function ti(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function fr({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===f?.code}function Ma(_){return _i.apply(this,arguments)}function _i(){return(_i=(0,l.Z)(function*(_,f={}){return qt(_,"GET","/v1/projects",f)})).apply(this,arguments)}const ms=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ra=/^https?/;function sl(){return(sl=(0,l.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield Ma(_);for(const m of f)try{if(Wm(m))return}catch{}Te(_,"unauthorized-domain")})).apply(this,arguments)}function Wm(_){const f=Re(),{protocol:m,hostname:b}=new URL(f);if(_.startsWith("chrome-extension://")){const W=new URL(_);return""===W.hostname&&""===b?"chrome-extension:"===m&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&W.hostname===b}if(!Ra.test(m))return!1;if(ms.test(_))return b===_;const T=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(b)}const gu=new Wt(3e4,6e4);function Kd(){const _=Le().___jsl;if(_?.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let m=0;m<_.CP.length;m++)_.CP[m]=null}let ec=null;function lv(_){return ec=ec||function qm(_){return new Promise((f,m)=>{var b,T,R;function W(){Kd(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Kd(),m(ve(_,"network-request-failed"))},timeout:gu.get()})}if(null!==(T=null===(b=Le().gapi)||void 0===b?void 0:b.iframes)&&void 0!==T&&T.Iframe)f(gapi.iframes.getContext());else{if(null===(R=Le().gapi)||void 0===R||!R.load){const de=uu("iframefcb");return Le()[de]=()=>{gapi.load?W():m(ve(_,"network-request-failed"))},Dr(`https://apis.google.com/js/api.js?onload=${de}`).catch(ke=>m(ke))}W()}}).catch(f=>{throw ec=null,f})}(_),ec}const jf=new Wt(5e3,15e3),Zm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nc(_){const f=_.config;H(f.authDomain,_,"auth-domain-config-required");const m=f.emulator?Tn(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,b={apiKey:f.apiKey,appName:_.name,v:ue.SDK_VERSION},T=tc.get(_.config.apiHost);T&&(b.eid=T);const R=_._getFrameworks();return R.length&&(b.fw=R.join(",")),`${m}?${(0,N.xO)(b).slice(1)}`}function gs(){return gs=(0,l.Z)(function*(_){const f=yield lv(_),m=Le().gapi;return H(m,_,"internal-error"),f.open({where:document.body,url:nc(_),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zm,dontclear:!0},b=>new Promise(function(){var T=(0,l.Z)(function*(R,W){yield b.restyle({setHideOnLeave:!1});const de=ve(_,"network-request-failed"),ke=Le().setTimeout(()=>{W(de)},jf.get());function We(){Le().clearTimeout(ke),R(b)}b.ping(We).then(We,()=>{W(de)})});return function(R,W){return T.apply(this,arguments)}}()))}),gs.apply(this,arguments)}const Ym={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class vu{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $f(_,f,m,b,T,R){H(_.config.authDomain,_,"auth-domain-config-required"),H(_.config.apiKey,_,"invalid-api-key");const W={apiKey:_.config.apiKey,appName:_.name,authType:m,redirectUrl:b,v:ue.SDK_VERSION,eventId:T};if(f instanceof hi){f.setDefaultLanguage(_.languageCode),W.providerId=f.providerId||"",(0,N.xb)(f.getCustomParameters())||(W.customParameters=JSON.stringify(f.getCustomParameters()));for(const[ke,We]of Object.entries(R||{}))W[ke]=We}if(f instanceof Ms){const ke=f.getScopes().filter(We=>""!==We);ke.length>0&&(W.scopes=ke.join(","))}_.tenantId&&(W.tid=_.tenantId);const de=W;for(const ke of Object.keys(de))void 0===de[ke]&&delete de[ke];return`${function dv({config:_}){return _.emulator?Tn(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,N.xO)(de).slice(1)}`}const ic="webStorageSupport";class eh extends class ka{constructor(f){this.factorId=f}_process(f,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,b);case"signin":return this._finalizeSignIn(f,m.credential);default:return ge("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new eh(f)}_finalizeEnroll(f,m,b){return function Hm(_,f){return qt(_,"POST","/v2/accounts/mfaEnrollment:finalize",Ct(_,f))}(f,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function hs(_,f){return qt(_,"POST","/v2/accounts/mfaSignIn:finalize",Ct(_,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let zf=(()=>{class _{constructor(){}static assertion(m){return eh._fromCredential(m)}}return _.FACTOR_ID="phone",_})();var bu="@firebase/auth";class fv{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,l.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(b=>{var T;f((null===(T=b)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);!m||(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){H(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function al(){return window}function tg(){return(tg=(0,l.Z)(function*(_,f,m){var b;const{BuildInfo:T}=al();J(f.sessionId,"AuthEvent did not contain a session ID");const R=yield ig(f.sessionId),W={};return Fr()?W.ibi=T.packageName:dt()?W.apn=T.packageName:Te(_,"operation-not-supported-in-this-environment"),T.displayName&&(W.appDisplayName=T.displayName),W.sessionId=R,$f(_,m,f.type,void 0,null!==(b=f.eventId)&&void 0!==b?b:void 0,W)})).apply(this,arguments)}function xa(){return(xa=(0,l.Z)(function*(_){const{BuildInfo:f}=al(),m={};Fr()?m.iosBundleId=f.packageName:dt()?m.androidPackageName=f.packageName:Te(_,"operation-not-supported-in-this-environment"),yield Ma(_,m)})).apply(this,arguments)}function ll(){return(ll=(0,l.Z)(function*(_,f,m){const{cordova:b}=al();let T=()=>{};try{yield new Promise((R,W)=>{let de=null;function ke(){var st;R();const er=null===(st=b.plugins.browsertab)||void 0===st?void 0:st.close;"function"==typeof er&&er(),"function"==typeof m?.close&&m.close()}function We(){de||(de=window.setTimeout(()=>{W(ve(_,"redirect-cancelled-by-user"))},2e3))}function ct(){"visible"===document?.visibilityState&&We()}f.addPassiveListener(ke),document.addEventListener("resume",We,!1),dt()&&document.addEventListener("visibilitychange",ct,!1),T=()=>{f.removePassiveListener(ke),document.removeEventListener("resume",We,!1),document.removeEventListener("visibilitychange",ct,!1),de&&window.clearTimeout(de)}})}finally{T()}})).apply(this,arguments)}function ig(_){return nh.apply(this,arguments)}function nh(){return(nh=(0,l.Z)(function*(_){const f=gv(_),m=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(m)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function gv(_){if(J(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),m=new Uint8Array(f);for(let b=0;b<_.length;b++)m[b]=_.charCodeAt(b);return m}!function Jm(_){(0,ue._registerComponent)(new oe.wA("auth",(f,{options:m})=>{const b=f.getProvider("app").getImmediate(),T=f.getProvider("heartbeat"),{apiKey:R,authDomain:W}=b.options;return((de,ke)=>{H(R&&!R.includes(":"),"invalid-api-key",{appName:de.name}),H(!W?.includes(":"),"argument-error",{appName:de.name});const We={apiKey:R,authDomain:W,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vt(_)},ct=new ao(de,ke,We);return function Oe(_,f){const m=f?.persistence||[],b=(Array.isArray(m)?m:[m]).map(le);f?.errorMap&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(b,f?.popupRedirectResolver)}(ct,m),ct})(b,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,b)=>{f.getProvider("auth-internal").initialize()})),(0,ue._registerComponent)(new oe.wA("auth-internal",f=>{const m=fn(f.getProvider("auth").getImmediate());return new fv(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ue.registerVersion)(bu,"0.20.7",function th(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,ue.registerVersion)(bu,"0.20.7","esm2017")}("Browser");class og extends Aa{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(f)),super.onEvent(f)}initialized(){var f=this;return(0,l.Z)(function*(){yield f.initPromise})()}}function sc(_){return rh.apply(this,arguments)}function rh(){return(rh=(0,l.Z)(function*(_){const f=yield Gf()._get(Ar(_));return f&&(yield Gf()._remove(Ar(_))),f})).apply(this,arguments)}function oc(){const _=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const b=Math.floor(Math.random()*f.length);_.push(f.charAt(b))}return _.join("")}function Gf(){return le(as)}function Ar(_){return $n("authEvent",_.config.apiKey,_.name)}function ac(_){if(!_?.includes("?"))return{};const[f,...m]=_.split("?");return(0,N.zd)(m.join("?"))}function Wf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ve("no-auth-event")}}function No(){var _;return(null===(_=self?.location)||void 0===_?void 0:_.protocol)||null}function lh(_=(0,N.z$)()){return!("file:"!==No()&&"ionic:"!==No()&&"capacitor:"!==No()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function fg(){try{const _=self.localStorage,f=Jr();if(_)return _.setItem(f,"1"),_.removeItem(f),!function hg(_=(0,N.z$)()){return function dg(){return(0,N.w1)()&&11===document?.documentMode}()||function Iu(_=(0,N.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,N.hl)()}catch{return yi()&&(0,N.hl)()}return!1}function yi(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Po(){return(function ug(){return"http:"===No()||"https:"===No()}()||(0,N.ru)()||lh())&&!function lc(){return(0,N.b$)()||(0,N.UG)()}()&&fg()&&!yi()}function cc(){return lh()&&typeof document<"u"}function ys(){return(ys=(0,l.Z)(function*(){return!!cc()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const Hn={LOCAL:"local",NONE:"none",SESSION:"session"},yn=H,vi="persistence";function cl(_){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,l.Z)(function*(_){yield _._initializationPromise;const f=dh(),m=$n(vi,_.config.apiKey,_.name);f&&f.setItem(m,_._getPersistence())})).apply(this,arguments)}function dh(){var _;try{return(null===(_=function pr(){return typeof window<"u"?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch{return null}}const $s=H;class Vi{constructor(){this.browserResolver=le(class hv{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ls,this._completeRedirectFn=ft,this._overrideRedirectResult=pu}_openPopup(f,m,b,T){var R=this;return(0,l.Z)(function*(){var W;J(null===(W=R.eventManagers[f._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const de=$f(f,m,b,Re(),T);return function Jd(_,f,m,b=500,T=600){const R=Math.max((window.screen.availHeight-T)/2,0).toString(),W=Math.max((window.screen.availWidth-b)/2,0).toString();let de="";const ke=Object.assign(Object.assign({},Ym),{width:b.toString(),height:T.toString(),top:R,left:W}),We=(0,N.z$)().toLowerCase();m&&(de=nr(We)?"_blank":m),on(We)&&(f=f||"http://localhost",ke.scrollbars="yes");const ct=Object.entries(ke).reduce((er,[Ur,zs])=>`${er}${Ur}=${zs},`,"");if(function Yr(_=(0,N.z$)()){var f;return Fr(_)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(We)&&"_self"!==de)return function Xd(_,f){const m=document.createElement("a");m.href=_,m.target=f;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(f||"",de),new vu(null);const st=window.open(f||"",de,ct);H(st,_,"popup-blocked");try{st.focus()}catch{}return new vu(st)}(f,de,Jr())})()}_openRedirect(f,m,b,T){var R=this;return(0,l.Z)(function*(){return yield R._originValidation(f),function cn(_){Le().location.href=_}($f(f,m,b,Re(),T)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:T,promise:R}=this.eventManagers[m];return T?Promise.resolve(T):(J(R,"If manager is not set, promise should be"),R)}const b=this.initAndGetManager(f);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(f){var m=this;return(0,l.Z)(function*(){const b=yield function _u(_){return gs.apply(this,arguments)}(f),T=new Aa(f);return b.register("authEvent",R=>(H(R?.authEvent,f,"invalid-auth-event"),{status:T.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:T},m.iframes[f._key()]=b,T})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(ic,{type:ic},T=>{var R;const W=null===(R=T?.[0])||void 0===R?void 0:R[ic];void 0!==W&&m(!!W),Te(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Xl(_){return sl.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return ea()||Yn()||Fr()}}),this.cordovaResolver=le(class ih{constructor(){this._redirectPersistence=ls,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ft,this._overrideRedirectResult=pu}_initialize(f){var m=this;return(0,l.Z)(function*(){const b=f._key();let T=m.eventManagers.get(b);return T||(T=new og(f),m.eventManagers.set(b,T),m.attachCallbackListeners(f,T)),T})()}_openPopup(f){Te(f,"operation-not-supported-in-this-environment")}_openRedirect(f,m,b,T){var R=this;return(0,l.Z)(function*(){!function rg(_){var f,m,b,T,R,W,de,ke,We,ct;const st=al();H("function"==typeof(null===(f=st?.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),H(typeof(null===(m=st?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),H("function"==typeof(null===(R=null===(T=null===(b=st?.cordova)||void 0===b?void 0:b.plugins)||void 0===T?void 0:T.browsertab)||void 0===R?void 0:R.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),H("function"==typeof(null===(ke=null===(de=null===(W=st?.cordova)||void 0===W?void 0:W.plugins)||void 0===de?void 0:de.browsertab)||void 0===ke?void 0:ke.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),H("function"==typeof(null===(ct=null===(We=st?.cordova)||void 0===We?void 0:We.InAppBrowser)||void 0===ct?void 0:ct.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const W=yield R._initialize(f);yield W.initialized(),W.resetRedirect(),function Oo(){Li.clear()}(),yield R._originValidation(f);const de=function Cu(_,f,m=null){return{type:f,eventId:m,urlResponse:null,sessionId:oc(),postBody:null,tenantId:_.tenantId,error:ve(_,"no-auth-event")}}(f,b,T);yield function Eu(_,f){return Gf()._set(Ar(_),f)}(f,de);const ke=yield function eg(_,f,m){return tg.apply(this,arguments)}(f,de,m),We=yield function ng(_){const{cordova:f}=al();return new Promise(m=>{f.plugins.browsertab.isAvailable(b=>{let T=null;b?f.plugins.browsertab.openUrl(_):T=f.InAppBrowser.open(_,function Kn(_=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),m(T)})})}(ke);return function js(_,f,m){return ll.apply(this,arguments)}(f,W,We)})()}_isIframeWebStorageSupported(f,m){throw new Error("Method not implemented.")}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function mv(_){return xa.apply(this,arguments)}(f)),this.originValidationPromises[m]}attachCallbackListeners(f,m){const{universalLinks:b,handleOpenURL:T,BuildInfo:R}=al(),W=setTimeout((0,l.Z)(function*(){yield sc(f),m.onEvent(Wf())}),500),de=function(){var ct=(0,l.Z)(function*(st){clearTimeout(W);const er=yield sc(f);let Ur=null;er&&st?.url&&(Ur=function ag(_,f){var m,b;const T=function cg(_){const f=ac(_),m=f.link?decodeURIComponent(f.link):void 0,b=ac(m).link,T=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return ac(T).link||T||b||m||_}(f);if(T.includes("/__/auth/callback")){const R=ac(T),W=R.firebaseError?function lg(_){try{return JSON.parse(_)}catch{return null}}(decodeURIComponent(R.firebaseError)):null,de=null===(b=null===(m=W?.code)||void 0===m?void 0:m.split("auth/"))||void 0===b?void 0:b[1],ke=de?ve(de):null;return ke?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:ke,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:T,postBody:null}}return null}(er,st.url)),m.onEvent(Ur||Wf())});return function(er){return ct.apply(this,arguments)}}();typeof b<"u"&&"function"==typeof b.subscribe&&b.subscribe(null,de);const ke=T,We=`${R.packageName.toLowerCase()}://`;al().handleOpenURL=function(){var ct=(0,l.Z)(function*(st){if(st.toLowerCase().startsWith(We)&&de({url:st}),"function"==typeof ke)try{ke(st)}catch(er){console.error(er)}});return function(st){return ct.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=ls,this._completeRedirectFn=ft,this._overrideRedirectResult=pu}_initialize(f){var m=this;return(0,l.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,m,b,T){var R=this;return(0,l.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(f,m,b,T)})()}_openRedirect(f,m,b,T){var R=this;return(0,l.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(f,m,b,T)})()}_isIframeWebStorageSupported(f,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,m)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return cc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return $s(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,l.Z)(function*(){if(f.underlyingResolver)return;const m=yield function ch(){return ys.apply(this,arguments)}();f.underlyingResolver=m?f.cordovaResolver:f.browserResolver})()}}function Et(_){return _.unwrap()}function ul(_){return uc(_)}function uc(_){const{_tokenResponse:f}=_ instanceof N.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof N.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Ro.credentialFromResult(_);const m=f.providerId;if(!m||"password"===m)return null;let b;switch(m){case"google.com":b=sa;break;case"facebook.com":b=go;break;case"github.com":b=Jc;break;case"twitter.com":b=eu;break;default:const{oauthIdToken:T,oauthAccessToken:R,oauthTokenSecret:W,pendingToken:de,nonce:ke}=f;return R||W||T||de?de?m.startsWith("saml.")?Ti._create(m,de):Si._fromParams({providerId:m,signInMethod:m,pendingToken:de,idToken:T,accessToken:R}):new mo(m).credential({idToken:T,accessToken:R,rawNonce:ke}):null}return _ instanceof N.ZR?b.credentialFromError(_):b.credentialFromResult(_)}function Zt(_,f){return f.catch(m=>{throw m instanceof N.ZR&&function hh(_,f){var m,b;const T=null===(m=f.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===(null===(b=f)||void 0===b?void 0:b.code))f.resolver=new Zf(_,function Jn(_,f){var m;const b=(0,N.m9)(_),T=f;return H(f.customData.operationType,b,"argument-error"),H(null===(m=T.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),ga._fromError(b,T)}(_,f));else if(T){const R=uc(f),W=f;R&&(W.credential=R,W.tenantId=T.tenantId||void 0,W.email=T.email||void 0,W.phoneNumber=T.phoneNumber||void 0)}}(_,m),m}).then(m=>{const T=m.user;return{operationType:m.operationType,credential:ul(m),additionalUserInfo:Ja(m),user:Fo.getOrCreate(T)}})}function dc(_,f){return dl.apply(this,arguments)}function dl(){return(dl=(0,l.Z)(function*(_,f){const m=yield f;return{verificationId:m.verificationId,confirm:b=>Zt(_,m.confirm(b))}})).apply(this,arguments)}class Zf{constructor(f,m){this.resolver=m,this.auth=function Su(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Zt(Et(this.auth),this.resolver.resolveSignIn(f))}}class Fo{constructor(f){this._delegate=f,this.multiFactor=function au(_){const f=(0,N.m9)(_);return ya.has(f)||ya.set(f,_a._fromUser(f)),ya.get(f)}(f)}static getOrCreate(f){return Fo.USER_MAP.has(f)||Fo.USER_MAP.set(f,new Fo(f)),Fo.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var m=this;return(0,l.Z)(function*(){return Zt(m.auth,$a(m._delegate,f))})()}linkWithPhoneNumber(f,m){var b=this;return(0,l.Z)(function*(){return dc(b.auth,function Ca(_,f,m){return Vs.apply(this,arguments)}(b._delegate,f,m))})()}linkWithPopup(f){var m=this;return(0,l.Z)(function*(){return Zt(m.auth,function Sa(_,f,m){return il.apply(this,arguments)}(m._delegate,f,Vi))})()}linkWithRedirect(f){var m=this;return(0,l.Z)(function*(){return yield cl(fn(m.auth)),function X(_,f,m){return function ce(_,f,m){return Se.apply(this,arguments)}(_,f,m)}(m._delegate,f,Vi)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var m=this;return(0,l.Z)(function*(){return Zt(m.auth,ks(m._delegate,f))})()}reauthenticateWithPhoneNumber(f,m){return dc(this.auth,function Ea(_,f,m){return el.apply(this,arguments)}(this._delegate,f,m))}reauthenticateWithPopup(f){return Zt(this.auth,function fu(_,f,m){return Us.apply(this,arguments)}(this._delegate,f,Vi))}reauthenticateWithRedirect(f){var m=this;return(0,l.Z)(function*(){return yield cl(fn(m.auth)),function I(_,f,m){return function k(_,f,m){return V.apply(this,arguments)}(_,f,m)}(m._delegate,f,Vi)})()}sendEmailVerification(f){return function zl(_,f){return Eo.apply(this,arguments)}(this._delegate,f)}unlink(f){var m=this;return(0,l.Z)(function*(){return yield function oa(_,f){return Mi.apply(this,arguments)}(m._delegate,f),m})()}updateEmail(f){return function Vd(_,f){return Wn((0,N.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function Qa(_,f){return Wn((0,N.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function du(_,f){return tl.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Ka(_,f){return Do.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,m){return function Wa(_,f,m){return qa.apply(this,arguments)}(this._delegate,f,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Fo.USER_MAP=new WeakMap;const On=H;let Mr=(()=>{class _{constructor(m,b){if(this.app=m,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=m.options;On(T,"invalid-api-key",{appName:m.name}),On(T,"invalid-api-key",{appName:m.name});const R=typeof window<"u"?Vi:void 0;this._delegate=b.initialize({options:{persistence:pg(T,m.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(be),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Fo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,b){!function rr(_,f,m){const b=fn(_);H(b._canInitEmulator,b,"emulator-config-failed"),H(/^https?:\/\//.test(f),b,"invalid-emulator-scheme");const T=!!m?.disableWarnings,R=Ji(f),{host:W,port:de}=function Ii(_){const f=Ji(_),m=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(b);if(T){const R=T[1];return{host:R,port:dr(b.substr(R.length+1))}}{const[R,W]=b.split(":");return{host:R,port:dr(W)}}}(f);b.config.emulator={url:`${R}//${W}${null===de?"":`:${de}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:W,port:de,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function Xi(){function _(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,m,b)}applyActionCode(m){return function ca(_,f){return Co.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return ua(this._delegate,m)}confirmPasswordReset(m,b){return function Vr(_,f,m){return la.apply(this,arguments)}(this._delegate,m,b)}createUserWithEmailAndPassword(m,b){var T=this;return(0,l.Z)(function*(){return Zt(T._delegate,function fi(_,f,m){return da.apply(this,arguments)}(T._delegate,m,b))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Ga(_,f){return fa.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function jl(_,f){return"EMAIL_SIGNIN"===Kr.parseLink(f)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,l.Z)(function*(){On(Po(),m._delegate,"operation-not-supported-in-this-environment");const b=yield function Be(_,f){return at.apply(this,arguments)}(m._delegate,Vi);return b?Zt(m._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function Un(_,f){fn(_)._logFramework(f)}(this._delegate,m)}onAuthStateChanged(m,b,T){const{next:R,error:W,complete:de}=Tu(m,b,T);return this._delegate.onAuthStateChanged(R,W,de)}onIdTokenChanged(m,b,T){const{next:R,error:W,complete:de}=Tu(m,b,T);return this._delegate.onIdTokenChanged(R,W,de)}sendSignInLinkToEmail(m,b){return function Ni(_,f,m){return Hl.apply(this,arguments)}(this._delegate,m,b)}sendPasswordResetEmail(m,b){return function aa(_,f,m){return ss.apply(this,arguments)}(this._delegate,m,b||void 0)}setPersistence(m){var b=this;return(0,l.Z)(function*(){let T;switch(function _v(_,f){yn(Object.values(Hn).includes(f),_,"invalid-persistence-type"),(0,N.b$)()?yn(f!==Hn.SESSION,_,"unsupported-persistence-type"):(0,N.UG)()?yn(f===Hn.NONE,_,"unsupported-persistence-type"):yi()?yn(f===Hn.NONE||f===Hn.LOCAL&&(0,N.hl)(),_,"unsupported-persistence-type"):yn(f===Hn.NONE||fg(),_,"unsupported-persistence-type")}(b._delegate,m),m){case Hn.SESSION:T=ls;break;case Hn.LOCAL:T=(yield le(Vn)._isAvailable())?Vn:as;break;case Hn.NONE:T=jt;break;default:return Te("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Zt(this._delegate,function tu(_){return Fd.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Zt(this._delegate,Cn(this._delegate,m))}signInWithCustomToken(m){return Zt(this._delegate,function Ee(_,f){return Tt.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,b){return Zt(this._delegate,function xs(_,f,m){return Cn((0,N.m9)(_),po.credential(f,m))}(this._delegate,m,b))}signInWithEmailLink(m,b){return Zt(this._delegate,function ru(_,f,m){return ha.apply(this,arguments)}(this._delegate,m,b))}signInWithPhoneNumber(m,b){return dc(this._delegate,function xn(_,f,m){return F.apply(this,arguments)}(this._delegate,m,b))}signInWithPopup(m){var b=this;return(0,l.Z)(function*(){return On(Po(),b._delegate,"operation-not-supported-in-this-environment"),Zt(b._delegate,function ko(_,f,m){return xo.apply(this,arguments)}(b._delegate,m,Vi))})()}signInWithRedirect(m){var b=this;return(0,l.Z)(function*(){return On(Po(),b._delegate,"operation-not-supported-in-this-environment"),yield cl(b._delegate),function mu(_,f,m){return function Ql(_,f,m){return E.apply(this,arguments)}(_,f,m)}(b._delegate,m,Vi)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Oi(_,f){return Ln.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=Hn,_})();function Tu(_,f,m){let b=_;"function"!=typeof _&&({next:b,error:f,complete:m}=_);const T=b;return{next:W=>T(W&&Fo.getOrCreate(W)),error:f,complete:m}}function pg(_,f){const m=function uh(_,f){const m=dh();if(!m)return[];const b=$n(vi,_,f);switch(m.getItem(b)){case Hn.NONE:return[jt];case Hn.LOCAL:return[Vn,ls];case Hn.SESSION:return[ls];default:return[]}}(_,f);if(typeof self<"u"&&!m.includes(Vn)&&m.push(Vn),typeof window<"u")for(const b of[as,ls])m.includes(b)||m.push(b);return m.includes(jt)||m.push(jt),m}class fh{constructor(){this.providerId="phone",this._delegate=new Ro(Et(te.Z.auth()))}static credential(f,m){return Ro.credential(f,m)}verifyPhoneNumber(f,m){return this._delegate.verifyPhoneNumber(f,m)}unwrap(){return this._delegate}}fh.PHONE_SIGN_IN_METHOD=Ro.PHONE_SIGN_IN_METHOD,fh.PROVIDER_ID=Ro.PROVIDER_ID;const Yf=H;class Au{constructor(f,m,b=te.Z.app()){var T;Yf(null===(T=b.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new Yl(f,m,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ph(_){_.INTERNAL.registerComponent(new oe.wA("auth-compat",f=>{const m=f.getProvider("app-compat").getImmediate(),b=f.getProvider("auth");return new Mr(m,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:po,FacebookAuthProvider:go,GithubAuthProvider:Jc,GoogleAuthProvider:sa,OAuthProvider:mo,SAMLAuthProvider:hr,PhoneAuthProvider:fh,PhoneMultiFactorGenerator:zf,RecaptchaVerifier:Au,TwitterAuthProvider:eu,Auth:Mr,AuthCredential:Ts,Error:N.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.20")}(te.Z)},9751:(Xe,De,P)=>{P.d(De,{y:()=>fe});var l=P(930),te=P(727),N=P(8822),ue=P(9635),ae=P(2416),he=P(576),oe=P(2806);let fe=(()=>{class ee{constructor(Ae){Ae&&(this._subscribe=Ae)}lift(Ae){const be=new ee;return be.source=this,be.operator=Ae,be}subscribe(Ae,be,Ze){const _e=function $(ee){return ee&&ee instanceof l.Lv||function j(ee){return ee&&(0,he.m)(ee.next)&&(0,he.m)(ee.error)&&(0,he.m)(ee.complete)}(ee)&&(0,te.Nn)(ee)}(Ae)?Ae:new l.Hp(Ae,be,Ze);return(0,oe.x)(()=>{const{operator:pe,source:Ge}=this;_e.add(pe?pe.call(_e,Ge):Ge?this._subscribe(_e):this._trySubscribe(_e))}),_e}_trySubscribe(Ae){try{return this._subscribe(Ae)}catch(be){Ae.error(be)}}forEach(Ae,be){return new(be=me(be))((Ze,_e)=>{const pe=new l.Hp({next:Ge=>{try{Ae(Ge)}catch(Je){_e(Je),pe.unsubscribe()}},error:_e,complete:Ze});this.subscribe(pe)})}_subscribe(Ae){var be;return null===(be=this.source)||void 0===be?void 0:be.subscribe(Ae)}[N.L](){return this}pipe(...Ae){return(0,ue.U)(Ae)(this)}toPromise(Ae){return new(Ae=me(Ae))((be,Ze)=>{let _e;this.subscribe(pe=>_e=pe,pe=>Ze(pe),()=>be(_e))})}}return ee.create=Pe=>new ee(Pe),ee})();function me(ee){var Pe;return null!==(Pe=ee??ae.v.Promise)&&void 0!==Pe?Pe:Promise}},7579:(Xe,De,P)=>{P.d(De,{x:()=>oe});var l=P(9751),te=P(727);const ue=(0,P(3888).d)(me=>function(){me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=P(8737),he=P(2806);let oe=(()=>{class me extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const ee=new fe(this,this);return ee.operator=$,ee}_throwIfClosed(){if(this.closed)throw new ue}next($){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ee of this.currentObservers)ee.next($)}})}error($){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:ee}=this;for(;ee.length;)ee.shift().error($)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:ee,isStopped:Pe,observers:Ae}=this;return ee||Pe?te.Lc:(this.currentObservers=null,Ae.push($),new te.w0(()=>{this.currentObservers=null,(0,ae.P)(Ae,$)}))}_checkFinalizedStatuses($){const{hasError:ee,thrownError:Pe,isStopped:Ae}=this;ee?$.error(Pe):Ae&&$.complete()}asObservable(){const $=new l.y;return $.source=this,$}}return me.create=(j,$)=>new fe(j,$),me})();class fe extends oe{constructor(j,$){super(),this.destination=j,this.source=$}next(j){var $,ee;null===(ee=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===ee||ee.call($,j)}error(j){var $,ee;null===(ee=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===ee||ee.call($,j)}complete(){var j,$;null===($=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===$||$.call(j)}_subscribe(j){var $,ee;return null!==(ee=null===($=this.source)||void 0===$?void 0:$.subscribe(j))&&void 0!==ee?ee:te.Lc}}},930:(Xe,De,P)=>{P.d(De,{Hp:()=>Ze,Lv:()=>ee});var l=P(576),te=P(727),N=P(2416),ue=P(7849),ae=P(5032);const he=me("C",void 0,void 0);function me(Te,ve,Ce){return{kind:Te,value:ve,error:Ce}}var j=P(3410),$=P(2806);class ee extends te.w0{constructor(ve){super(),this.isStopped=!1,ve?(this.destination=ve,(0,te.Nn)(ve)&&ve.add(this)):this.destination=Je}static create(ve,Ce,Ve){return new Ze(ve,Ce,Ve)}next(ve){this.isStopped?Ge(function fe(Te){return me("N",Te,void 0)}(ve),this):this._next(ve)}error(ve){this.isStopped?Ge(function oe(Te){return me("E",void 0,Te)}(ve),this):(this.isStopped=!0,this._error(ve))}complete(){this.isStopped?Ge(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ve){this.destination.next(ve)}_error(ve){try{this.destination.error(ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Pe=Function.prototype.bind;function Ae(Te,ve){return Pe.call(Te,ve)}class be{constructor(ve){this.partialObserver=ve}next(ve){const{partialObserver:Ce}=this;if(Ce.next)try{Ce.next(ve)}catch(Ve){_e(Ve)}}error(ve){const{partialObserver:Ce}=this;if(Ce.error)try{Ce.error(ve)}catch(Ve){_e(Ve)}else _e(ve)}complete(){const{partialObserver:ve}=this;if(ve.complete)try{ve.complete()}catch(Ce){_e(Ce)}}}class Ze extends ee{constructor(ve,Ce,Ve){let Ue;if(super(),(0,l.m)(ve)||!ve)Ue={next:ve??void 0,error:Ce??void 0,complete:Ve??void 0};else{let H;this&&N.v.useDeprecatedNextContext?(H=Object.create(ve),H.unsubscribe=()=>this.unsubscribe(),Ue={next:ve.next&&Ae(ve.next,H),error:ve.error&&Ae(ve.error,H),complete:ve.complete&&Ae(ve.complete,H)}):Ue=ve}this.destination=new be(Ue)}}function _e(Te){N.v.useDeprecatedSynchronousErrorHandling?(0,$.O)(Te):(0,ue.h)(Te)}function Ge(Te,ve){const{onStoppedNotification:Ce}=N.v;Ce&&j.z.setTimeout(()=>Ce(Te,ve))}const Je={closed:!0,next:ae.Z,error:function pe(Te){throw Te},complete:ae.Z}},727:(Xe,De,P)=>{P.d(De,{Lc:()=>he,w0:()=>ae,Nn:()=>oe});var l=P(576);const N=(0,P(3888).d)(me=>function($){me(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((ee,Pe)=>`${Pe+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var ue=P(8737);class ae{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const Ae of $)Ae.remove(this);else $.remove(this);const{initialTeardown:ee}=this;if((0,l.m)(ee))try{ee()}catch(Ae){j=Ae instanceof N?Ae.errors:[Ae]}const{_finalizers:Pe}=this;if(Pe){this._finalizers=null;for(const Ae of Pe)try{fe(Ae)}catch(be){j=j??[],be instanceof N?j=[...j,...be.errors]:j.push(be)}}if(j)throw new N(j)}}add(j){var $;if(j&&j!==this)if(this.closed)fe(j);else{if(j instanceof ae){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(j)}}_hasParent(j){const{_parentage:$}=this;return $===j||Array.isArray($)&&$.includes(j)}_addParent(j){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(j),$):$?[$,j]:j}_removeParent(j){const{_parentage:$}=this;$===j?this._parentage=null:Array.isArray($)&&(0,ue.P)($,j)}remove(j){const{_finalizers:$}=this;$&&(0,ue.P)($,j),j instanceof ae&&j._removeParent(this)}}ae.EMPTY=(()=>{const me=new ae;return me.closed=!0,me})();const he=ae.EMPTY;function oe(me){return me instanceof ae||me&&"closed"in me&&(0,l.m)(me.remove)&&(0,l.m)(me.add)&&(0,l.m)(me.unsubscribe)}function fe(me){(0,l.m)(me)?me():me.unsubscribe()}},2416:(Xe,De,P)=>{P.d(De,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Xe,De,P)=>{P.d(De,{E:()=>te});const te=new(P(9751).y)(ae=>ae.complete())},8996:(Xe,De,P)=>{P.d(De,{D:()=>ve});var l=P(8421),te=P(5363),N=P(9468),he=P(9751),fe=P(2202),me=P(576),j=P(9672);function ee(Ce,Ve){if(!Ce)throw new Error("Iterable cannot be null");return new he.y(Ue=>{(0,j.f)(Ue,Ve,()=>{const H=Ce[Symbol.asyncIterator]();(0,j.f)(Ue,Ve,()=>{H.next().then(ge=>{ge.done?Ue.complete():Ue.next(ge.value)})},0,!0)})})}var Pe=P(3670),Ae=P(8239),be=P(1144),Ze=P(6495),_e=P(2206),pe=P(4532),Ge=P(3260);function ve(Ce,Ve){return Ve?function Te(Ce,Ve){if(null!=Ce){if((0,Pe.c)(Ce))return function ue(Ce,Ve){return(0,l.Xf)(Ce).pipe((0,N.R)(Ve),(0,te.Q)(Ve))}(Ce,Ve);if((0,be.z)(Ce))return function oe(Ce,Ve){return new he.y(Ue=>{let H=0;return Ve.schedule(function(){H===Ce.length?Ue.complete():(Ue.next(Ce[H++]),Ue.closed||this.schedule())})})}(Ce,Ve);if((0,Ae.t)(Ce))return function ae(Ce,Ve){return(0,l.Xf)(Ce).pipe((0,N.R)(Ve),(0,te.Q)(Ve))}(Ce,Ve);if((0,_e.D)(Ce))return ee(Ce,Ve);if((0,Ze.T)(Ce))return function $(Ce,Ve){return new he.y(Ue=>{let H;return(0,j.f)(Ue,Ve,()=>{H=Ce[fe.h](),(0,j.f)(Ue,Ve,()=>{let ge,J;try{({value:ge,done:J}=H.next())}catch(ne){return void Ue.error(ne)}J?Ue.complete():Ue.next(ge)},0,!0)}),()=>(0,me.m)(H?.return)&&H.return()})}(Ce,Ve);if((0,Ge.L)(Ce))return function Je(Ce,Ve){return ee((0,Ge.Q)(Ce),Ve)}(Ce,Ve)}throw(0,pe.z)(Ce)}(Ce,Ve):(0,l.Xf)(Ce)}},8421:(Xe,De,P)=>{P.d(De,{Xf:()=>Pe});var l=P(655),te=P(1144),N=P(8239),ue=P(9751),ae=P(3670),he=P(2206),oe=P(4532),fe=P(6495),me=P(3260),j=P(576),$=P(7849),ee=P(8822);function Pe(Te){if(Te instanceof ue.y)return Te;if(null!=Te){if((0,ae.c)(Te))return function Ae(Te){return new ue.y(ve=>{const Ce=Te[ee.L]();if((0,j.m)(Ce.subscribe))return Ce.subscribe(ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Te);if((0,te.z)(Te))return function be(Te){return new ue.y(ve=>{for(let Ce=0;Ce<Te.length&&!ve.closed;Ce++)ve.next(Te[Ce]);ve.complete()})}(Te);if((0,N.t)(Te))return function Ze(Te){return new ue.y(ve=>{Te.then(Ce=>{ve.closed||(ve.next(Ce),ve.complete())},Ce=>ve.error(Ce)).then(null,$.h)})}(Te);if((0,he.D)(Te))return pe(Te);if((0,fe.T)(Te))return function _e(Te){return new ue.y(ve=>{for(const Ce of Te)if(ve.next(Ce),ve.closed)return;ve.complete()})}(Te);if((0,me.L)(Te))return function Ge(Te){return pe((0,me.Q)(Te))}(Te)}throw(0,oe.z)(Te)}function pe(Te){return new ue.y(ve=>{(function Je(Te,ve){var Ce,Ve,Ue,H;return(0,l.mG)(this,void 0,void 0,function*(){try{for(Ce=(0,l.KL)(Te);!(Ve=yield Ce.next()).done;)if(ve.next(Ve.value),ve.closed)return}catch(ge){Ue={error:ge}}finally{try{Ve&&!Ve.done&&(H=Ce.return)&&(yield H.call(Ce))}finally{if(Ue)throw Ue.error}}ve.complete()})})(Te,ve).catch(Ce=>ve.error(Ce))})}},6451:(Xe,De,P)=>{P.d(De,{T:()=>he});var l=P(8189),te=P(8421),N=P(515),ue=P(3269),ae=P(8996);function he(...oe){const fe=(0,ue.yG)(oe),me=(0,ue._6)(oe,1/0),j=oe;return j.length?1===j.length?(0,te.Xf)(j[0]):(0,l.J)(me)((0,ae.D)(j,fe)):N.E}},5403:(Xe,De,P)=>{P.d(De,{x:()=>te});var l=P(930);function te(ue,ae,he,oe,fe){return new N(ue,ae,he,oe,fe)}class N extends l.Lv{constructor(ae,he,oe,fe,me,j){super(ae),this.onFinalize=me,this.shouldUnsubscribe=j,this._next=he?function($){try{he($)}catch(ee){ae.error(ee)}}:super._next,this._error=fe?function($){try{fe($)}catch(ee){ae.error(ee)}finally{this.unsubscribe()}}:super._error,this._complete=oe?function(){try{oe()}catch($){ae.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}}},4004:(Xe,De,P)=>{P.d(De,{U:()=>N});var l=P(4482),te=P(5403);function N(ue,ae){return(0,l.e)((he,oe)=>{let fe=0;he.subscribe((0,te.x)(oe,me=>{oe.next(ue.call(ae,me,fe++))}))})}},8189:(Xe,De,P)=>{P.d(De,{J:()=>N});var l=P(5577),te=P(4671);function N(ue=1/0){return(0,l.z)(te.y,ue)}},5577:(Xe,De,P)=>{P.d(De,{z:()=>fe});var l=P(4004),te=P(8421),N=P(4482),ue=P(9672),ae=P(5403),oe=P(576);function fe(me,j,$=1/0){return(0,oe.m)(j)?fe((ee,Pe)=>(0,l.U)((Ae,be)=>j(ee,Ae,Pe,be))((0,te.Xf)(me(ee,Pe))),$):("number"==typeof j&&($=j),(0,N.e)((ee,Pe)=>function he(me,j,$,ee,Pe,Ae,be,Ze){const _e=[];let pe=0,Ge=0,Je=!1;const Te=()=>{Je&&!_e.length&&!pe&&j.complete()},ve=Ve=>pe<ee?Ce(Ve):_e.push(Ve),Ce=Ve=>{Ae&&j.next(Ve),pe++;let Ue=!1;(0,te.Xf)($(Ve,Ge++)).subscribe((0,ae.x)(j,H=>{Pe?.(H),Ae?ve(H):j.next(H)},()=>{Ue=!0},void 0,()=>{if(Ue)try{for(pe--;_e.length&&pe<ee;){const H=_e.shift();be?(0,ue.f)(j,be,()=>Ce(H)):Ce(H)}Te()}catch(H){j.error(H)}}))};return me.subscribe((0,ae.x)(j,ve,()=>{Je=!0,Te()})),()=>{Ze?.()}}(ee,Pe,me,$)))}},5363:(Xe,De,P)=>{P.d(De,{Q:()=>ue});var l=P(9672),te=P(4482),N=P(5403);function ue(ae,he=0){return(0,te.e)((oe,fe)=>{oe.subscribe((0,N.x)(fe,me=>(0,l.f)(fe,ae,()=>fe.next(me),he),()=>(0,l.f)(fe,ae,()=>fe.complete(),he),me=>(0,l.f)(fe,ae,()=>fe.error(me),he)))})}},3099:(Xe,De,P)=>{P.d(De,{B:()=>ae});var l=P(8421),te=P(7579),N=P(930),ue=P(4482);function ae(oe={}){const{connector:fe=(()=>new te.x),resetOnError:me=!0,resetOnComplete:j=!0,resetOnRefCountZero:$=!0}=oe;return ee=>{let Pe,Ae,be,Ze=0,_e=!1,pe=!1;const Ge=()=>{Ae?.unsubscribe(),Ae=void 0},Je=()=>{Ge(),Pe=be=void 0,_e=pe=!1},Te=()=>{const ve=Pe;Je(),ve?.unsubscribe()};return(0,ue.e)((ve,Ce)=>{Ze++,!pe&&!_e&&Ge();const Ve=be=be??fe();Ce.add(()=>{Ze--,0===Ze&&!pe&&!_e&&(Ae=he(Te,$))}),Ve.subscribe(Ce),!Pe&&Ze>0&&(Pe=new N.Hp({next:Ue=>Ve.next(Ue),error:Ue=>{pe=!0,Ge(),Ae=he(Je,me,Ue),Ve.error(Ue)},complete:()=>{_e=!0,Ge(),Ae=he(Je,j),Ve.complete()}}),(0,l.Xf)(ve).subscribe(Pe))})(ee)}}function he(oe,fe,...me){if(!0===fe)return void oe();if(!1===fe)return;const j=new N.Hp({next:()=>{j.unsubscribe(),oe()}});return fe(...me).subscribe(j)}},9468:(Xe,De,P)=>{P.d(De,{R:()=>te});var l=P(4482);function te(N,ue=0){return(0,l.e)((ae,he)=>{he.add(N.schedule(()=>ae.subscribe(he),ue))})}},8505:(Xe,De,P)=>{P.d(De,{b:()=>ae});var l=P(576),te=P(4482),N=P(5403),ue=P(4671);function ae(he,oe,fe){const me=(0,l.m)(he)||oe||fe?{next:he,error:oe,complete:fe}:he;return me?(0,te.e)((j,$)=>{var ee;null===(ee=me.subscribe)||void 0===ee||ee.call(me);let Pe=!0;j.subscribe((0,N.x)($,Ae=>{var be;null===(be=me.next)||void 0===be||be.call(me,Ae),$.next(Ae)},()=>{var Ae;Pe=!1,null===(Ae=me.complete)||void 0===Ae||Ae.call(me),$.complete()},Ae=>{var be;Pe=!1,null===(be=me.error)||void 0===be||be.call(me,Ae),$.error(Ae)},()=>{var Ae,be;Pe&&(null===(Ae=me.unsubscribe)||void 0===Ae||Ae.call(me)),null===(be=me.finalize)||void 0===be||be.call(me)}))}):ue.y}},4408:(Xe,De,P)=>{P.d(De,{o:()=>ae});var l=P(727);class te extends l.w0{constructor(oe,fe){super()}schedule(oe,fe=0){return this}}const N={setInterval(he,oe,...fe){const{delegate:me}=N;return me?.setInterval?me.setInterval(he,oe,...fe):setInterval(he,oe,...fe)},clearInterval(he){const{delegate:oe}=N;return(oe?.clearInterval||clearInterval)(he)},delegate:void 0};var ue=P(8737);class ae extends te{constructor(oe,fe){super(oe,fe),this.scheduler=oe,this.work=fe,this.pending=!1}schedule(oe,fe=0){if(this.closed)return this;this.state=oe;const me=this.id,j=this.scheduler;return null!=me&&(this.id=this.recycleAsyncId(j,me,fe)),this.pending=!0,this.delay=fe,this.id=this.id||this.requestAsyncId(j,this.id,fe),this}requestAsyncId(oe,fe,me=0){return N.setInterval(oe.flush.bind(oe,this),me)}recycleAsyncId(oe,fe,me=0){if(null!=me&&this.delay===me&&!1===this.pending)return fe;N.clearInterval(fe)}execute(oe,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const me=this._execute(oe,fe);if(me)return me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(oe,fe){let j,me=!1;try{this.work(oe)}catch($){me=!0,j=$||new Error("Scheduled action threw falsy error")}if(me)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:oe,scheduler:fe}=this,{actions:me}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ue.P)(me,this),null!=oe&&(this.id=this.recycleAsyncId(fe,oe,null)),this.delay=null,super.unsubscribe()}}}},7565:(Xe,De,P)=>{P.d(De,{v:()=>N});var l=P(6063);class te{constructor(ae,he=te.now){this.schedulerActionCtor=ae,this.now=he}schedule(ae,he=0,oe){return new this.schedulerActionCtor(this,ae).schedule(oe,he)}}te.now=l.l.now;class N extends te{constructor(ae,he=te.now){super(ae,he),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ae){const{actions:he}=this;if(this._active)return void he.push(ae);let oe;this._active=!0;do{if(oe=ae.execute(ae.state,ae.delay))break}while(ae=he.shift());if(this._active=!1,oe){for(;ae=he.shift();)ae.unsubscribe();throw oe}}}},4986:(Xe,De,P)=>{P.d(De,{P:()=>ue,z:()=>N});var l=P(4408);const N=new(P(7565).v)(l.o),ue=N},6063:(Xe,De,P)=>{P.d(De,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(Xe,De,P)=>{P.d(De,{z:()=>l});const l={setTimeout(te,N,...ue){const{delegate:ae}=l;return ae?.setTimeout?ae.setTimeout(te,N,...ue):setTimeout(te,N,...ue)},clearTimeout(te){const{delegate:N}=l;return(N?.clearTimeout||clearTimeout)(te)},delegate:void 0}},2202:(Xe,De,P)=>{P.d(De,{h:()=>te});const te=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Xe,De,P)=>{P.d(De,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Xe,De,P)=>{P.d(De,{_6:()=>he,jO:()=>ue,yG:()=>ae});var l=P(576),te=P(3532);function N(oe){return oe[oe.length-1]}function ue(oe){return(0,l.m)(N(oe))?oe.pop():void 0}function ae(oe){return(0,te.K)(N(oe))?oe.pop():void 0}function he(oe,fe){return"number"==typeof N(oe)?oe.pop():fe}},8737:(Xe,De,P)=>{function l(te,N){if(te){const ue=te.indexOf(N);0<=ue&&te.splice(ue,1)}}P.d(De,{P:()=>l})},3888:(Xe,De,P)=>{function l(te){const ue=te(ae=>{Error.call(ae),ae.stack=(new Error).stack});return ue.prototype=Object.create(Error.prototype),ue.prototype.constructor=ue,ue}P.d(De,{d:()=>l})},2806:(Xe,De,P)=>{P.d(De,{O:()=>ue,x:()=>N});var l=P(2416);let te=null;function N(ae){if(l.v.useDeprecatedSynchronousErrorHandling){const he=!te;if(he&&(te={errorThrown:!1,error:null}),ae(),he){const{errorThrown:oe,error:fe}=te;if(te=null,oe)throw fe}}else ae()}function ue(ae){l.v.useDeprecatedSynchronousErrorHandling&&te&&(te.errorThrown=!0,te.error=ae)}},9672:(Xe,De,P)=>{function l(te,N,ue,ae=0,he=!1){const oe=N.schedule(function(){ue(),he?te.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(te.add(oe),!he)return oe}P.d(De,{f:()=>l})},4671:(Xe,De,P)=>{function l(te){return te}P.d(De,{y:()=>l})},1144:(Xe,De,P)=>{P.d(De,{z:()=>l});const l=te=>te&&"number"==typeof te.length&&"function"!=typeof te},2206:(Xe,De,P)=>{P.d(De,{D:()=>te});var l=P(576);function te(N){return Symbol.asyncIterator&&(0,l.m)(N?.[Symbol.asyncIterator])}},576:(Xe,De,P)=>{function l(te){return"function"==typeof te}P.d(De,{m:()=>l})},3670:(Xe,De,P)=>{P.d(De,{c:()=>N});var l=P(8822),te=P(576);function N(ue){return(0,te.m)(ue[l.L])}},6495:(Xe,De,P)=>{P.d(De,{T:()=>N});var l=P(2202),te=P(576);function N(ue){return(0,te.m)(ue?.[l.h])}},8239:(Xe,De,P)=>{P.d(De,{t:()=>te});var l=P(576);function te(N){return(0,l.m)(N?.then)}},3260:(Xe,De,P)=>{P.d(De,{L:()=>ue,Q:()=>N});var l=P(655),te=P(576);function N(ae){return(0,l.FC)(this,arguments,function*(){const oe=ae.getReader();try{for(;;){const{value:fe,done:me}=yield(0,l.qq)(oe.read());if(me)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(fe)}}finally{oe.releaseLock()}})}function ue(ae){return(0,te.m)(ae?.getReader)}},3532:(Xe,De,P)=>{P.d(De,{K:()=>te});var l=P(576);function te(N){return N&&(0,l.m)(N.schedule)}},4482:(Xe,De,P)=>{P.d(De,{A:()=>te,e:()=>N});var l=P(576);function te(ue){return(0,l.m)(ue?.lift)}function N(ue){return ae=>{if(te(ae))return ae.lift(function(he){try{return ue(he,this)}catch(oe){this.error(oe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Xe,De,P)=>{function l(){}P.d(De,{Z:()=>l})},9635:(Xe,De,P)=>{P.d(De,{U:()=>N,z:()=>te});var l=P(4671);function te(...ue){return N(ue)}function N(ue){return 0===ue.length?l.y:1===ue.length?ue[0]:function(he){return ue.reduce((oe,fe)=>fe(oe),he)}}},7849:(Xe,De,P)=>{P.d(De,{h:()=>N});var l=P(2416),te=P(3410);function N(ue){te.z.setTimeout(()=>{const{onUnhandledError:ae}=l.v;if(!ae)throw ue;ae(ue)})}},4532:(Xe,De,P)=>{function l(te){return new TypeError(`You provided ${null!==te&&"object"==typeof te?"an invalid object":`'${te}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(De,{z:()=>l})},655:(Xe,De,P)=>{function ue(J,ne){var le={};for(var se in J)Object.prototype.hasOwnProperty.call(J,se)&&ne.indexOf(se)<0&&(le[se]=J[se]);if(null!=J&&"function"==typeof Object.getOwnPropertySymbols){var Oe=0;for(se=Object.getOwnPropertySymbols(J);Oe<se.length;Oe++)ne.indexOf(se[Oe])<0&&Object.prototype.propertyIsEnumerable.call(J,se[Oe])&&(le[se[Oe]]=J[se[Oe]])}return le}function fe(J,ne,le,se){return new(le||(le=Promise))(function(Re,ot){function Nt(Wt){try{He(se.next(Wt))}catch(Tn){ot(Tn)}}function Rt(Wt){try{He(se.throw(Wt))}catch(Tn){ot(Tn)}}function He(Wt){Wt.done?Re(Wt.value):function Oe(Re){return Re instanceof le?Re:new le(function(ot){ot(Re)})}(Wt.value).then(Nt,Rt)}He((se=se.apply(J,ne||[])).next())})}function _e(J){return this instanceof _e?(this.v=J,this):new _e(J)}function pe(J,ne,le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Oe,se=le.apply(J,ne||[]),Re=[];return Oe={},ot("next"),ot("throw"),ot("return"),Oe[Symbol.asyncIterator]=function(){return this},Oe;function ot(Lt){se[Lt]&&(Oe[Lt]=function(Vt){return new Promise(function(cr,Ct){Re.push([Lt,Vt,cr,Ct])>1||Nt(Lt,Vt)})})}function Nt(Lt,Vt){try{!function Rt(Lt){Lt.value instanceof _e?Promise.resolve(Lt.value.v).then(He,Wt):Tn(Re[0][2],Lt)}(se[Lt](Vt))}catch(cr){Tn(Re[0][3],cr)}}function He(Lt){Nt("next",Lt)}function Wt(Lt){Nt("throw",Lt)}function Tn(Lt,Vt){Lt(Vt),Re.shift(),Re.length&&Nt(Re[0][0],Re[0][1])}}function Je(J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,ne=J[Symbol.asyncIterator];return ne?ne.call(J):(J=function ee(J){var ne="function"==typeof Symbol&&Symbol.iterator,le=ne&&J[ne],se=0;if(le)return le.call(J);if(J&&"number"==typeof J.length)return{next:function(){return J&&se>=J.length&&(J=void 0),{value:J&&J[se++],done:!J}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(J),le={},se("next"),se("throw"),se("return"),le[Symbol.asyncIterator]=function(){return this},le);function se(Re){le[Re]=J[Re]&&function(ot){return new Promise(function(Nt,Rt){!function Oe(Re,ot,Nt,Rt){Promise.resolve(Rt).then(function(He){Re({value:He,done:Nt})},ot)}(Nt,Rt,(ot=J[Re](ot)).done,ot.value)})}}}P.d(De,{FC:()=>pe,KL:()=>Je,_T:()=>ue,mG:()=>fe,qq:()=>_e})},4650:(Xe,De,P)=>{P.d(De,{$8M:()=>Vn,$Z:()=>S0,AFp:()=>Ua,AaK:()=>fe,BQk:()=>Wo,CHM:()=>is,CRH:()=>Fw,CZH:()=>Im,CqO:()=>Js,D6c:()=>ZA,EJc:()=>uC,EiD:()=>ih,EpF:()=>qh,F$t:()=>v_,F4k:()=>y_,FYo:()=>ct,FiY:()=>ce,G48:()=>MA,Gf:()=>hI,GfV:()=>zs,GkF:()=>xt,Gpc:()=>$,Hsn:()=>b_,Ikx:()=>Dl,JOm:()=>Gs,JVY:()=>zf,KtG:()=>wo,L6k:()=>bu,LAX:()=>fv,LFG:()=>_n,LSH:()=>ah,Lbi:()=>TI,Lck:()=>dm,MAs:()=>vl,MMx:()=>fy,NdJ:()=>ed,OlP:()=>Ot,Oqu:()=>x_,PXZ:()=>BI,Q6J:()=>zh,QGY:()=>Xu,QP$:()=>wd,QbO:()=>AI,Qsj:()=>st,R0b:()=>wi,RDi:()=>Zm,Rgc:()=>Ml,SBq:()=>de,Sil:()=>kI,Suo:()=>Pw,TTD:()=>po,TgZ:()=>Gh,Udp:()=>jp,WFA:()=>ji,X6Q:()=>AA,XFs:()=>lt,Xpm:()=>U,Xts:()=>Po,Y36:()=>gc,YKP:()=>ww,YNc:()=>Fb,Yjl:()=>$n,Yz7:()=>Vt,ZZ4:()=>IC,_Bn:()=>um,_UZ:()=>__,_Vd:()=>T,_c5:()=>WA,_uU:()=>Gp,aQg:()=>SC,c2e:()=>MI,cJS:()=>Ct,cg1:()=>L_,d8E:()=>nm,dDg:()=>Ed,dqk:()=>ze,eBb:()=>wu,eFA:()=>HI,ekj:()=>wl,eoX:()=>Py,f3M:()=>mu,g9A:()=>aC,h0i:()=>Mc,hGG:()=>qA,hij:()=>Wp,iGM:()=>kl,ifc:()=>Ye,ip1:()=>oC,kL8:()=>ew,lG2:()=>jt,lqb:()=>Zt,lri:()=>oi,mCW:()=>xa,n5z:()=>ba,n_E:()=>yd,oAB:()=>Fe,oxw:()=>Up,pB0:()=>th,q3G:()=>Un,q4F:()=>Mu,qLn:()=>gh,qOj:()=>m_,qZA:()=>Vp,qzn:()=>ka,rWj:()=>LI,sBO:()=>RA,sIi:()=>vc,s_b:()=>bf,soG:()=>Ef,tb:()=>lC,tp0:()=>Be,uIk:()=>Pp,vHH:()=>be,vpe:()=>xr,wAp:()=>pt,xp6:()=>xg,ynx:()=>Wh,z2F:()=>Am,z3N:()=>_s,zSh:()=>Et,zs3:()=>qs});var l=P(7579),te=P(727),N=P(9751),ue=P(6451),ae=P(3099);function he(i){for(let s in i)if(i[s]===he)return s;throw Error("Could not find renamed property on target object.")}function oe(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function fe(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(fe).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function me(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const j=he({__forward_ref__:he});function $(i){return i.__forward_ref__=$,i.toString=function(){return fe(this())},i}function ee(i){return Pe(i)?i():i}function Pe(i){return"function"==typeof i&&i.hasOwnProperty(j)&&i.__forward_ref__===$}class be extends Error{constructor(s,a){super(function Ze(i,s){return`NG0${Math.abs(i)}${s?": "+s.trim():""}`}(s,a)),this.code=s}}function _e(i){return"string"==typeof i?i:null==i?"":String(i)}function ve(i,s){throw new be(-201,!1)}function Rt(i,s){null==i&&function He(i,s,a,u){throw new Error(`ASSERTION ERROR: ${i}`+(null==u?"":` [Expected=> ${a} ${u} ${s} <=Actual]`))}(s,i,null,"!=")}function Vt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Ct(i){return{providers:i.providers||[],imports:i.imports||[]}}function qt(i){return Ss(i,li)||Ss(i,Pr)}function Ss(i,s){return i.hasOwnProperty(s)?i[s]:null}function ur(i){return i&&(i.hasOwnProperty(Di)||i.hasOwnProperty(qr))?i[Di]:null}const li=he({\u0275prov:he}),Di=he({\u0275inj:he}),Pr=he({ngInjectableDef:he}),qr=he({ngInjectorDef:he});var lt=(()=>((lt=lt||{})[lt.Default=0]="Default",lt[lt.Host=1]="Host",lt[lt.Self=2]="Self",lt[lt.SkipSelf=4]="SkipSelf",lt[lt.Optional=8]="Optional",lt))();let en;function An(i){const s=en;return en=i,s}function ci(i,s,a){const u=qt(i);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&lt.Optional?null:void 0!==s?s:void ve(fe(i))}function bn(i){return{toString:i}.toString()}var rn=(()=>((rn=rn||{})[rn.OnPush=0]="OnPush",rn[rn.Default=1]="Default",rn))(),Ye=(()=>{return(i=Ye||(Ye={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Ye;var i})();const ze=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),sn={},It=[],Fn=he({\u0275cmp:he}),Yi=he({\u0275dir:he}),Ht=he({\u0275pipe:he}),di=he({\u0275mod:he}),At=he({\u0275fac:he}),K=he({__NG_ELEMENT_ID__:he});let z=0;function U(i){return bn(()=>{const a=!0===i.standalone,u={},d={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===rn.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&i.dependencies||null,getStandaloneInjector:null,selectors:i.selectors||It,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Ye.Emulated,id:"c"+z++,styles:i.styles||It,_:null,setInput:null,schemas:i.schemas||null,tView:null},p=i.dependencies,y=i.features;return d.inputs=Qt(i.inputs,u),d.outputs=Qt(i.outputs),y&&y.forEach(w=>w(d)),d.directiveDefs=p?()=>("function"==typeof p?p():p).map(q).filter(Ie):null,d.pipeDefs=p?()=>("function"==typeof p?p():p).map(on).filter(Ie):null,d})}function q(i){return Ke(i)||Jt(i)}function Ie(i){return null!==i}function Fe(i){return bn(()=>({type:i.type,bootstrap:i.bootstrap||It,declarations:i.declarations||It,imports:i.imports||It,exports:i.exports||It,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function Qt(i,s){if(null==i)return sn;const a={};for(const u in i)if(i.hasOwnProperty(u)){let d=i[u],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),a[d]=u,s&&(s[d]=p)}return a}const jt=U;function $n(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Ke(i){return i[Fn]||null}function Jt(i){return i[Yi]||null}function on(i){return i[Ht]||null}function Yn(i,s){const a=i[di]||null;if(!a&&!0===s)throw new Error(`Type ${fe(i)} does not have '\u0275mod' property.`);return a}function wn(i){return Array.isArray(i)&&"object"==typeof i[1]}function br(i){return Array.isArray(i)&&!0===i[1]}function uo(i){return 0!=(8&i.flags)}function As(i){return 2==(2&i.flags)}function ho(i){return 1==(1&i.flags)}function wr(i){return null!==i.template}function Nf(i){return 0!=(256&i[2])}function Kr(i,s){return i.hasOwnProperty(At)?i[At]:null}class Qc{constructor(s,a,u){this.previousValue=s,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function po(){return hi}function hi(i){return i.type.prototype.ngOnChanges&&(i.setInput=mo),Ms}function Ms(){const i=sa(this),s=i?.current;if(s){const a=i.previous;if(a===sn)i.previous=s;else for(let u in s)a[u]=s[u];i.current=null,this.ngOnChanges(s)}}function mo(i,s,a,u){const d=sa(i)||function Jc(i,s){return i[go]=s}(i,{previous:sn,current:null}),p=d.current||(d.current={}),y=d.previous,w=this.declaredInputs[a],C=y[w];p[w]=new Qc(C&&C.currentValue,s,y===sn),i[u]=s}po.ngInherit=!0;const go="__ngSimpleChanges__";function sa(i){return i[go]||null}function kn(i){for(;Array.isArray(i);)i=i[0];return i}function Rs(i,s){return kn(s[i])}function Cr(i,s){return kn(s[i.index])}function oa(i,s){return i.data[s]}function Qn(i,s){const a=s[i];return wn(a)?a:a[0]}function yo(i){return 4==(4&i[2])}function Qr(i){return 64==(64&i[2])}function ki(i,s){return null==s?null:i[s]}function xi(i){i[18]=0}function vo(i,s){i[5]+=s;let a=i,u=i[3];for(;null!==u&&(1===s&&1===a[5]||-1===s&&0===a[5]);)u[5]+=s,a=u,u=u[3]}const ht={lFrame:Za(null),bindingsEnabled:!0};function rs(){return ht.bindingsEnabled}function Ee(){return ht.lFrame.lView}function Tt(){return ht.lFrame.tView}function is(i){return ht.lFrame.contextLView=i,i[8]}function wo(i){return ht.lFrame.contextLView=null,i}function an(){let i=aa();for(;null!==i&&64===i.type;)i=i.parent;return i}function aa(){return ht.lFrame.currentTNode}function Vr(i,s){const a=ht.lFrame;a.currentTNode=i,a.isParent=s}function la(){return ht.lFrame.isParent}function ca(){ht.lFrame.isParent=!1}function xs(){return ht.lFrame.bindingIndex++}function ru(i,s){const a=ht.lFrame;a.bindingIndex=a.bindingRootIndex=i,$l(s)}function $l(i){ht.lFrame.currentDirectiveIndex=i}function Os(i){const s=ht.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}function Ga(){return ht.lFrame.currentQueryIndex}function fa(i){ht.lFrame.currentQueryIndex=i}function zl(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Eo(i,s,a){if(a&lt.SkipSelf){let d=s,p=i;for(;!(d=d.parent,null!==d||a&lt.Host||(d=zl(p),null===d||(p=p[15],10&d.type))););if(null===d)return!1;s=d,i=p}const u=ht.lFrame=qa();return u.currentTNode=s,u.lView=i,!0}function Wa(i){const s=qa(),a=i[1];ht.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function qa(){const i=ht.lFrame,s=null===i?null:i.child;return null===s?Za(i):s}function Za(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Ya(){const i=ht.lFrame;return ht.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Ka=Ya;function Do(){const i=Ya();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Wn(){return ht.lFrame.selectedIndex}function Br(i){ht.lFrame.selectedIndex=i}function ln(){const i=ht.lFrame;return oa(i.tView,i.selectedIndex)}function Ja(i,s){for(let a=s.directiveStart,u=s.directiveEnd;a<u;a++){const p=i.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:C,ngAfterViewChecked:S,ngOnDestroy:x}=p;y&&(i.contentHooks||(i.contentHooks=[])).push(-a,y),w&&((i.contentHooks||(i.contentHooks=[])).push(a,w),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,w)),C&&(i.viewHooks||(i.viewHooks=[])).push(-a,C),S&&((i.viewHooks||(i.viewHooks=[])).push(a,S),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,S)),null!=x&&(i.destroyHooks||(i.destroyHooks=[])).push(a,x)}}function Ud(i,s,a){Ns(i,s,3,a)}function Hd(i,s,a,u){(3&i[2])===a&&Ns(i,s,a,u)}function ma(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function Ns(i,s,a,u){const p=u??-1,y=s.length-1;let w=0;for(let C=void 0!==u?65535&i[18]:0;C<y;C++)if("number"==typeof s[C+1]){if(w=s[C],null!=u&&w>=u)break}else s[C]<0&&(i[18]+=65536),(w<p||-1==p)&&(Um(i,a,s,C),i[18]=(4294901760&i[18])+C+2),C++}function Um(i,s,a,u){const d=a[u]<0,p=a[u+1],w=i[d?-a[u]:a[u]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{p.call(w)}finally{}}}else try{p.call(w)}finally{}}class Io{constructor(s,a,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function _a(i,s,a){let u=0;for(;u<a.length;){const d=a[u];if("number"==typeof d){if(0!==d)break;u++;const p=a[u++],y=a[u++],w=a[u++];i.setAttribute(s,y,w,p)}else{const p=d,y=a[++u];au(p)?i.setProperty(s,p,y):i.setAttribute(s,p,y),u++}}return u}function ya(i){return 3===i||4===i||6===i}function au(i){return 64===i.charCodeAt(0)}function os(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let u=0;u<s.length;u++){const d=s[u];"number"==typeof d?a=d:0===a||lu(i,a,d,null,-1===a||2===a?s[++u]:null)}}return i}function lu(i,s,a,u,d){let p=0,y=i.length;if(-1===s)y=-1;else for(;p<i.length;){const w=i[p++];if("number"==typeof w){if(w===s){y=-1;break}if(w>s){y=p-1;break}}}for(;p<i.length;){const w=i[p];if("number"==typeof w)break;if(w===a){if(null===u)return void(null!==d&&(i[p+1]=d));if(u===i[p+1])return void(i[p+2]=d)}p++,null!==u&&p++,null!==d&&p++}-1!==y&&(i.splice(y,0,s),p=y+1),i.splice(p++,0,a),null!==u&&i.splice(p++,0,u),null!==d&&i.splice(p++,0,d)}function zd(i){return-1!==i}function va(i){return 32767&i}function ir(i,s){let a=function Uf(i){return i>>16}(i),u=s;for(;a>0;)u=u[15],a--;return u}let as=!0;function ql(i){const s=as;return as=i,s}let Jr=0;const Pt={};function cn(i,s){const a=cs(i,s);if(-1!==a)return a;const u=s[1];u.firstCreatePass&&(i.injectorIndex=s.length,gi(u.data,i),gi(s,null),gi(u.blueprint,null));const d=Er(i,s),p=i.injectorIndex;if(zd(d)){const y=va(d),w=ir(d,s),C=w[1].data;for(let S=0;S<8;S++)s[p+S]=w[y+S]|C[y+S]}return s[p+8]=d,p}function gi(i,s){i.push(0,0,0,0,0,0,0,0,s)}function cs(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Er(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,u=null,d=s;for(;null!==d;){if(u=ei(d),null===u)return-1;if(a++,d=d[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function pn(i,s,a){!function Le(i,s,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(K)&&(u=a[K]),null==u&&(u=a[K]=Jr++);const d=255&u;s.data[i+(d>>5)]|=1<<d}(i,s,a)}function un(i,s,a){if(a&lt.Optional)return i;ve()}function et(i,s,a,u){if(a&lt.Optional&&void 0===u&&(u=null),0==(a&(lt.Self|lt.Host))){const d=i[9],p=An(void 0);try{return d?d.get(s,u,a&lt.Optional):ci(s,u,a&lt.Optional)}finally{An(p)}}return un(u,0,a)}function Ps(i,s,a,u=lt.Default,d){if(null!==i){if(1024&s[2]){const y=function To(i,s,a,u,d){let p=i,y=s;for(;null!==p&&null!==y&&1024&y[2]&&!(256&y[2]);){const w=Zl(p,y,a,u|lt.Self,Pt);if(w!==Pt)return w;let C=p.parent;if(!C){const S=y[21];if(S){const x=S.get(a,Pt,u);if(x!==Pt)return x}C=ei(y),y=y[15]}p=C}return d}(i,s,a,u,Pt);if(y!==Pt)return y}const p=Zl(i,s,a,u,Pt);if(p!==Pt)return p}return et(s,a,u,d)}function Zl(i,s,a,u,d){const p=function So(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(K)?i[K]:void 0;return"number"==typeof s?s>=0?255&s:ds:s}(a);if("function"==typeof p){if(!Eo(s,i,u))return u&lt.Host?un(d,0,u):et(s,a,u,d);try{const y=p(u);if(null!=y||u&lt.Optional)return y;ve()}finally{Ka()}}else if("number"==typeof p){let y=null,w=cs(i,s),C=-1,S=u&lt.Host?s[16][6]:null;for((-1===w||u&lt.SkipSelf)&&(C=-1===w?Er(i,s):s[w+8],-1!==C&&Xr(u,!1)?(y=s[1],w=va(C),s=ir(C,s)):w=-1);-1!==w;){const x=s[1];if(gn(p,w,x.data)){const L=Pi(w,s,a,y,u,S);if(L!==Pt)return L}C=s[w+8],-1!==C&&Xr(u,s[1].data[w+8]===S)&&gn(p,w,s)?(y=x,w=va(C),s=ir(C,s)):w=-1}}return d}function Pi(i,s,a,u,d,p){const y=s[1],w=y.data[i+8],x=us(w,y,a,null==u?As(w)&&as:u!=y&&0!=(3&w.type),d&lt.Host&&p===w);return null!==x?Fs(s,y,x,w):Pt}function us(i,s,a,u,d){const p=i.providerIndexes,y=s.data,w=1048575&p,C=i.directiveStart,x=p>>20,Y=d?w+x:i.directiveEnd;for(let ie=u?w:w+x;ie<Y;ie++){const we=y[ie];if(ie<C&&a===we||ie>=C&&we.type===a)return ie}if(d){const ie=y[C];if(ie&&wr(ie)&&ie.type===a)return C}return null}function Fs(i,s,a,u){let d=i[a];const p=s.data;if(function jd(i){return i instanceof Io}(d)){const y=d;y.resolving&&function Ge(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new be(-200,`Circular dependency in DI detected for ${i}${a}`)}(function pe(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():_e(i)}(p[a]));const w=ql(y.canSeeViewProviders);y.resolving=!0;const C=y.injectImpl?An(y.injectImpl):null;Eo(i,u,lt.Default);try{d=i[a]=y.factory(void 0,p,i,u),s.firstCreatePass&&a>=u.directiveStart&&function Wl(i,s,a){const{ngOnChanges:u,ngOnInit:d,ngDoCheck:p}=s.type.prototype;if(u){const y=hi(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,y)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,d),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,p))}(a,p[a],s)}finally{null!==C&&An(C),ql(w),y.resolving=!1,Ka()}}return d}function gn(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function Xr(i,s){return!(i&lt.Self||i&lt.Host&&s)}class En{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,u){return Ps(this._tNode,this._lView,s,u,a)}}function ds(){return new En(an(),Ee())}function ba(i){return bn(()=>{const s=i.prototype.constructor,a=s[At]||Xa(s),u=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==u;){const p=d[At]||Xa(d);if(p&&p!==a)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function Xa(i){return Pe(i)?()=>{const s=Xa(ee(i));return s&&s()}:Kr(i)}function ei(i){const s=i[1],a=s.type;return 2===a?s.declTNode:1===a?i[6]:null}function Vn(i){return function mn(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const u=a.length;let d=0;for(;d<u;){const p=a[d];if(ya(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<u&&"string"==typeof a[d];)d++;else{if(p===s)return a[d+1];d+=2}}}return null}(an(),i)}const hs="__parameters__";function Dr(i,s,a){return bn(()=>{const u=function wa(i){return function(...a){if(i){const u=i(...a);for(const d in u)this[d]=u[d]}}}(s);function d(...p){if(this instanceof d)return u.apply(this,p),this;const y=new d(...p);return w.annotation=y,w;function w(C,S,x){const L=C.hasOwnProperty(hs)?C[hs]:Object.defineProperty(C,hs,{value:[]})[hs];for(;L.length<=x;)L.push(null);return(L[x]=L[x]||[]).push(y),C}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class Ot{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Vt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function xn(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let u=i[a];Array.isArray(u)?(s===i&&(s=i.slice(0,a)),xn(u,s)):s!==i&&s.push(u)}return s}function F(i,s){i.forEach(a=>Array.isArray(a)?F(a,s):s(a))}function Ca(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function Vs(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Ea(i,s){const a=[];for(let u=0;u<i;u++)a.push(s);return a}function Bn(i,s,a){let u=Bs(i,s);return u>=0?i[1|u]=a:(u=~u,function Ir(i,s,a,u){let d=i.length;if(d==s)i.push(a,u);else if(1===d)i.push(u,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=a,i[s+1]=u}}(i,u,s,a)),u}function Da(i,s){const a=Bs(i,s);if(a>=0)return i[1|a]}function Bs(i,s){return function nl(i,s,a){let u=0,d=i.length>>a;for(;d!==u;){const p=u+(d-u>>1),y=i[p<<a];if(s===y)return p<<a;y>s?d=p:u=p+1}return~(d<<a)}(i,s,1)}const Hs={},ps="__NG_DI_FLAG__",Li="ngTempTokenPath",Yd=/\n/gm,Ta="__source";let sr;function Oo(i){const s=sr;return sr=i,s}function pu(i,s=lt.Default){if(void 0===sr)throw new be(-203,!1);return null===sr?ci(i,void 0,s):sr.get(i,s&lt.Optional?null:void 0,s)}function _n(i,s=lt.Default){return(function Zr(){return en}()||pu)(ee(i),s)}function mu(i,s=lt.Default){return"number"!=typeof s&&(s=0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)),_n(i,s)}function Ql(i){const s=[];for(let a=0;a<i.length;a++){const u=ee(i[a]);if(Array.isArray(u)){if(0===u.length)throw new be(900,!1);let d,p=lt.Default;for(let y=0;y<u.length;y++){const w=u[y],C=I(w);"number"==typeof C?-1===C?d=w.token:p|=C:d=w}s.push(_n(d,p))}else s.push(_n(u))}return s}function E(i,s){return i[ps]=s,i.prototype[ps]=s,i}function I(i){return i[ps]}const ce=E(Dr("Optional"),8),Be=E(Dr("SkipSelf"),4);let Qd,nc;function Zm(i){Qd=i}function gs(i){return function _u(){if(void 0===nc&&(nc=null,ze.trustedTypes))try{nc=ze.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return nc}()?.createHTML(i)||i}class ol{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Qm extends ol{getTypeName(){return"HTML"}}class $f extends ol{getTypeName(){return"Style"}}class dv extends ol{getTypeName(){return"Script"}}class ic extends ol{getTypeName(){return"URL"}}class hv extends ol{getTypeName(){return"ResourceURL"}}function _s(i){return i instanceof ol?i.changingThisBreaksApplicationSecurity:i}function ka(i,s){const a=function eh(i){return i instanceof ol&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}function zf(i){return new Qm(i)}function bu(i){return new $f(i)}function wu(i){return new dv(i)}function fv(i){return new ic(i)}function th(i){return new hv(i)}class pv{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(gs(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch{return null}}}class al{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const u=this.inertDocument.createElement("body");a.appendChild(u)}}getInertBodyElement(s){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=gs(s),a;const u=this.inertDocument.createElement("body");return u.innerHTML=gs(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(s){const a=s.attributes;for(let d=a.length-1;0<d;d--){const y=a.item(d).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&s.removeAttribute(y)}let u=s.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const eg=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,mv=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function xa(i){return(i=String(i)).match(eg)||i.match(mv)?i:"unsafe:"+i}function js(i){const s={};for(const a of i.split(","))s[a]=!0;return s}function ll(...i){const s={};for(const a of i)for(const u in a)a.hasOwnProperty(u)&&(s[u]=!0);return s}const rg=js("area,br,col,hr,img,wbr"),ig=js("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),nh=js("rp,rt"),Cu=ll(rg,ll(ig,js("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ll(nh,js("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ll(nh,ig)),Eu=js("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),sc=js("srcset"),oc=ll(Eu,sc,js("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),js("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Gf=js("script,style,template");class Ar{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,u=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?u=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,u&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let d=this.checkClobberedElement(a,a.nextSibling);if(d){a=d;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!Cu.hasOwnProperty(a))return this.sanitizedSomething=!0,!Gf.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const u=s.attributes;for(let d=0;d<u.length;d++){const p=u.item(d),y=p.name,w=y.toLowerCase();if(!oc.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let C=p.value;Eu[w]&&(C=xa(C)),sc[w]&&(i=C,C=(i=String(i)).split(",").map(s=>xa(s.trim())).join(", ")),this.buf.push(" ",y,'="',ac(C),'"')}var i;return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();Cu.hasOwnProperty(a)&&!rg.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(ac(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const lg=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,cg=/([^\#-~ |!])/g;function ac(i){return i.replace(/&/g,"&amp;").replace(lg,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(cg,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Du;function ih(i,s){let a=null;try{Du=Du||function Jm(i){const s=new al(i);return function Xm(){try{return!!(new window.DOMParser).parseFromString(gs(""),"text/html")}catch{return!1}}()?new pv(s):s}(i);let u=s?String(s):"";a=Du.getInertBodyElement(u);let d=5,p=u;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,u=p,p=a.innerHTML,a=Du.getInertBodyElement(u)}while(u!==p);return gs((new Ar).sanitizeChildren(sh(a)||a))}finally{if(a){const u=sh(a)||a;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function sh(i){return"content"in i&&function Wf(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var Un=(()=>((Un=Un||{})[Un.NONE=0]="NONE",Un[Un.HTML=1]="HTML",Un[Un.STYLE=2]="STYLE",Un[Un.SCRIPT=3]="SCRIPT",Un[Un.URL=4]="URL",Un[Un.RESOURCE_URL=5]="RESOURCE_URL",Un))();function ah(i){const s=function yi(){const i=Ee();return i&&i[12]}();return s?s.sanitize(Un.URL,i)||"":ka(i,"URL")?_s(i):xa(_e(i))}const Po=new Ot("ENVIRONMENT_INITIALIZER"),cc=new Ot("INJECTOR",-1),ch=new Ot("INJECTOR_DEF_TYPES");class ys{get(s,a=Hs){if(a===Hs){const u=new Error(`NullInjectorError: No provider for ${fe(s)}!`);throw u.name="NullInjectorError",u}return a}}function pr(...i){return{\u0275providers:Hn(0,i)}}function Hn(i,...s){const a=[],u=new Set;let d;return F(s,p=>{const y=p;vi(y,a,[],u)&&(d||(d=[]),d.push(y))}),void 0!==d&&yn(d,a),a}function yn(i,s){for(let a=0;a<i.length;a++){const{providers:d}=i[a];F(d,p=>{s.push(p)})}}function vi(i,s,a,u){if(!(i=ee(i)))return!1;let d=null,p=ur(i);const y=!p&&Ke(i);if(p||y){if(y&&!y.standalone)return!1;d=i}else{const C=i.ngModule;if(p=ur(C),!p)return!1;d=C}const w=u.has(d);if(y){if(w)return!1;if(u.add(d),y.dependencies){const C="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const S of C)vi(S,s,a,u)}}else{if(!p)return!1;{if(null!=p.imports&&!w){let S;u.add(d);try{F(p.imports,x=>{vi(x,s,a,u)&&(S||(S=[]),S.push(x))})}finally{}void 0!==S&&yn(S,s)}if(!w){const S=Kr(d)||(()=>new d);s.push({provide:d,useFactory:S,deps:It},{provide:ch,useValue:d,multi:!0},{provide:Po,useValue:()=>_n(d),multi:!0})}const C=p.providers;null==C||w||F(C,x=>{s.push(x)})}}return d!==i&&void 0!==i.providers}const cl=he({provide:String,useValue:he});function Oa(i){return null!==i&&"object"==typeof i&&cl in i}function $s(i){return"function"==typeof i}const Et=new Ot("Set Injector scope."),Su={},ul={};let hh;function uc(){return void 0===hh&&(hh=new ys),hh}class Zt{}class dc extends Zt{constructor(s,a,u,d){super(),this.parent=a,this.source=u,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Au(s,y=>this.processProvider(y)),this.records.set(cc,Mr(void 0,this)),d.has("environment")&&this.records.set(Zt,Mr(void 0,this));const p=this.records.get(Et);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(ch.multi,It,lt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const a=Oo(this),u=An(void 0);try{return s()}finally{Oo(a),An(u)}}get(s,a=Hs,u=lt.Default){this.assertNotDestroyed();const d=Oo(this),p=An(void 0);try{if(!(u&lt.SkipSelf)){let w=this.records.get(s);if(void 0===w){const C=function fh(i){return"function"==typeof i||"object"==typeof i&&i instanceof Ot}(s)&&qt(s);w=C&&this.injectableDefInScope(C)?Mr(dl(s),Su):null,this.records.set(s,w)}if(null!=w)return this.hydrate(s,w)}return(u&lt.Self?uc():this.parent).get(s,a=u&lt.Optional&&a===Hs?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[Li]=y[Li]||[]).unshift(fe(s)),d)throw y;return function k(i,s,a,u){const d=i[Li];throw s[Ta]&&d.unshift(s[Ta]),i.message=function V(i,s,a,u=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let d=fe(s);if(Array.isArray(s))d=s.map(fe).join(" -> ");else if("object"==typeof s){let p=[];for(let y in s)if(s.hasOwnProperty(y)){let w=s[y];p.push(y+":"+("string"==typeof w?JSON.stringify(w):fe(w)))}d=`{${p.join(", ")}}`}return`${a}${u?"("+u+")":""}[${d}]: ${i.replace(Yd,"\n  ")}`}("\n"+i.message,d,a,u),i.ngTokenPath=d,i[Li]=null,i}(y,s,"R3InjectorError",this.source)}throw y}finally{An(p),Oo(d)}}resolveInjectorInitializers(){const s=Oo(this),a=An(void 0);try{const u=this.get(Po.multi,It,lt.Self);for(const d of u)d()}finally{Oo(s),An(a)}}toString(){const s=[],a=this.records;for(const u of a.keys())s.push(fe(u));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new be(205,!1)}processProvider(s){let a=$s(s=ee(s))?s:ee(s&&s.provide);const u=function Fo(i){return Oa(i)?Mr(void 0,i.useValue):Mr(On(i),Su)}(s);if($s(s)||!0!==s.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=Mr(void 0,Su,!0),d.factory=()=>Ql(d.multi),this.records.set(a,d)),a=s,d.multi.push(s)}this.records.set(a,u)}hydrate(s,a){return a.value===Su&&(a.value=ul,a.value=a.factory()),"object"==typeof a.value&&a.value&&function pg(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=ee(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function dl(i){const s=qt(i),a=null!==s?s.factory:Kr(i);if(null!==a)return a;if(i instanceof Ot)throw new be(204,!1);if(i instanceof Function)return function Zf(i){const s=i.length;if(s>0)throw Ea(s,"?"),new be(204,!1);const a=function Nr(i){const s=i&&(i[li]||i[Pr]);if(s){const a=function or(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new be(204,!1)}function On(i,s,a){let u;if($s(i)){const d=ee(i);return Kr(d)||dl(d)}if(Oa(i))u=()=>ee(i.useValue);else if(function dh(i){return!(!i||!i.useFactory)}(i))u=()=>i.useFactory(...Ql(i.deps||[]));else if(function uh(i){return!(!i||!i.useExisting)}(i))u=()=>_n(ee(i.useExisting));else{const d=ee(i&&(i.useClass||i.provide));if(!function Tu(i){return!!i.deps}(i))return Kr(d)||dl(d);u=()=>new d(...Ql(i.deps))}return u}function Mr(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function Yf(i){return!!i.\u0275providers}function Au(i,s){for(const a of i)Array.isArray(a)?Au(a,s):Yf(a)?Au(a.\u0275providers,s):s(a)}class ph{}class b{resolveComponentFactory(s){throw function _(i){const s=Error(`No component factory found for ${fe(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let T=(()=>{class i{}return i.NULL=new b,i})();function R(){return W(an(),Ee())}function W(i,s){return new de(Cr(i,s))}let de=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=R,i})();function ke(i){return i instanceof de?i.nativeElement:i}class ct{}let st=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function er(){const i=Ee(),a=Qn(an().index,i);return(wn(a)?a:i)[11]}(),i})(),Ur=(()=>{class i{}return i.\u0275prov=Vt({token:i,providedIn:"root",factory:()=>null}),i})();class zs{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Mu=new zs("14.1.3"),Lo={};function Cv(i){return i.ngOriginalError}class gh{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Cv(s);for(;a&&Cv(a);)a=Cv(a);return a||null}}const hl=new Map;let HE=0;const ep="__ngContext__";function Rr(i,s){wn(s)?(i[ep]=s[20],function Sv(i){hl.set(i[20],i)}(s)):i[ep]=s}function Bi(i){const s=i[ep];return"number"==typeof s?function Tv(i){return hl.get(i)||null}(s):s||null}function bh(i){const s=Bi(i);return s?wn(s)?s:s.lView:null}const qE=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(ze))();function Bo(i){return i instanceof Function?i():i}var Gs=(()=>((Gs=Gs||{})[Gs.Important=1]="Important",Gs[Gs.DashCase=2]="DashCase",Gs))();function wg(i,s){return undefined(i,s)}function fl(i){const s=i[3];return br(s)?s[3]:s}function ip(i){return sp(i[13])}function Ch(i){return sp(i[4])}function sp(i){for(;null!==i&&!br(i);)i=i[4];return i}function Ho(i,s,a,u,d){if(null!=u){let p,y=!1;br(u)?p=u:wn(u)&&(y=!0,u=u[0]);const w=kn(u);0===i&&null!==a?null==d?up(s,a,w):Pu(s,a,w,d||null,!0):1===i&&null!==a?Pu(s,a,w,d||null,!0):2===i?function Vu(i,s,a){const u=Fu(i,s);u&&function n0(i,s,a,u){i.removeChild(s,a,u)}(i,u,s,a)}(s,w,y):3===i&&s.destroyNode(w),null!=p&&function r0(i,s,a,u,d){const p=a[7];p!==kn(a)&&Ho(s,i,u,p,d);for(let w=10;w<a.length;w++){const C=a[w];Dh(C[1],C,i,s,u,p)}}(s,i,p,a,d)}}function op(i,s,a){return i.createElement(s,a)}function lp(i,s){const a=i[9],u=a.indexOf(s),d=s[3];512&s[2]&&(s[2]&=-513,vo(d,-1)),a.splice(u,1)}function Ig(i,s){if(i.length<=10)return;const a=10+s,u=i[a];if(u){const d=u[17];null!==d&&d!==i&&lp(d,u),s>0&&(i[a-1][4]=u[4]);const p=Vs(i,10+s);!function Fv(i,s){Dh(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(u[1],u);const y=p[19];null!==y&&y.detachView(p[1]),u[3]=null,u[4]=null,u[2]&=-65}return u}function Bv(i,s){if(!(128&s[2])){const a=s[11];a.destroyNode&&Dh(i,s,a,3,null,null),function XE(i){let s=i[13];if(!s)return cp(i[1],i);for(;s;){let a=null;if(wn(s))a=s[13];else{const u=s[10];u&&(a=u)}if(!a){for(;s&&!s[4]&&s!==i;)wn(s)&&cp(s[1],s),s=s[3];null===s&&(s=i),wn(s)&&cp(s[1],s),a=s&&s[4]}s=a}}(s)}}function cp(i,s){if(!(128&s[2])){s[2]&=-65,s[2]|=128,function VT(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let u=0;u<a.length;u+=2){const d=s[a[u]];if(!(d instanceof Io)){const p=a[u+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const w=d[p[y]],C=p[y+1];try{C.call(w)}finally{}}else try{p.call(d)}finally{}}}}(i,s),function Uv(i,s){const a=i.cleanup,u=s[7];let d=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const y=a[p+1],w="function"==typeof y?y(s):kn(s[y]),C=u[d=a[p+2]],S=a[p+3];"boolean"==typeof S?w.removeEventListener(a[p],C,S):S>=0?u[d=S]():u[d=-S].unsubscribe(),p+=2}else{const y=u[d=a[p+1]];a[p].call(y)}if(null!==u){for(let p=d+1;p<u.length;p++)(0,u[p])();s[7]=null}}(i,s),1===s[1].type&&s[11].destroy();const a=s[17];if(null!==a&&br(s[3])){a!==s[3]&&lp(a,s);const u=s[19];null!==u&&u.detachView(i)}!function vg(i){hl.delete(i[20])}(s)}}function e0(i,s,a){return function t0(i,s,a){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return a[0];if(2&u.flags){const d=i.data[u.directiveStart].encapsulation;if(d===Ye.None||d===Ye.Emulated)return null}return Cr(u,a)}(i,s.parent,a)}function Pu(i,s,a,u,d){i.insertBefore(s,a,u,d)}function up(i,s,a){i.appendChild(s,a)}function Hv(i,s,a,u,d){null!==u?Pu(i,s,a,u,d):up(i,s,a)}function Fu(i,s){return i.parentNode(s)}function Sg(i,s,a){return jv(i,s,a)}let jv=function Tg(i,s,a){return 40&i.type?Cr(i,a):null};function mc(i,s,a,u){const d=e0(i,u,s),p=s[11],w=Sg(u.parent||s[6],u,s);if(null!=d)if(Array.isArray(a))for(let C=0;C<a.length;C++)Hv(p,d,a[C],w,!1);else Hv(p,d,a,w,!1)}function dp(i,s){if(null!==s){const a=s.type;if(3&a)return Cr(s,i);if(4&a)return Lu(-1,i[s.index]);if(8&a){const u=s.child;if(null!==u)return dp(i,u);{const d=i[s.index];return br(d)?Lu(-1,d):kn(d)}}if(32&a)return wg(s,i)()||kn(i[s.index]);{const u=$v(i,s);return null!==u?Array.isArray(u)?u[0]:dp(fl(i[16]),u):dp(i,s.next)}}return null}function $v(i,s){return null!==s?i[16][6].projection[s.projection]:null}function Lu(i,s){const a=10+i+1;if(a<s.length){const u=s[a],d=u[1].firstChild;if(null!==d)return dp(u,d)}return s[7]}function Rg(i,s,a,u,d,p,y){for(;null!=a;){const w=u[a.index],C=a.type;if(y&&0===s&&(w&&Rr(kn(w),u),a.flags|=4),64!=(64&a.flags))if(8&C)Rg(i,s,a.child,u,d,p,!1),Ho(s,i,d,w,p);else if(32&C){const S=wg(a,u);let x;for(;x=S();)Ho(s,i,d,x,p);Ho(s,i,d,w,p)}else 16&C?Bu(i,s,u,a,d,p):Ho(s,i,d,w,p);a=y?a.projectionNext:a.next}}function Dh(i,s,a,u,d,p){Rg(a,u,i.firstChild,s,d,p,!1)}function Bu(i,s,a,u,d,p){const y=a[16],C=y[6].projection[u.projection];if(Array.isArray(C))for(let S=0;S<C.length;S++)Ho(s,i,d,C[S],p);else Rg(i,s,C,y[3],d,p,!0)}function zv(i,s,a){i.setAttribute(s,"style",a)}function kg(i,s,a){""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a)}function Gv(i,s,a){let u=i.length;for(;;){const d=i.indexOf(s,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const p=s.length;if(d+p===u||i.charCodeAt(d+p)<=32)return d}a=d+1}}const o0="ng-template";function a0(i,s,a){let u=0;for(;u<i.length;){let d=i[u++];if(a&&"class"===d){if(d=i[u],-1!==Gv(d.toLowerCase(),s,0))return!0}else if(1===d){for(;u<i.length&&"string"==typeof(d=i[u++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function hp(i){return 4===i.type&&i.value!==o0}function fp(i,s,a){return s===(4!==i.type||a?i.value:o0)}function Uu(i,s,a){let u=4;const d=i.attrs||[],p=function u0(i){for(let s=0;s<i.length;s++)if(ya(i[s]))return s;return i.length}(d);let y=!1;for(let w=0;w<s.length;w++){const C=s[w];if("number"!=typeof C){if(!y)if(4&u){if(u=2|1&u,""!==C&&!fp(i,C,a)||""===C&&1===s.length){if(Ws(u))return!1;y=!0}}else{const S=8&u?C:s[++w];if(8&u&&null!==i.attrs){if(!a0(i.attrs,S,a)){if(Ws(u))return!1;y=!0}continue}const L=l0(8&u?"class":C,d,hp(i),a);if(-1===L){if(Ws(u))return!1;y=!0;continue}if(""!==S){let Y;Y=L>p?"":d[L+1].toLowerCase();const ie=8&u?Y:null;if(ie&&-1!==Gv(ie,S,0)||2&u&&S!==Y){if(Ws(u))return!1;y=!0}}}}else{if(!y&&!Ws(u)&&!Ws(C))return!1;if(y&&Ws(C))continue;y=!1,u=C|1&u}}return Ws(u)||y}function Ws(i){return 0==(1&i)}function l0(i,s,a,u){if(null===s)return-1;let d=0;if(u||!a){let p=!1;for(;d<s.length;){const y=s[d];if(y===i)return d;if(3===y||6===y)p=!0;else{if(1===y||2===y){let w=s[++d];for(;"string"==typeof w;)w=s[++d];continue}if(4===y)break;if(0===y){d+=4;continue}}d+=p?1:2}return-1}return function d0(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const u=i[a];if("number"==typeof u)return-1;if(u===s)return a;a++}return-1}(s,i)}function Wv(i,s,a=!1){for(let u=0;u<s.length;u++)if(Uu(i,s[u],a))return!0;return!1}function h0(i,s){e:for(let a=0;a<s.length;a++){const u=s[a];if(i.length===u.length){for(let d=0;d<i.length;d++)if(i[d]!==u[d])continue e;return!0}}return!1}function qv(i,s){return i?":not("+s.trim()+")":s}function f0(i){let s=i[0],a=1,u=2,d="",p=!1;for(;a<i.length;){let y=i[a];if("string"==typeof y)if(2&u){const w=i[++a];d+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&u?d+="."+y:4&u&&(d+=" "+y);else""!==d&&!Ws(y)&&(s+=qv(p,d),d=""),u=y,p=p||!Ws(u);a++}return""!==d&&(s+=qv(p,d)),s}const wt={};function xg(i){pp(Tt(),Ee(),Wn()+i,!1)}function pp(i,s,a,u){if(!u)if(3==(3&s[2])){const p=i.preOrderCheckHooks;null!==p&&Ud(s,p,a)}else{const p=i.preOrderHooks;null!==p&&Hd(s,p,0,a)}Br(a)}function Ah(i,s=null,a=null,u){const d=Ng(i,s,a,u);return d.resolveInjectorInitializers(),d}function Ng(i,s=null,a=null,u,d=new Set){const p=[a||It,pr(i)];return u=u||("object"==typeof i?void 0:fe(i)),new dc(p,s||uc(),u||null,d)}let qs=(()=>{class i{static create(a,u){if(Array.isArray(a))return Ah({name:""},u,a,"");{const d=a.name??"";return Ah({name:d},a.parent,a.providers,d)}}}return i.THROW_IF_NOT_FOUND=Hs,i.NULL=new ys,i.\u0275prov=Vt({token:i,providedIn:"any",factory:()=>_n(cc)}),i.__NG_ELEMENT_ID__=-1,i})();function gc(i,s=lt.Default){const a=Ee();return null===a?_n(i,s):Ps(an(),a,ee(i),s)}function S0(){throw new Error("invalid")}function _p(i,s){return i<<17|s<<2}function Zs(i){return i>>17&32767}function yp(i){return 2|i}function Ys(i){return(131068&i)>>2}function Rh(i,s){return-131069&i|s<<2}function jg(i){return 1|i}function kh(i,s){const a=i.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const d=a[u],p=a[u+1];if(-1!==p){const y=i.data[p];fa(d),y.contentQueries(2,s[p],p)}}}function xh(i,s,a,u,d,p,y,w,C,S,x){const L=s.blueprint.slice();return L[0]=d,L[2]=76|u,(null!==x||i&&1024&i[2])&&(L[2]|=1024),xi(L),L[3]=L[15]=i,L[8]=a,L[10]=y||i&&i[10],L[11]=w||i&&i[11],L[12]=C||i&&i[12]||null,L[9]=S||i&&i[9]||null,L[6]=p,L[20]=function jE(){return HE++}(),L[21]=x,L[16]=2==s.type?i[16]:L,L}function $u(i,s,a,u,d){let p=i.data[s];if(null===p)p=function Qg(i,s,a,u,d){const p=aa(),y=la(),C=i.data[s]=function Ph(i,s,a,u,d,p){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,a,s,u,d);return null===i.firstChild&&(i.firstChild=C),null!==p&&(y?null==p.child&&null!==C.parent&&(p.child=C):null===p.next&&(p.next=C)),C}(i,s,a,u,d),function Hl(){return ht.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=u,p.attrs=d;const y=function ss(){const i=ht.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return Vr(p,!0),p}function Oh(i,s,a,u){if(0===a)return-1;const d=s.length;for(let p=0;p<a;p++)s.push(u),i.blueprint.push(u),i.data.push(null);return d}function Ip(i,s,a){Wa(s);try{const u=i.viewQuery;null!==u&&Uh(1,u,a);const d=i.template;null!==d&&Sp(i,s,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&kh(i,s),i.staticViewQueries&&Uh(2,i.viewQuery,a);const p=i.components;null!==p&&function F0(i,s){for(let a=0;a<s.length;a++)j0(i,s[a])}(s,p)}catch(u){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),u}finally{s[2]&=-5,Do()}}function zu(i,s,a,u){const d=s[2];if(128!=(128&d)){Wa(s);try{xi(s),function da(i){return ht.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&Sp(i,s,a,2,u);const y=3==(3&d);if(y){const S=i.preOrderCheckHooks;null!==S&&Ud(s,S,null)}else{const S=i.preOrderHooks;null!==S&&Hd(s,S,0,null),ma(s,0)}if(function H0(i){for(let s=ip(i);null!==s;s=Ch(s)){if(!s[2])continue;const a=s[9];for(let u=0;u<a.length;u++){const d=a[u],p=d[3];0==(512&d[2])&&vo(p,1),d[2]|=512}}}(s),function qu(i){for(let s=ip(i);null!==s;s=Ch(s))for(let a=10;a<s.length;a++){const u=s[a],d=u[1];Qr(u)&&zu(d,u,d.template,u[8])}}(s),null!==i.contentQueries&&kh(i,s),y){const S=i.contentCheckHooks;null!==S&&Ud(s,S)}else{const S=i.contentHooks;null!==S&&Hd(s,S,1),ma(s,1)}!function eA(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const d=a[u];if(d<0)Br(~d);else{const p=d,y=a[++u],w=a[++u];ru(y,p),w(2,s[p])}}}finally{Br(-1)}}(i,s);const w=i.components;null!==w&&function Kg(i,s){for(let a=0;a<s.length;a++)Vh(i,s[a])}(s,w);const C=i.viewQuery;if(null!==C&&Uh(2,C,u),y){const S=i.viewCheckHooks;null!==S&&Ud(s,S)}else{const S=i.viewHooks;null!==S&&Hd(s,S,2),ma(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[2]&=-41,512&s[2]&&(s[2]&=-513,vo(s[3],-1))}finally{Do()}}}function mb(i,s,a,u){const d=s[10],y=yo(s);try{!y&&d.begin&&d.begin(),y&&Ip(i,s,u),zu(i,s,a,u)}finally{!y&&d.end&&d.end()}}function Sp(i,s,a,u,d){const p=Wn(),y=2&u;try{Br(-1),y&&s.length>22&&pp(i,s,22,!1),a(u,d)}finally{Br(p)}}function Jg(i,s,a){if(uo(s)){const d=s.directiveEnd;for(let p=s.directiveStart;p<d;p++){const y=i.data[p];y.contentQueries&&y.contentQueries(1,a[p],p)}}}function Xg(i,s,a){!rs()||(function La(i,s,a,u){const d=a.directiveStart,p=a.directiveEnd;i.firstCreatePass||cn(a,s),Rr(u,s);const y=a.initialInputs;for(let w=d;w<p;w++){const C=i.data[w],S=wr(C);S&&B0(s,a,C);const x=Fs(s,i,w,a);Rr(x,s),null!==y&&U0(0,w-d,x,C,0,y),S&&(Qn(a.index,s)[8]=x)}}(i,s,a,Cr(a,s)),128==(128&a.flags)&&function zo(i,s,a){const u=a.directiveStart,d=a.directiveEnd,p=a.index,y=function ha(){return ht.lFrame.currentDirectiveIndex}();try{Br(p);for(let w=u;w<d;w++){const C=i.data[w],S=s[w];$l(w),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&gl(C,S)}}finally{Br(-1),$l(y)}}(i,s,a))}function e_(i,s,a=Cr){const u=s.localNames;if(null!==u){let d=s.index+1;for(let p=0;p<u.length;p+=2){const y=u[p+1],w=-1===y?a(s,i):i[y];i[d++]=w}}}function t_(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Pa(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Pa(i,s,a,u,d,p,y,w,C,S){const x=22+u,L=x+d,Y=function n_(i,s){const a=[];for(let u=0;u<s;u++)a.push(u<i?null:wt);return a}(x,L),ie="function"==typeof S?S():S;return Y[1]={type:i,blueprint:Y,template:a,queries:null,viewQuery:w,declTNode:s,data:Y.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:C,consts:ie,incompleteFirstPass:!1}}function r_(i,s,a,u){const d=Mp(s);null===a?d.push(u):(d.push(a),i.firstCreatePass&&Eb(i).push(u,d.length-1))}function ml(i,s,a){for(let u in i)if(i.hasOwnProperty(u)){const d=i[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(s,d):a[u]=[s,d]}return a}function i_(i,s){const u=s.directiveEnd,d=i.data,p=s.attrs,y=[];let w=null,C=null;for(let S=s.directiveStart;S<u;S++){const x=d[S],L=x.inputs,Y=null===p||hp(s)?null:vb(L,p);y.push(Y),w=ml(L,S,w),C=ml(x.outputs,S,C)}null!==w&&(w.hasOwnProperty("class")&&(s.flags|=16),w.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=y,s.inputs=w,s.outputs=C}function Xt(i,s,a,u,d,p,y,w){const C=Cr(s,a);let x,S=s.inputs;!w&&null!=S&&(x=S[u])?(Hh(i,a,x,u,d),As(s)&&Gu(a,s.index)):3&s.type&&(u=function _b(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(u),d=null!=y?y(d,s.value||"",u):d,p.setProperty(C,u,d))}function Gu(i,s){const a=Qn(s,i);16&a[2]||(a[2]|=32)}function o_(i,s,a,u){let d=!1;if(rs()){const p=function V0(i,s,a){const u=i.directiveRegistry;let d=null;if(u)for(let p=0;p<u.length;p++){const y=u[p];Wv(a,y.selectors,!1)&&(d||(d=[]),pn(cn(a,s),i,y.type),wr(y)?(Wu(i,a),d.unshift(y)):d.push(y))}return d}(i,s,a),y=null===u?null:{"":-1};if(null!==p){d=!0,lr(a,i.data.length,p.length);for(let x=0;x<p.length;x++){const L=p[x];L.providersResolver&&L.providersResolver(L)}let w=!1,C=!1,S=Oh(i,s,p.length,null);for(let x=0;x<p.length;x++){const L=p[x];a.mergedAttrs=os(a.mergedAttrs,L.hostAttrs),l_(i,a,s,S,L),yb(S,L,y),null!==L.contentQueries&&(a.flags|=8),(null!==L.hostBindings||null!==L.hostAttrs||0!==L.hostVars)&&(a.flags|=128);const Y=L.type.prototype;!w&&(Y.ngOnChanges||Y.ngOnInit||Y.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),w=!0),!C&&(Y.ngOnChanges||Y.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),C=!0),S++}i_(i,a)}y&&function a_(i,s,a){if(s){const u=i.localNames=[];for(let d=0;d<s.length;d+=2){const p=a[s[d+1]];if(null==p)throw new be(-301,!1);u.push(s[d],p)}}}(a,u,y)}return a.mergedAttrs=os(a.mergedAttrs,a.attrs),d}function Fh(i,s,a,u,d,p){const y=p.hostBindings;if(y){let w=i.hostBindingOpCodes;null===w&&(w=i.hostBindingOpCodes=[]);const C=~s.index;(function L0(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(w)!=C&&w.push(C),w.push(u,d,y)}}function gl(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function Wu(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function yb(i,s,a){if(a){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)a[s.exportAs[u]]=i;wr(s)&&(a[""]=i)}}function lr(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function l_(i,s,a,u,d){i.data[u]=d;const p=d.factory||(d.factory=Kr(d.type)),y=new Io(p,wr(d),gc);i.blueprint[u]=y,a[u]=y,Fh(i,s,0,u,Oh(i,a,d.hostVars,wt),d)}function B0(i,s,a){const u=Cr(s,i),d=t_(a),p=i[10],y=_c(i,xh(i,d,null,a.onPush?32:16,u,s,p,p.createRenderer(u,a),null,null,null));i[s.index]=y}function Go(i,s,a,u,d,p){const y=Cr(i,s);!function c_(i,s,a,u,d,p,y){if(null==p)i.removeAttribute(s,d,a);else{const w=null==y?_e(p):y(p,u||"",d);i.setAttribute(s,d,w,a)}}(s[11],y,p,i.value,a,u,d)}function U0(i,s,a,u,d,p){const y=p[s];if(null!==y){const w=u.setInput;for(let C=0;C<y.length;){const S=y[C++],x=y[C++],L=y[C++];null!==w?u.setInput(a,L,S,x):a[x]=L}}}function vb(i,s){let a=null,u=0;for(;u<s.length;){const d=s[u];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,i[d],s[u+1])),u+=2}else u+=2;else u+=4}return a}function Lh(i,s,a,u){return new Array(i,!0,!1,s,null,0,u,a,null,null)}function Vh(i,s){const a=Qn(s,i);if(Qr(a)){const u=a[1];48&a[2]?zu(u,a,u.template,a[8]):a[5]>0&&u_(a)}}function u_(i){for(let u=ip(i);null!==u;u=Ch(u))for(let d=10;d<u.length;d++){const p=u[d];if(Qr(p))if(512&p[2]){const y=p[1];zu(y,p,y.template,p[8])}else p[5]>0&&u_(p)}const a=i[1].components;if(null!==a)for(let u=0;u<a.length;u++){const d=Qn(a[u],i);Qr(d)&&d[5]>0&&u_(d)}}function j0(i,s){const a=Qn(s,i),u=a[1];(function Bh(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(u,a),Ip(u,a,a[8])}function _c(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function Tp(i){for(;i;){i[2]|=32;const s=fl(i);if(Nf(i)&&!s)return i;i=s}return null}function h_(i){!function d_(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],u=bh(a);if(null!==u){const d=u[1];mb(d,u,d.template,a)}}}(i[8])}function Uh(i,s,a){fa(0),s(i,a)}const Cb=(()=>Promise.resolve(null))();function Mp(i){return i[7]||(i[7]=[])}function Eb(i){return i.cleanup||(i.cleanup=[])}function f_(i,s,a){return(null===i||wr(i))&&(a=function tu(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(a[s.index])),a[11]}function Db(i,s){const a=i[9],u=a?a.get(gh,null):null;u&&u.handleError(s)}function Hh(i,s,a,u,d){for(let p=0;p<a.length;){const y=a[p++],w=a[p++],C=s[y],S=i.data[y];null!==S.setInput?S.setInput(C,d,u,w):C[w]=d}}function Zu(i,s,a){let u=a?i.styles:null,d=a?i.classes:null,p=0;if(null!==s)for(let y=0;y<s.length;y++){const w=s[y];"number"==typeof w?p=w:1==p?d=me(d,w):2==p&&(u=me(u,w+": "+s[++y]+";"))}a?i.styles=u:i.stylesWithoutHost=u,a?i.classes=d:i.classesWithoutHost=d}function Rp(i,s,a,u,d=!1){for(;null!==a;){const p=s[a.index];if(null!==p&&u.push(kn(p)),br(p))for(let w=10;w<p.length;w++){const C=p[w],S=C[1].firstChild;null!==S&&Rp(C[1],C,S,u)}const y=a.type;if(8&y)Rp(i,s,a.child,u);else if(32&y){const w=wg(a,s);let C;for(;C=w();)u.push(C)}else if(16&y){const w=$v(s,a);if(Array.isArray(w))u.push(...w);else{const C=fl(s[16]);Rp(C[1],C,w,u,!0)}}a=d?a.projectionNext:a.next}return u}class jh{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return Rp(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(br(s)){const a=s[8],u=a?a.indexOf(this):-1;u>-1&&(Ig(s,u),Vs(a,u))}this._attachedToViewContainer=!1}Bv(this._lView[1],this._lView)}onDestroy(s){r_(this._lView[1],this._lView,null,s)}markForCheck(){Tp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function Ap(i,s,a){const u=s[10];u.begin&&u.begin();try{zu(i,s,i.template,a)}catch(d){throw Db(s,d),d}finally{u.end&&u.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Vv(i,s){Dh(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new be(902,!1);this._appRef=s}}class Ib extends jh{constructor(s){super(s),this._view=s}detectChanges(){h_(this._view)}checkNoChanges(){}get context(){return null}}class p_ extends T{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Ke(s);return new Yu(a,this.ngModule)}}function Sb(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class Tb{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,u){const d=this.injector.get(s,Lo,u);return d!==Lo||a===Lo?d:this.parentInjector.get(s,a,u)}}class Yu extends ph{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function Zv(i){return i.map(f0).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Sb(this.componentDef.inputs)}get outputs(){return Sb(this.componentDef.outputs)}create(s,a,u,d){let p=(d=d||this.ngModule)instanceof Zt?d:d?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new Tb(s,p):s,w=y.get(ct,null);if(null===w)throw new be(407,!1);const C=y.get(Ur,null),S=w.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",L=u?function gb(i,s,a){return i.selectRootElement(s,a===Ye.ShadowDom)}(S,u,this.componentDef.encapsulation):op(w.createRenderer(null,this.componentDef),x,function W0(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(x)),Y=this.componentDef.onPush?288:272,ie=function Mb(i,s){return{components:[],scheduler:i||qE,clean:Cb,playerHandler:s||null,flags:0}}(),we=Pa(0,null,null,1,0,null,null,null,null,null),xe=xh(null,we,ie,Y,null,null,w,S,C,y,null);let $e,Qe;Wa(xe);try{const _t=function Z0(i,s,a,u,d,p){const y=a[1];a[22]=i;const C=$u(y,22,2,"#host",null),S=C.mergedAttrs=s.hostAttrs;null!==S&&(Zu(C,S,!0),null!==i&&(_a(d,i,S),null!==C.classes&&kg(d,i,C.classes),null!==C.styles&&zv(d,i,C.styles)));const x=u.createRenderer(i,s),L=xh(a,t_(s),null,s.onPush?32:16,a[22],C,u,x,p||null,null,null);return y.firstCreatePass&&(pn(cn(C,a),y,s.type),Wu(y,C),lr(C,a.length,1)),_c(a,L),a[22]=L}(L,this.componentDef,xe,w,S);if(L)if(u)_a(S,L,["ng-version",Mu.full]);else{const{attrs:Me,classes:ut}=function p0(i){const s=[],a=[];let u=1,d=2;for(;u<i.length;){let p=i[u];if("string"==typeof p)2===d?""!==p&&s.push(p,i[++u]):8===d&&a.push(p);else{if(!Ws(d))break;d=p}u++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);Me&&_a(S,L,Me),ut&&ut.length>0&&kg(S,L,ut.join(" "))}if(Qe=oa(we,22),void 0!==a){const Me=Qe.projection=[];for(let ut=0;ut<this.ngContentSelectors.length;ut++){const Ut=a[ut];Me.push(null!=Ut?Array.from(Ut):null)}}$e=function Y0(i,s,a,u,d){const p=a[1],y=function Hr(i,s,a){const u=an();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),l_(i,u,s,Oh(i,s,1,null),a),i_(i,u));const d=Fs(s,i,u.directiveStart,u);Rr(d,s);const p=Cr(u,s);return p&&Rr(p,s),d}(p,a,s);if(u.components.push(y),i[8]=y,null!==d)for(const C of d)C(y,s);if(s.contentQueries){const C=an();s.contentQueries(1,y,C.directiveStart)}const w=an();return!p.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Br(w.index),Fh(a[1],w,0,w.directiveStart,w.directiveEnd,s),gl(s,y)),y}(_t,this.componentDef,xe,ie,[Rb]),Ip(we,xe,null)}finally{Do()}return new q0(this.componentType,$e,W(Qe,xe),xe,Qe)}}class q0 extends class mg{}{constructor(s,a,u,d,p){super(),this.location=u,this._rootLView=d,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new Ib(d),this.componentType=s}setInput(s,a){const u=this._tNode.inputs;let d;if(null!==u&&(d=u[s])){const p=this._rootLView;Hh(p[1],p,d,s,a),Gu(p,this._tNode.index)}}get injector(){return new En(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function Rb(){const i=an();Ja(Ee()[1],i)}function m_(i){let s=function kb(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const u=[i];for(;s;){let d;if(wr(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new be(903,!1);d=s.\u0275dir}if(d){if(a){u.push(d);const y=i;y.inputs=$h(i.inputs),y.declaredInputs=$h(i.declaredInputs),y.outputs=$h(i.outputs);const w=d.hostBindings;w&&kp(i,w);const C=d.viewQuery,S=d.contentQueries;if(C&&K0(i,C),S&&Q0(i,S),oe(i.inputs,d.inputs),oe(i.declaredInputs,d.declaredInputs),oe(i.outputs,d.outputs),wr(d)&&d.data.animation){const x=i.data;x.animation=(x.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let y=0;y<p.length;y++){const w=p[y];w&&w.ngInherit&&w(i),w===m_&&(a=!1)}}s=Object.getPrototypeOf(s)}!function _l(i){let s=0,a=null;for(let u=i.length-1;u>=0;u--){const d=i[u];d.hostVars=s+=d.hostVars,d.hostAttrs=os(d.hostAttrs,a=os(a,d.hostAttrs))}}(u)}function $h(i){return i===sn?{}:i===It?[]:i}function K0(i,s){const a=i.viewQuery;i.viewQuery=a?(u,d)=>{s(u,d),a(u,d)}:s}function Q0(i,s){const a=i.contentQueries;i.contentQueries=a?(u,d,p)=>{s(u,d,p),a(u,d,p)}:s}function kp(i,s){const a=i.hostBindings;i.hostBindings=a?(u,d)=>{s(u,d),a(u,d)}:s}let xp=null;function yc(){if(!xp){const i=ze.Symbol;if(i&&i.iterator)xp=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const u=s[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(xp=u)}}}return xp}function vc(i){return!!Op(i)&&(Array.isArray(i)||!(i instanceof Map)&&yc()in i)}function Op(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function kr(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function Pp(i,s,a,u){const d=Ee();return kr(d,xs(),s)&&(Tt(),Go(ln(),d,i,s,a,u)),Pp}function Fb(i,s,a,u,d,p,y,w){const C=Ee(),S=Tt(),x=i+22,L=S.firstCreatePass?function nD(i,s,a,u,d,p,y,w,C){const S=s.consts,x=$u(s,i,4,y||null,ki(S,w));o_(s,a,x,ki(S,C)),Ja(s,x);const L=x.tViews=Pa(2,x,u,d,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,S);return null!==s.queries&&(s.queries.template(s,x),L.queries=s.queries.embeddedTView(x)),x}(x,S,C,s,a,u,d,p,y):S.data[x];Vr(L,!1);const Y=C[11].createComment("");mc(S,C,Y,L),Rr(Y,C),_c(C,C[x]=Lh(Y,C,Y,L)),ho(L)&&Xg(S,C,L),null!=y&&e_(C,L,w)}function vl(i){return function Mi(i,s){return i[s]}(function ua(){return ht.lFrame.contextLView}(),22+i)}function zh(i,s,a){const u=Ee();return kr(u,xs(),s)&&Xt(Tt(),ln(),u,i,s,u[11],a,!1),zh}function Ec(i,s,a,u,d){const y=d?"class":"style";Hh(i,a,s.inputs[y],y,u)}function Gh(i,s,a,u){const d=Ee(),p=Tt(),y=22+i,w=d[11],C=d[y]=op(w,s,function su(){return ht.lFrame.currentNamespace}()),S=p.firstCreatePass?function rD(i,s,a,u,d,p,y){const w=s.consts,S=$u(s,i,2,d,ki(w,p));return o_(s,a,S,ki(w,y)),null!==S.attrs&&Zu(S,S.attrs,!1),null!==S.mergedAttrs&&Zu(S,S.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,S),S}(y,p,d,0,s,a,u):p.data[y];Vr(S,!0);const x=S.mergedAttrs;null!==x&&_a(w,C,x);const L=S.classes;null!==L&&kg(w,C,L);const Y=S.styles;return null!==Y&&zv(w,C,Y),64!=(64&S.flags)&&mc(p,d,C,S),0===function $a(){return ht.lFrame.elementDepthCount}()&&Rr(C,d),function Ul(){ht.lFrame.elementDepthCount++}(),ho(S)&&(Xg(p,d,S),Jg(p,S,d)),null!==u&&e_(d,S),Gh}function Vp(){let i=an();la()?ca():(i=i.parent,Vr(i,!1));const s=i;!function ks(){ht.lFrame.elementDepthCount--}();const a=Tt();return a.firstCreatePass&&(Ja(a,i),uo(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Jn(i){return 0!=(16&i.flags)}(s)&&Ec(a,s,Ee(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function $d(i){return 0!=(32&i.flags)}(s)&&Ec(a,s,Ee(),s.stylesWithoutHost,!1),Vp}function __(i,s,a,u){return Gh(i,s,a,u),Vp(),__}function Wh(i,s,a){const u=Ee(),d=Tt(),p=i+22,y=d.firstCreatePass?function iD(i,s,a,u,d){const p=s.consts,y=ki(p,u),w=$u(s,i,8,"ng-container",y);return null!==y&&Zu(w,y,!0),o_(s,a,w,ki(p,d)),null!==s.queries&&s.queries.elementStart(s,w),w}(p,d,u,s,a):d.data[p];Vr(y,!0);const w=u[p]=u[11].createComment("");return mc(d,u,w,y),Rr(w,u),ho(y)&&(Xg(d,u,y),Jg(d,y,u)),null!=a&&e_(u,y),Wh}function Wo(){let i=an();const s=Tt();return la()?ca():(i=i.parent,Vr(i,!1)),s.firstCreatePass&&(Ja(s,i),uo(i)&&s.queries.elementEnd(i)),Wo}function xt(i,s,a){return Wh(i,s,a),Wo(),xt}function qh(){return Ee()}function Xu(i){return!!i&&"function"==typeof i.then}function y_(i){return!!i&&"function"==typeof i.subscribe}const Js=y_;function ed(i,s,a,u){const d=Ee(),p=Tt(),y=an();return ri(p,d,d[11],y,i,s,0,u),ed}function ji(i,s){const a=an(),u=Ee(),d=Tt();return ri(d,u,f_(Os(d.data),a,u),a,i,s),ji}function ri(i,s,a,u,d,p,y,w){const C=ho(u),x=i.firstCreatePass&&Eb(i),L=s[8],Y=Mp(s);let ie=!0;if(3&u.type||w){const $e=Cr(u,s),Qe=w?w($e):$e,_t=Y.length,Me=w?Ut=>w(kn(Ut[u.index])):u.index;let ut=null;if(!w&&C&&(ut=function sD(i,s,a,u){const d=i.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const y=d[p];if(y===a&&d[p+1]===u){const w=s[7],C=d[p+2];return w.length>C?w[C]:null}"string"==typeof y&&(p+=2)}return null}(i,s,d,u.index)),null!==ut)(ut.__ngLastListenerFn__||ut).__ngNextListenerFn__=p,ut.__ngLastListenerFn__=p,ie=!1;else{p=Bp(u,s,L,p,!1);const Ut=a.listen(Qe,d,p);Y.push(p,Ut),x&&x.push(d,Me,_t,_t+1)}}else p=Bp(u,s,L,p,!1);const we=u.outputs;let xe;if(ie&&null!==we&&(xe=we[d])){const $e=xe.length;if($e)for(let Qe=0;Qe<$e;Qe+=2){const Pn=s[xe[Qe]][xe[Qe+1]].subscribe(p),Td=Y.length;Y.push(p,Pn),x&&x.push(d,u.index,Td,-(Td+1))}}}function Vb(i,s,a,u){try{return!1!==a(u)}catch(d){return Db(i,d),!1}}function Bp(i,s,a,u,d){return function p(y){if(y===Function)return u;Tp(2&i.flags?Qn(i.index,s):s);let C=Vb(s,0,u,y),S=p.__ngNextListenerFn__;for(;S;)C=Vb(s,0,S,y)&&C,S=S.__ngNextListenerFn__;return d&&!1===C&&(y.preventDefault(),y.returnValue=!1),C}}function Up(i=1){return function Vd(i){return(ht.lFrame.contextLView=function Qa(i,s){for(;i>0;)s=s[15],i--;return s}(i,ht.lFrame.contextLView))[8]}(i)}function oD(i,s){let a=null;const u=function c0(i){const s=i.attrs;if(null!=s){const a=s.indexOf(5);if(0==(1&a))return s[a+1]}return null}(i);for(let d=0;d<s.length;d++){const p=s[d];if("*"!==p){if(null===u?Wv(i,p,!0):h0(u,p))return d}else a=d}return a}function v_(i){const s=Ee()[16][6];if(!s.projection){const u=s.projection=Ea(i?i.length:1,null),d=u.slice();let p=s.child;for(;null!==p;){const y=i?oD(p,i):0;null!==y&&(d[y]?d[y].projectionNext=p:u[y]=p,d[y]=p),p=p.next}}}function b_(i,s=0,a){const u=Ee(),d=Tt(),p=$u(d,22+i,16,null,a||null);null===p.projection&&(p.projection=s),ca(),64!=(64&p.flags)&&function Ih(i,s,a){Bu(s[11],0,s,a,e0(i,a,s),Sg(a.parent||s[6],a,s))}(d,u,p)}function qo(i,s,a,u,d){const p=i[a+1],y=null===s;let w=u?Zs(p):Ys(p),C=!1;for(;0!==w&&(!1===C||y);){const x=i[w+1];Zh(i[w],s)&&(C=!0,i[w+1]=u?jg(x):yp(x)),w=u?Zs(x):Ys(x)}C&&(i[a+1]=u?yp(p):jg(p))}function Zh(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Bs(i,s)>=0}function jp(i,s,a){return ii(i,s,a,!1),jp}function wl(i,s){return ii(i,s,null,!0),wl}function ii(i,s,a,u){const d=Ee(),p=Tt(),y=function Ni(i){const s=ht.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}(2);p.firstUpdatePass&&function qb(i,s,a,u){const d=i.data;if(null===d[a+1]){const p=d[Wn()],y=function Qh(i,s){return s>=i.expandoStartIndex}(i,a);(function zp(i,s){return 0!=(i.flags&(s?16:32))})(p,u)&&null===s&&!y&&(s=!1),s=function dD(i,s,a,u){const d=Os(i);let p=u?s.residualClasses:s.residualStyles;if(null===d)0===(u?s.classBindings:s.styleBindings)&&(a=Xh(a=Jh(null,i,s,a,u),s.attrs,u),p=null);else{const y=s.directiveStylingLast;if(-1===y||i[y]!==d)if(a=Jh(d,i,s,a,u),null===p){let C=function hD(i,s,a){const u=a?s.classBindings:s.styleBindings;if(0!==Ys(u))return i[Zs(u)]}(i,s,u);void 0!==C&&Array.isArray(C)&&(C=Jh(null,i,s,C[1],u),C=Xh(C,s.attrs,u),function R_(i,s,a,u){i[Zs(a?s.classBindings:s.styleBindings)]=u}(i,s,u,C))}else p=function fD(i,s,a){let u;const d=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<d;p++)u=Xh(u,i[p].hostAttrs,a);return Xh(u,s.attrs,a)}(i,s,u)}return void 0!==p&&(u?s.residualClasses=p:s.residualStyles=p),a}(d,p,s,u),function I_(i,s,a,u,d,p){let y=p?s.classBindings:s.styleBindings,w=Zs(y),C=Ys(y);i[u]=a;let x,S=!1;if(Array.isArray(a)){const L=a;x=L[1],(null===x||Bs(L,x)>0)&&(S=!0)}else x=a;if(d)if(0!==C){const Y=Zs(i[w+1]);i[u+1]=_p(Y,w),0!==Y&&(i[Y+1]=Rh(i[Y+1],u)),i[w+1]=function Hg(i,s){return 131071&i|s<<17}(i[w+1],u)}else i[u+1]=_p(w,0),0!==w&&(i[w+1]=Rh(i[w+1],u)),w=u;else i[u+1]=_p(C,0),0===w?w=u:i[C+1]=Rh(i[C+1],u),C=u;S&&(i[u+1]=yp(i[u+1])),qo(i,x,u,!0),qo(i,x,u,!1),function td(i,s,a,u,d){const p=d?i.residualClasses:i.residualStyles;null!=p&&"string"==typeof s&&Bs(p,s)>=0&&(a[u+1]=jg(a[u+1]))}(s,x,i,u,p),y=_p(w,C),p?s.classBindings=y:s.styleBindings=y}(d,p,s,a,y,u)}}(p,i,y,u),s!==wt&&kr(d,y,s)&&function ef(i,s,a,u,d,p,y,w){if(!(3&s.type))return;const C=i.data,S=C[w+1];Dc(function cb(i){return 1==(1&i)}(S)?Yb(C,s,a,d,Ys(S),y):void 0)||(Dc(p)||function lb(i){return 2==(2&i)}(S)&&(p=Yb(C,null,a,d,w,y)),function s0(i,s,a,u,d){if(s)d?i.addClass(a,u):i.removeClass(a,u);else{let p=-1===u.indexOf("-")?void 0:Gs.DashCase;null==d?i.removeStyle(a,u,p):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),p|=Gs.Important),i.setStyle(a,u,d,p))}}(u,y,Rs(Wn(),a),d,p))}(p,p.data[Wn()],d,d[11],i,d[y+1]=function nd(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=fe(_s(i)))),i}(s,a),u,y)}function Jh(i,s,a,u,d){let p=null;const y=a.directiveEnd;let w=a.directiveStylingLast;for(-1===w?w=a.directiveStart:w++;w<y&&(p=s[w],u=Xh(u,p.hostAttrs,d),p!==i);)w++;return null!==i&&(a.directiveStylingLast=w),u}function Xh(i,s,a){const u=a?1:2;let d=-1;if(null!==s)for(let p=0;p<s.length;p++){const y=s[p];"number"==typeof y?d=y:d===u&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Bn(i,y,!!a||s[++p]))}return void 0===i?null:i}function Yb(i,s,a,u,d,p){const y=null===s;let w;for(;d>0;){const C=i[d],S=Array.isArray(C),x=S?C[1]:C,L=null===x;let Y=a[d+1];Y===wt&&(Y=L?It:void 0);let ie=L?Da(Y,u):x===u?Y:void 0;if(S&&!Dc(ie)&&(ie=Da(C,u)),Dc(ie)&&(w=ie,y))return w;const we=i[d+1];d=y?Zs(we):Ys(we)}if(null!==s){let C=p?s.residualClasses:s.residualStyles;null!=C&&(w=Da(C,u))}return w}function Dc(i){return void 0!==i}function Gp(i,s=""){const a=Ee(),u=Tt(),d=i+22,p=u.firstCreatePass?$u(u,d,1,s,null):u.data[d],y=a[d]=function Eg(i,s){return i.createText(s)}(a[11],s);mc(u,a,y,p),Vr(p,!1)}function x_(i){return Wp("",i,""),x_}function Wp(i,s,a){const u=Ee(),d=function Va(i,s,a,u){return kr(i,xs(),a)?s+_e(a)+u:wt}(u,i,s,a);return d!==wt&&function Ks(i,s,a){const u=Rs(s,i);!function Pv(i,s,a){i.setValue(s,a)}(i[11],u,a)}(u,Wn(),d),Wp}function Dl(i,s,a){const u=Ee();return kr(u,xs(),s)&&Xt(Tt(),ln(),u,i,s,u[11],a,!0),Dl}function nm(i,s,a){const u=Ee();if(kr(u,xs(),s)){const p=Tt(),y=ln();Xt(p,y,u,i,s,f_(Os(p.data),y,u),a,!0)}return nm}const Zo=void 0;var bD=["en",[["a","p"],["AM","PM"],Zo],[["AM","PM"],Zo,Zo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zo,"{1} 'at' {0}",Zo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function vD(i){const a=Math.floor(Math.abs(i)),u=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let sd={};function L_(i){const s=function CD(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=V_(s);if(a)return a;const u=s.split("-")[0];if(a=V_(u),a)return a;if("en"===u)return bD;throw new be(701,!1)}function ew(i){return L_(i)[pt.PluralCase]}function V_(i){return i in sd||(sd[i]=ze.ng&&ze.ng.common&&ze.ng.common.locales&&ze.ng.common.locales[i]),sd[i]}var pt=(()=>((pt=pt||{})[pt.LocaleId=0]="LocaleId",pt[pt.DayPeriodsFormat=1]="DayPeriodsFormat",pt[pt.DayPeriodsStandalone=2]="DayPeriodsStandalone",pt[pt.DaysFormat=3]="DaysFormat",pt[pt.DaysStandalone=4]="DaysStandalone",pt[pt.MonthsFormat=5]="MonthsFormat",pt[pt.MonthsStandalone=6]="MonthsStandalone",pt[pt.Eras=7]="Eras",pt[pt.FirstDayOfWeek=8]="FirstDayOfWeek",pt[pt.WeekendRange=9]="WeekendRange",pt[pt.DateFormat=10]="DateFormat",pt[pt.TimeFormat=11]="TimeFormat",pt[pt.DateTimeFormat=12]="DateTimeFormat",pt[pt.NumberSymbols=13]="NumberSymbols",pt[pt.NumberFormats=14]="NumberFormats",pt[pt.CurrencyCode=15]="CurrencyCode",pt[pt.CurrencySymbol=16]="CurrencySymbol",pt[pt.CurrencyName=17]="CurrencyName",pt[pt.Currencies=18]="Currencies",pt[pt.Directionality=19]="Directionality",pt[pt.PluralCase=20]="PluralCase",pt[pt.ExtraData=21]="ExtraData",pt))();const od="en-US";let tw=od;function ay(i,s,a,u,d){if(i=ee(i),Array.isArray(i))for(let p=0;p<i.length;p++)ay(i[p],s,a,u,d);else{const p=Tt(),y=Ee();let w=$s(i)?i:ee(i.provide),C=On(i);const S=an(),x=1048575&S.providerIndexes,L=S.directiveStart,Y=S.providerIndexes>>20;if($s(i)||!i.multi){const ie=new Io(C,d,gc),we=ff(w,s,d?x:x+Y,L);-1===we?(pn(cn(S,y),p,w),ly(p,i,s.length),s.push(w),S.directiveStart++,S.directiveEnd++,d&&(S.providerIndexes+=1048576),a.push(ie),y.push(ie)):(a[we]=ie,y[we]=ie)}else{const ie=ff(w,s,x+Y,L),we=ff(w,s,x,x+Y),xe=ie>=0&&a[ie],$e=we>=0&&a[we];if(d&&!$e||!d&&!xe){pn(cn(S,y),p,w);const Qe=function Ac(i,s,a,u,d){const p=new Io(i,a,gc);return p.multi=[],p.index=s,p.componentProviders=0,cy(p,d,u&&!a),p}(d?dy:uy,a.length,d,u,C);!d&&$e&&(a[we].providerFactory=Qe),ly(p,i,s.length,0),s.push(w),S.directiveStart++,S.directiveEnd++,d&&(S.providerIndexes+=1048576),a.push(Qe),y.push(Qe)}else ly(p,i,ie>-1?ie:we,cy(a[d?we:ie],C,!d&&u));!d&&u&&$e&&a[we].componentProviders++}}}function ly(i,s,a,u){const d=$s(s),p=function Vi(i){return!!i.useClass}(s);if(d||p){const C=(p?ee(s.useClass):s).prototype.ngOnDestroy;if(C){const S=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const x=S.indexOf(a);-1===x?S.push(a,[u,C]):S[x+1].push(u,C)}else S.push(a,C)}}}function cy(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function ff(i,s,a,u){for(let d=a;d<u;d++)if(s[d]===i)return d;return-1}function uy(i,s,a,u){return fd(this.multi,[])}function dy(i,s,a,u){const d=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=Fs(a,a[1],this.providerFactory.index,u);p=w.slice(0,y),fd(d,p);for(let C=y;C<w.length;C++)p.push(w[C])}else p=[],fd(d,p);return p}function fd(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function um(i,s=[]){return a=>{a.providersResolver=(u,d)=>function bw(i,s,a){const u=Tt();if(u.firstCreatePass){const d=wr(i);ay(a,u.data,u.blueprint,d,!0),ay(s,u.data,u.blueprint,d,!1)}}(u,d?d(i):i,s)}}class Mc{}class ww{}function dm(i,s){return new Cw(i,s??null)}class Cw extends Mc{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new p_(this);const u=Yn(s);this._bootstrapComponents=Bo(u.bootstrap),this._r3Injector=Ng(s,a,[{provide:Mc,useValue:this},{provide:T,useValue:this.componentFactoryResolver}],fe(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Rc extends ww{constructor(s){super(),this.moduleType=s}create(s){return new Cw(this.moduleType,s)}}class hy extends Mc{constructor(s,a,u){super(),this.componentFactoryResolver=new p_(this),this.instance=null;const d=new dc([...s,{provide:Mc,useValue:this},{provide:T,useValue:this.componentFactoryResolver}],a||uc(),u,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function fy(i,s,a=null){return new hy(i,s,a).injector}function Al(i){return s=>{setTimeout(i,void 0,s)}}const xr=class oI extends l.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,u){let d=s,p=a||(()=>null),y=u;if(s&&"object"==typeof s){const C=s;d=C.next?.bind(C),p=C.error?.bind(C),y=C.complete?.bind(C)}this.__isAsync&&(p=Al(p),d&&(d=Al(d)),y&&(y=Al(y)));const w=super.subscribe({next:d,error:p,complete:y});return s instanceof te.w0&&s.add(w),w}};function aI(){return this._results[yc()]()}class yd{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=yc(),u=yd.prototype;u[a]||(u[a]=aI)}get changes(){return this._changes||(this._changes=new xr)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const u=this;u.dirty=!1;const d=xn(s);(this._changesDetected=!function fs(i,s,a){if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++){let d=i[u],p=s[u];if(a&&(d=a(d),p=a(p)),p!==d)return!1}return!0}(u._results,d,a))&&(u._results=d,u.length=d.length,u.last=d[this.length-1],u.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ml=(()=>{class i{}return i.__NG_ELEMENT_ID__=cI,i})();const lI=Ml,vd=class extends lI{constructor(s,a,u){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(s,a){const u=this._declarationTContainer.tViews,d=xh(this._declarationLView,u,s,16,null,u.declTNode,null,null,null,null,a||null);d[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(d[19]=y.createEmbeddedView(u)),Ip(u,d,s),new jh(d)}};function cI(){return vf(an(),Ee())}function vf(i,s){return 4&i.type?new vd(s,i,W(i,s)):null}let bf=(()=>{class i{}return i.__NG_ELEMENT_ID__=Ow,i})();function Ow(){return Nw(an(),Ee())}const _m=bf,ym=class extends _m{constructor(s,a,u){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=u}get element(){return W(this._hostTNode,this._hostLView)}get injector(){return new En(this._hostTNode,this._hostLView)}get parentInjector(){const s=Er(this._hostTNode,this._hostLView);if(zd(s)){const a=ir(s,this._hostLView),u=va(s);return new En(a[1].data[u+8],a)}return new En(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=vm(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,u){let d,p;"number"==typeof u?d=u:null!=u&&(d=u.index,p=u.injector);const y=s.createEmbeddedView(a||{},p);return this.insert(y,d),y}createComponent(s,a,u,d,p){const y=s&&!function Yl(i){return"function"==typeof i}(s);let w;if(y)w=a;else{const L=a||{};w=L.index,u=L.injector,d=L.projectableNodes,p=L.environmentInjector||L.ngModuleRef}const C=y?s:new Yu(Ke(s)),S=u||this.parentInjector;if(!p&&null==C.ngModule){const Y=(y?S:this.parentInjector).get(Zt,null);Y&&(p=Y)}const x=C.create(S,d,void 0,p);return this.insert(x.hostView,w),x}insert(s,a){const u=s._lView,d=u[1];if(function Ri(i){return br(i[3])}(u)){const x=this.indexOf(s);if(-1!==x)this.detach(x);else{const L=u[3],Y=new ym(L,L[6],L[3]);Y.detach(Y.indexOf(s))}}const p=this._adjustIndex(a),y=this._lContainer;!function Eh(i,s,a,u){const d=10+u,p=a.length;u>0&&(a[d-1][4]=s),u<p-10?(s[4]=a[d],Ca(a,10+u,s)):(a.push(s),s[4]=null),s[3]=a;const y=s[17];null!==y&&a!==y&&function ap(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(y,s);const w=s[19];null!==w&&w.insertView(i),s[2]|=64}(d,u,y,p);const w=Lu(p,y),C=u[11],S=Fu(C,y[7]);return null!==S&&function Lv(i,s,a,u,d,p){u[0]=d,u[6]=s,Dh(i,u,a,1,d,p)}(d,y[6],C,u,S,w),s.attachToViewContainerRef(),Ca(gy(y),p,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=vm(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),u=Ig(this._lContainer,a);u&&(Vs(gy(this._lContainer),a),Bv(u[1],u))}detach(s){const a=this._adjustIndex(s,-1),u=Ig(this._lContainer,a);return u&&null!=Vs(gy(this._lContainer),a)?new jh(u):null}_adjustIndex(s,a=0){return s??this.length+a}};function vm(i){return i[8]}function gy(i){return i[8]||(i[8]=[])}function Nw(i,s){let a;const u=s[i.index];if(br(u))a=u;else{let d;if(8&i.type)d=kn(u);else{const p=s[11];d=p.createComment("");const y=Cr(i,s);Pu(p,Fu(p,y),d,function vs(i,s){return i.nextSibling(s)}(p,y),!1)}s[i.index]=a=Lh(u,s,d,i),_c(s,a)}return new ym(a,i,s)}class bm{constructor(s){this.queryList=s,this.matches=null}clone(){return new bm(this.queryList)}setDirty(){this.queryList.setDirty()}}class wf{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const u=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let p=0;p<u;p++){const y=a.getByIndex(p);d.push(this.queries[y.indexInDeclarationView].clone())}return new wf(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==Bw(s,a).matches&&this.queries[a].setDirty()}}class yy{constructor(s,a,u=null){this.predicate=s,this.flags=a,this.read=u}}class $r{constructor(s=[]){this.queries=s}elementStart(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let u=0;u<this.length;u++){const d=null!==a?a.length:0,p=this.getByIndex(u).embeddedTView(s,d);p&&(p.indexInDeclarationView=u,null!==a?a.push(p):a=[p])}return null!==a?new $r(a):null}template(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class bd{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new bd(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let d=0;d<u.length;d++){const p=u[d];this.matchTNodeWithReadOption(s,a,Rl(a,p)),this.matchTNodeWithReadOption(s,a,us(a,s,p,!1,!1))}else u===Ml?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,us(a,s,u,!1,!1))}matchTNodeWithReadOption(s,a,u){if(null!==u){const d=this.metadata.read;if(null!==d)if(d===de||d===bf||d===Ml&&4&a.type)this.addMatch(a.index,-2);else{const p=us(a,s,d,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,u)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function Rl(i,s){const a=i.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===s)return a[u+1];return null}function Ds(i,s,a,u){return-1===a?function wm(i,s){return 11&i.type?W(i,s):4&i.type?vf(i,s):null}(s,i):-2===a?function kc(i,s,a){return a===de?W(s,i):a===Ml?vf(s,i):a===bf?Nw(s,i):void 0}(i,s,u):Fs(i,i[1],a,s)}function vy(i,s,a,u){const d=s[19].queries[u];if(null===d.matches){const p=i.data,y=a.matches,w=[];for(let C=0;C<y.length;C+=2){const S=y[C];w.push(S<0?null:Ds(s,p[S],y[C+1],a.metadata.read))}d.matches=w}return d.matches}function Cm(i,s,a,u){const d=i.queries.getByIndex(a),p=d.matches;if(null!==p){const y=vy(i,s,d,a);for(let w=0;w<p.length;w+=2){const C=p[w];if(C>0)u.push(y[w/2]);else{const S=p[w+1],x=s[-C];for(let L=10;L<x.length;L++){const Y=x[L];Y[17]===Y[3]&&Cm(Y[1],Y,S,u)}if(null!==x[9]){const L=x[9];for(let Y=0;Y<L.length;Y++){const ie=L[Y];Cm(ie[1],ie,S,u)}}}}}return u}function kl(i){const s=Ee(),a=Tt(),u=Ga();fa(u+1);const d=Bw(a,u);if(i.dirty&&yo(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const p=d.crossesNgTemplate?Cm(a,s,u,[]):vy(a,s,d,u);i.reset(p,ke),i.notifyOnChanges()}return!0}return!1}function hI(i,s,a){const u=Tt();u.firstCreatePass&&(Vw(u,new yy(i,s,a),-1),2==(2&s)&&(u.staticViewQueries=!0)),Lw(u,Ee(),s)}function Pw(i,s,a,u){const d=Tt();if(d.firstCreatePass){const p=an();Vw(d,new yy(s,a,u),p.index),function fI(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}Lw(d,Ee(),a)}function Fw(){return function by(i,s){return i[19].queries[s].queryList}(Ee(),Ga())}function Lw(i,s,a){const u=new yd(4==(4&a));r_(i,s,u,u.destroy),null===s[19]&&(s[19]=new wf),s[19].queries.push(new bm(u))}function Vw(i,s,a){null===i.queries&&(i.queries=new $r),i.queries.track(new bd(s,a))}function Bw(i,s){return i.queries.getByIndex(s)}function wd(i){const s=Ke(i)||Jt(i)||on(i);return null!==s&&s.standalone}function Dm(...i){}const oC=new Ot("Application Initializer");let Im=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Dm,this.reject=Dm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,d)=>{this.resolve=u,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(Xu(p))a.push(p);else if(Js(p)){const y=new Promise((w,C)=>{p.subscribe({complete:w,error:C})});a.push(y)}}Promise.all(a).then(()=>{u()}).catch(d=>{this.reject(d)}),0===a.length&&u(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(_n(oC,8))},i.\u0275prov=Vt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Ua=new Ot("AppId",{providedIn:"root",factory:function _r(){return`${xc()}${xc()}${xc()}`}});function xc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const aC=new Ot("Platform Initializer"),TI=new Ot("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),lC=new Ot("appBootstrapListener"),AI=new Ot("AnimationModuleType");let MI=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Vt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const Ef=new Ot("LocaleId",{providedIn:"root",factory:()=>mu(Ef,lt.Optional|lt.SkipSelf)||function cC(){return typeof $localize<"u"&&$localize.locale||od}()}),uC=new Ot("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class dC{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let kI=(()=>{class i{compileModuleSync(a){return new Rc(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),p=Bo(Yn(a).declarations).reduce((y,w)=>{const C=Ke(w);return C&&y.push(new Yu(C)),y},[]);return new dC(u,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Vt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const pC=(()=>Promise.resolve(0))();function ky(i){typeof Zone>"u"?pC.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class wi{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xr(!1),this.onMicrotaskEmpty=new xr(!1),this.onStable=new xr(!1),this.onError=new xr(!1),typeof Zone>"u")throw new be(908,!1);Zone.assertZonePatched();const d=this;if(d._nesting=0,d._outer=d._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;d._inner=d._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!u&&a,d.shouldCoalesceRunChangeDetection=u,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function NI(){let i=ze.requestAnimationFrame,s=ze.cancelAnimationFrame;if(typeof Zone<"u"&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function mC(i){const s=()=>{!function FI(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(ze,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,gC(i),i.isCheckStableRunning=!0,xy(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),gC(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,d,p,y,w)=>{try{return Oy(i),a.invokeTask(d,p,y,w)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||i.shouldCoalesceRunChangeDetection)&&s(),Df(i)}},onInvoke:(a,u,d,p,y,w,C)=>{try{return Oy(i),a.invoke(d,p,y,w,C)}finally{i.shouldCoalesceRunChangeDetection&&s(),Df(i)}},onHasTask:(a,u,d,p)=>{a.hasTask(d,p),u===d&&("microTask"==p.change?(i._hasPendingMicrotasks=p.microTask,gC(i),xy(i)):"macroTask"==p.change&&(i.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,u,d,p)=>(a.handleError(d,p),i.runOutsideAngular(()=>i.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!wi.isInAngularZone())throw new be(909,!1)}static assertNotInAngularZone(){if(wi.isInAngularZone())throw new be(909,!1)}run(s,a,u){return this._inner.run(s,a,u)}runTask(s,a,u,d){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+d,s,PI,Dm,Dm);try{return p.runTask(y,a,u)}finally{p.cancelTask(y)}}runGuarded(s,a,u){return this._inner.runGuarded(s,a,u)}runOutsideAngular(s){return this._outer.run(s)}}const PI={};function xy(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function gC(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Oy(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Df(i){i._nesting--,xy(i)}class Ny{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xr,this.onMicrotaskEmpty=new xr,this.onStable=new xr,this.onError=new xr}run(s,a,u){return s.apply(a,u)}runGuarded(s,a,u){return s.apply(a,u)}runOutsideAngular(s){return s()}runTask(s,a,u,d){return s.apply(a,u)}}const oi=new Ot(""),LI=new Ot("");let Oc,Ed=(()=>{class i{constructor(a,u,d){this._ngZone=a,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Oc||(function _C(i){Oc=i}(d),d.addToWindow(u)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{wi.assertNotInAngularZone(),ky(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ky(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,d){let p=-1;u&&u>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:d})}whenStable(a,u,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,u,d){return[]}}return i.\u0275fac=function(a){return new(a||i)(_n(wi),_n(Py),_n(LI))},i.\u0275prov=Vt({token:i,factory:i.\u0275fac}),i})(),Py=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return Oc?.findTestabilityInTree(this,a,u)??null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Vt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),xl=null;const If=new Ot("AllowMultipleToken"),Dd=new Ot("PlatformDestroyListeners");class BI{constructor(s,a){this.name=s,this.token=a}}function HI(i,s,a=[]){const u=`Platform: ${s}`,d=new Ot(u);return(p=[])=>{let y=yC();if(!y||y.injector.get(If,!1)){const w=[...a,...p,{provide:d,useValue:!0}];i?i(w):function UI(i){if(xl&&!xl.get(If,!1))throw new be(400,!1);xl=i;const s=i.get(vC);(function Id(i){const s=i.get(aC,null);s&&s.forEach(a=>a())})(i)}(function jI(i=[],s){return qs.create({name:s,providers:[{provide:Et,useValue:"platform"},{provide:Dd,useValue:new Set([()=>xl=null])},...i]})}(w,u))}return function SA(i){const s=yC();if(!s)throw new be(401,!1);return s}()}}function yC(){return xl?.get(vC)??null}let vC=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const d=function $I(i,s){let a;return a="noop"===i?new Ny:("zone.js"===i?void 0:i)||new wi(s),a}(u?.ngZone,function bC(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(u)),p=[{provide:wi,useValue:d}];return d.run(()=>{const y=qs.create({providers:p,parent:this.injector,name:a.moduleType.name}),w=a.create(y),C=w.injector.get(gh,null);if(!C)throw new be(402,!1);return d.runOutsideAngular(()=>{const S=d.onError.subscribe({next:x=>{C.handleError(x)}});w.onDestroy(()=>{Ly(this._modules,w),S.unsubscribe()})}),function zI(i,s,a){try{const u=a();return Xu(u)?u.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):u}catch(u){throw s.runOutsideAngular(()=>i.handleError(u)),u}}(C,d,()=>{const S=w.injector.get(Im);return S.runInitializers(),S.donePromise.then(()=>(function rm(i){Rt(i,"Expected localeId to be defined"),"string"==typeof i&&(tw=i.toLowerCase().replace(/_/g,"-"))}(w.injector.get(Ef,od)||od),this._moduleDoBootstrap(w),w))})})}bootstrapModule(a,u=[]){const d=GI({},u);return function VI(i,s,a){const u=new Rc(a);return Promise.resolve(u)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(a){const u=a.injector.get(Am);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>u.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new be(403,!1);a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new be(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const a=this._injector.get(Dd,null);a&&(a.forEach(u=>u()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(_n(qs))},i.\u0275prov=Vt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function GI(i,s){return Array.isArray(s)?s.reduce(GI,i):{...i,...s}}let Am=(()=>{class i{constructor(a,u,d){this._zone=a,this._injector=u,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new N.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),y=new N.y(w=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{wi.assertNotInAngularZone(),ky(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{wi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{C.unsubscribe(),S.unsubscribe()}});this.isStable=(0,ue.T)(p,y.pipe((0,ae.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,u){const d=a instanceof ph;if(!this._injector.get(Im).done)throw!d&&wd(a),new be(405,false);let y;y=d?a:this._injector.get(T).resolveComponentFactory(a),this.componentTypes.push(y.componentType);const w=function Fy(i){return i.isBoundToModule}(y)?void 0:this._injector.get(Mc),S=y.create(qs.NULL,[],u||y.selector,w),x=S.location.nativeElement,L=S.injector.get(oi,null);return L?.registerApplication(x),S.onDestroy(()=>{this.detachView(S.hostView),Ly(this.components,S),L?.unregisterApplication(x)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new be(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;Ly(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(lC,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Ly(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new be(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(a){return new(a||i)(_n(wi),_n(Zt),_n(gh))},i.\u0275prov=Vt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Ly(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let qI=!0,ZI=!1;function AA(){return ZI=!0,qI}function MA(){if(ZI)throw new Error("Cannot enable prod mode after platform setup.");qI=!1}let RA=(()=>{class i{}return i.__NG_ELEMENT_ID__=kA,i})();function kA(i){return function xA(i,s,a){if(As(i)&&!a){const u=Qn(i.index,s);return new jh(u,u)}return 47&i.type?new jh(s[16],s):null}(an(),Ee(),16==(16&i))}class JI{constructor(){}supports(s){return vc(s)}create(s){return new VA(s)}}const LA=(i,s)=>s;class VA{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||LA}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,u=this._removalsHead,d=0,p=null;for(;a||u;){const y=!u||a&&a.currentIndex<eS(u,d,p)?a:u,w=eS(y,d,p),C=y.currentIndex;if(y===u)d--,u=u._nextRemoved;else if(a=a._next,null==y.previousIndex)d++;else{p||(p=[]);const S=w-d,x=C-d;if(S!=x){for(let Y=0;Y<S;Y++){const ie=Y<p.length?p[Y]:p[Y]=0,we=ie+Y;x<=we&&we<S&&(p[Y]=ie+1)}p[y.previousIndex]=x-S}}w!==C&&s(y,w,C)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!vc(s))throw new be(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,p,y,a=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let w=0;w<this.length;w++)p=s[w],y=this._trackByFn(w,p),null!==a&&Object.is(a.trackById,y)?(u&&(a=this._verifyReinsertion(a,p,y,w)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,y,w),u=!0),a=a._next}else d=0,function X0(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[yc()]();let u;for(;!(u=a.next()).done;)s(u.value)}}(s,w=>{y=this._trackByFn(d,w),null!==a&&Object.is(a.trackById,y)?(u&&(a=this._verifyReinsertion(a,w,y,d)),Object.is(a.item,w)||this._addIdentityChange(a,w)):(a=this._mismatch(a,w,y,d),u=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,u,d){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,p,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,p,d)):s=this._addAfter(new BA(a,u),p,d),s}_verifyReinsertion(s,a,u,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==p?s=this._reinsertAfter(p,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,p=s._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(s,a,u),this._addToMoves(s,u),s}_moveAfter(s,a,u){return this._unlink(s),this._insertAfter(s,a,u),this._addToMoves(s,u),s}_addAfter(s,a,u){return this._insertAfter(s,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,u){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new XI),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,u=s._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new XI),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class BA{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class UA{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const a=s._prevDup,u=s._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class XI{constructor(){this.map=new Map}put(s){const a=s.trackById;let u=this.map.get(a);u||(u=new UA,this.map.set(a,u)),u.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function eS(i,s,a){const u=i.previousIndex;if(null===u)return u;let d=0;return a&&u<a.length&&(d=a[u]),u+s+d}class tS{constructor(){}supports(s){return s instanceof Map||Op(s)}create(){return new HA}}class HA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Op(s)))throw new be(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(d,u);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const u=s._prev;return a._next=s,a._prev=u,s._prev=a,u&&(u._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const p=d._prev,y=d._next;return p&&(p._next=y),y&&(y._prev=p),d._next=null,d._prev=null,d}const u=new jA(s);return this._records.set(s,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(u=>a(s[u],u))}}class jA{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function nS(){return new IC([new JI])}let IC=(()=>{class i{constructor(a){this.factories=a}static create(a,u){if(null!=u){const d=u.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||nS()),deps:[[i,new Be,new ce]]}}find(a){const u=this.factories.find(d=>d.supports(a));if(null!=u)return u;throw new be(901,!1)}}return i.\u0275prov=Vt({token:i,providedIn:"root",factory:nS}),i})();function rS(){return new SC([new tS])}let SC=(()=>{class i{constructor(a){this.factories=a}static create(a,u){if(u){const d=u.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||rS()),deps:[[i,new Be,new ce]]}}find(a){const u=this.factories.find(d=>d.supports(a));if(u)return u;throw new be(901,!1)}}return i.\u0275prov=Vt({token:i,providedIn:"root",factory:rS}),i})();const WA=HI(null,"core",[]);let qA=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(_n(Am))},i.\u0275mod=Fe({type:i}),i.\u0275inj=Ct({}),i})();function ZA(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},3942:(Xe,De,P)=>{P.d(De,{Z:()=>be});var l=P(2090),te=P(4859),N=P(9681),ue=P(1877);class ae{constructor(_e,pe){this._delegate=_e,this.firebase=pe,(0,N._addComponent)(_e,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=_e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this._delegate.automaticDataCollectionEnabled=_e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(_e=>{this._delegate.checkDestroyed(),_e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(_e,pe=N._DEFAULT_ENTRY_NAME){var Ge;this._delegate.checkDestroyed();const Je=this._delegate.container.getProvider(_e);return!Je.isInitialized()&&"EXPLICIT"===(null===(Ge=Je.getComponent())||void 0===Ge?void 0:Ge.instantiationMode)&&Je.initialize(),Je.getImmediate({identifier:pe})}_removeServiceInstance(_e,pe=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(_e).clearInstance(pe)}_addComponent(_e){(0,N._addComponent)(this._delegate,_e)}_addOrOverwriteComponent(_e){(0,N._addOrOverwriteComponent)(this._delegate,_e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const oe=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function me(){const Ze=function fe(Ze){const _e={},pe={__esModule:!0,initializeApp:function Te(Ue,H={}){const ge=N.initializeApp(Ue,H);if((0,l.r3)(_e,ge.name))return _e[ge.name];const J=new Ze(ge,pe);return _e[ge.name]=J,J},app:Je,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function Ce(Ue){const H=Ue.name,ge=H.replace("-compat","");if(N._registerComponent(Ue)&&"PUBLIC"===Ue.type){const J=(ne=Je())=>{if("function"!=typeof ne[ge])throw oe.create("invalid-app-argument",{appName:H});return ne[ge]()};void 0!==Ue.serviceProps&&(0,l.ZB)(J,Ue.serviceProps),pe[ge]=J,Ze.prototype[ge]=function(...ne){return this._getService.bind(this,H).apply(this,Ue.multipleInstances?ne:[])}}return"PUBLIC"===Ue.type?pe[ge]:null},removeApp:function Ge(Ue){delete _e[Ue]},useAsService:function Ve(Ue,H){return"serverAuth"===H?null:H},modularAPIs:N}};function Je(Ue){if(!(0,l.r3)(_e,Ue=Ue||N._DEFAULT_ENTRY_NAME))throw oe.create("no-app",{appName:Ue});return _e[Ue]}return pe.default=pe,Object.defineProperty(pe,"apps",{get:function ve(){return Object.keys(_e).map(Ue=>_e[Ue])}}),Je.App=Ze,pe}(ae);return Ze.INTERNAL=Object.assign(Object.assign({},Ze.INTERNAL),{createFirebaseNamespace:me,extendNamespace:function _e(pe){(0,l.ZB)(Ze,pe)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),Ze}(),$=new ue.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ze=self.firebase.SDK_VERSION;Ze&&Ze.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const be=j;!function Ae(Ze){(0,N.registerVersion)("@firebase/app-compat","0.1.34",Ze)}()},9681:(Xe,De,P)=>{P.r(De),P.d(De,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>li,_DEFAULT_ENTRY_NAME:()=>Rt,_addComponent:()=>Lt,_addOrOverwriteComponent:()=>Vt,_apps:()=>Wt,_clearComponents:()=>Ss,_components:()=>Tn,_getProvider:()=>Ct,_registerComponent:()=>cr,_removeServiceInstance:()=>qt,deleteApp:()=>lt,getApp:()=>Pr,getApps:()=>qr,initializeApp:()=>Di,onLog:()=>An,registerVersion:()=>Zr,setLogLevel:()=>ci});var l=P(5861),te=P(4859),N=P(1877),ue=P(2090),ae=P(8766);class he{constructor(G){this.container=G}getPlatformInfoString(){return this.container.getProviders().map(q=>{if(function oe(U){return"VERSION"===U.getComponent()?.type}(q)){const Ie=q.getImmediate();return`${Ie.library}/${Ie.version}`}return null}).filter(q=>q).join(" ")}}const fe="@firebase/app",j=new N.Yd("@firebase/app"),Rt="[DEFAULT]",He={[fe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Wt=new Map,Tn=new Map;function Lt(U,G){try{U.container.addComponent(G)}catch(q){j.debug(`Component ${G.name} failed to register with FirebaseApp ${U.name}`,q)}}function Vt(U,G){U.container.addOrOverwriteComponent(G)}function cr(U){const G=U.name;if(Tn.has(G))return j.debug(`There were multiple attempts to register component ${G}.`),!1;Tn.set(G,U);for(const q of Wt.values())Lt(q,U);return!0}function Ct(U,G){const q=U.container.getProvider("heartbeat").getImmediate({optional:!0});return q&&q.triggerHeartbeat(),U.container.getProvider(G)}function qt(U,G,q=Rt){Ct(U,G).clearInstance(q)}function Ss(){Tn.clear()}const or=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ur{constructor(G,q,Ie){this._isDeleted=!1,this._options=Object.assign({},G),this._config=Object.assign({},q),this._name=q.name,this._automaticDataCollectionEnabled=q.automaticDataCollectionEnabled,this._container=Ie,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(G){this.checkDestroyed(),this._automaticDataCollectionEnabled=G}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(G){this._isDeleted=G}checkDestroyed(){if(this.isDeleted)throw or.create("app-deleted",{appName:this._name})}}const li="9.10.0";function Di(U,G={}){"object"!=typeof G&&(G={name:G});const q=Object.assign({name:Rt,automaticDataCollectionEnabled:!1},G),Ie=q.name;if("string"!=typeof Ie||!Ie)throw or.create("bad-app-name",{appName:String(Ie)});const Fe=Wt.get(Ie);if(Fe){if((0,ue.vZ)(U,Fe.options)&&(0,ue.vZ)(q,Fe.config))return Fe;throw or.create("duplicate-app",{appName:Ie})}const nt=new te.H0(Ie);for(const jt of Tn.values())nt.addComponent(jt);const Qt=new ur(U,q,nt);return Wt.set(Ie,Qt),Qt}function Pr(U=Rt){const G=Wt.get(U);if(!G)throw or.create("no-app",{appName:U});return G}function qr(){return Array.from(Wt.values())}function lt(U){return en.apply(this,arguments)}function en(){return(en=(0,l.Z)(function*(U){const G=U.name;Wt.has(G)&&(Wt.delete(G),yield Promise.all(U.container.getProviders().map(q=>q.delete())),U.isDeleted=!0)})).apply(this,arguments)}function Zr(U,G,q){var Ie;let Fe=null!==(Ie=He[U])&&void 0!==Ie?Ie:U;q&&(Fe+=`-${q}`);const nt=Fe.match(/\s|\//),Qt=G.match(/\s|\//);if(nt||Qt){const jt=[`Unable to register library "${Fe}" with version "${G}":`];return nt&&jt.push(`library name "${Fe}" contains illegal characters (whitespace or "/")`),nt&&Qt&&jt.push("and"),Qt&&jt.push(`version name "${G}" contains illegal characters (whitespace or "/")`),void j.warn(jt.join(" "))}cr(new te.wA(`${Fe}-version`,()=>({library:Fe,version:G}),"VERSION"))}function An(U,G){if(null!==U&&"function"!=typeof U)throw or.create("invalid-log-argument");(0,N.Am)(U,G)}function ci(U){(0,N.Ub)(U)}const rn="firebase-heartbeat-store";let Zi=null;function tn(){return Zi||(Zi=(0,ae.X3)("firebase-heartbeat-database",1,{upgrade:(U,G)=>{0===G&&U.createObjectStore(rn)}}).catch(U=>{throw or.create("idb-open",{originalErrorMessage:U.message})})),Zi}function ze(){return(ze=(0,l.Z)(function*(U){var G;try{return(yield tn()).transaction(rn).objectStore(rn).get(sn(U))}catch(q){if(q instanceof ue.ZR)j.warn(q.message);else{const Ie=or.create("idb-get",{originalErrorMessage:null===(G=q)||void 0===G?void 0:G.message});j.warn(Ie.message)}}})).apply(this,arguments)}function oo(U,G){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,l.Z)(function*(U,G){var q;try{const Fe=(yield tn()).transaction(rn,"readwrite");return yield Fe.objectStore(rn).put(G,sn(U)),Fe.done}catch(Ie){if(Ie instanceof ue.ZR)j.warn(Ie.message);else{const Fe=or.create("idb-set",{originalErrorMessage:null===(q=Ie)||void 0===q?void 0:q.message});j.warn(Fe.message)}}})).apply(this,arguments)}function sn(U){return`${U.name}!${U.options.appId}`}class Yi{constructor(G){this.container=G,this._heartbeatsCache=null;const q=this.container.getProvider("app").getImmediate();this._storage=new At(q),this._heartbeatsCachePromise=this._storage.read().then(Ie=>(this._heartbeatsCache=Ie,Ie))}triggerHeartbeat(){var G=this;return(0,l.Z)(function*(){const Ie=G.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Fe=Ht();if(null===G._heartbeatsCache&&(G._heartbeatsCache=yield G._heartbeatsCachePromise),G._heartbeatsCache.lastSentHeartbeatDate!==Fe&&!G._heartbeatsCache.heartbeats.some(nt=>nt.date===Fe))return G._heartbeatsCache.heartbeats.push({date:Fe,agent:Ie}),G._heartbeatsCache.heartbeats=G._heartbeatsCache.heartbeats.filter(nt=>{const Qt=new Date(nt.date).valueOf();return Date.now()-Qt<=2592e6}),G._storage.overwrite(G._heartbeatsCache)})()}getHeartbeatsHeader(){var G=this;return(0,l.Z)(function*(){if(null===G._heartbeatsCache&&(yield G._heartbeatsCachePromise),null===G._heartbeatsCache||0===G._heartbeatsCache.heartbeats.length)return"";const q=Ht(),{heartbeatsToSend:Ie,unsentEntries:Fe}=function di(U,G=1024){const q=[];let Ie=U.slice();for(const Fe of U){const nt=q.find(Qt=>Qt.agent===Fe.agent);if(nt){if(nt.dates.push(Fe.date),K(q)>G){nt.dates.pop();break}}else if(q.push({agent:Fe.agent,dates:[Fe.date]}),K(q)>G){q.pop();break}Ie=Ie.slice(1)}return{heartbeatsToSend:q,unsentEntries:Ie}}(G._heartbeatsCache.heartbeats),nt=(0,ue.L)(JSON.stringify({version:2,heartbeats:Ie}));return G._heartbeatsCache.lastSentHeartbeatDate=q,Fe.length>0?(G._heartbeatsCache.heartbeats=Fe,yield G._storage.overwrite(G._heartbeatsCache)):(G._heartbeatsCache.heartbeats=[],G._storage.overwrite(G._heartbeatsCache)),nt})()}}function Ht(){return(new Date).toISOString().substring(0,10)}class At{constructor(G){this.app=G,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,ue.hl)()&&(0,ue.eu)().then(()=>!0).catch(()=>!1)})()}read(){var G=this;return(0,l.Z)(function*(){return(yield G._canUseIndexedDBPromise)&&(yield function Ye(U){return ze.apply(this,arguments)}(G.app))||{heartbeats:[]}})()}overwrite(G){var q=this;return(0,l.Z)(function*(){var Ie;if(yield q._canUseIndexedDBPromise){const nt=yield q.read();return oo(q.app,{lastSentHeartbeatDate:null!==(Ie=G.lastSentHeartbeatDate)&&void 0!==Ie?Ie:nt.lastSentHeartbeatDate,heartbeats:G.heartbeats})}})()}add(G){var q=this;return(0,l.Z)(function*(){var Ie;if(yield q._canUseIndexedDBPromise){const nt=yield q.read();return oo(q.app,{lastSentHeartbeatDate:null!==(Ie=G.lastSentHeartbeatDate)&&void 0!==Ie?Ie:nt.lastSentHeartbeatDate,heartbeats:[...nt.heartbeats,...G.heartbeats]})}})()}}function K(U){return(0,ue.L)(JSON.stringify({version:2,heartbeats:U})).length}!function z(U){cr(new te.wA("platform-logger",G=>new he(G),"PRIVATE")),cr(new te.wA("heartbeat",G=>new Yi(G),"PRIVATE")),Zr(fe,"0.7.33",U),Zr(fe,"0.7.33","esm2017"),Zr("fire-js","")}("")},4859:(Xe,De,P)=>{P.d(De,{H0:()=>fe,wA:()=>N,zt:()=>ae});var l=P(5861),te=P(2090);class N{constructor(j,$,ee){this.name=j,this.instanceFactory=$,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const ue="[DEFAULT]";class ae{constructor(j,$){this.name=j,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const $=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has($)){const ee=new te.BH;if(this.instancesDeferred.set($,ee),this.isInitialized($)||this.shouldAutoInitialize())try{const Pe=this.getOrInitializeService({instanceIdentifier:$});Pe&&ee.resolve(Pe)}catch{}}return this.instancesDeferred.get($).promise}getImmediate(j){var $;const ee=this.normalizeInstanceIdentifier(j?.identifier),Pe=null!==($=j?.optional)&&void 0!==$&&$;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(Pe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(Ae){if(Pe)return null;throw Ae}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function oe(me){return"EAGER"===me.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:ue})}catch{}for(const[$,ee]of this.instancesDeferred.entries()){const Pe=this.normalizeInstanceIdentifier($);try{const Ae=this.getOrInitializeService({instanceIdentifier:Pe});ee.resolve(Ae)}catch{}}}}clearInstance(j=ue){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,l.Z)(function*(){const $=Array.from(j.instances.values());yield Promise.all([...$.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...$.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=ue){return this.instances.has(j)}getOptions(j=ue){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:$={}}=j,ee=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Pe=this.getOrInitializeService({instanceIdentifier:ee,options:$});for(const[Ae,be]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(Ae)&&be.resolve(Pe);return Pe}onInit(j,$){var ee;const Pe=this.normalizeInstanceIdentifier($),Ae=null!==(ee=this.onInitCallbacks.get(Pe))&&void 0!==ee?ee:new Set;Ae.add(j),this.onInitCallbacks.set(Pe,Ae);const be=this.instances.get(Pe);return be&&j(be,Pe),()=>{Ae.delete(j)}}invokeOnInitCallbacks(j,$){const ee=this.onInitCallbacks.get($);if(ee)for(const Pe of ee)try{Pe(j,$)}catch{}}getOrInitializeService({instanceIdentifier:j,options:$={}}){let ee=this.instances.get(j);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(me=j,me===ue?void 0:me),options:$}),this.instances.set(j,ee),this.instancesOptions.set(j,$),this.invokeOnInitCallbacks(ee,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,ee)}catch{}var me;return ee||null}normalizeInstanceIdentifier(j=ue){return this.component?this.component.multipleInstances?j:ue:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const $=this.getProvider(j.name);if($.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);$.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const $=new ae(j,this);return this.providers.set(j,$),$}getProviders(){return Array.from(this.providers.values())}}},1877:(Xe,De,P)=>{P.d(De,{Am:()=>me,Ub:()=>fe,Yd:()=>oe,in:()=>te});const l=[];var te=(()=>{return(j=te||(te={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",te;var j})();const N={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},ue=te.INFO,ae={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},he=(j,$,...ee)=>{if($<j.logLevel)return;const Pe=(new Date).toISOString(),Ae=ae[$];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[Ae](`[${Pe}]  ${j.name}:`,...ee)};class oe{constructor($){this.name=$,this._logLevel=ue,this._logHandler=he,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in te))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?N[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...$),this._logHandler(this,te.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...$),this._logHandler(this,te.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,te.INFO,...$),this._logHandler(this,te.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,te.WARN,...$),this._logHandler(this,te.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...$),this._logHandler(this,te.ERROR,...$)}}function fe(j){l.forEach($=>{$.setLogLevel(j)})}function me(j,$){for(const ee of l){let Pe=null;$&&$.level&&(Pe=N[$.level]),ee.userLogHandler=null===j?null:(Ae,be,...Ze)=>{const _e=Ze.map(pe=>{if(null==pe)return null;if("string"==typeof pe)return pe;if("number"==typeof pe||"boolean"==typeof pe)return pe.toString();if(pe instanceof Error)return pe.message;try{return JSON.stringify(pe)}catch{return null}}).filter(pe=>pe).join(" ");be>=(Pe??Ae.logLevel)&&j({level:te[be].toLowerCase(),message:_e,args:Ze,type:Ae.name})}}}},8766:(Xe,De,P)=>{P.d(De,{Lj:()=>Te,X3:()=>Je});var l=P(5861);let N,ue;const oe=new WeakMap,fe=new WeakMap,me=new WeakMap,j=new WeakMap,$=new WeakMap;let Ae={get(H,ge,J){if(H instanceof IDBTransaction){if("done"===ge)return fe.get(H);if("objectStoreNames"===ge)return H.objectStoreNames||me.get(H);if("store"===ge)return J.objectStoreNames[1]?void 0:J.objectStore(J.objectStoreNames[0])}return pe(H[ge])},set:(H,ge,J)=>(H[ge]=J,!0),has:(H,ge)=>H instanceof IDBTransaction&&("done"===ge||"store"===ge)||ge in H};function _e(H){return"function"==typeof H?function Ze(H){return H!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function he(){return ue||(ue=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(H)?function(...ge){return H.apply(Ge(this),ge),pe(oe.get(this))}:function(...ge){return pe(H.apply(Ge(this),ge))}:function(ge,...J){const ne=H.call(Ge(this),ge,...J);return me.set(ne,ge.sort?ge.sort():[ge]),pe(ne)}}(H):(H instanceof IDBTransaction&&function Pe(H){if(fe.has(H))return;const ge=new Promise((J,ne)=>{const le=()=>{H.removeEventListener("complete",se),H.removeEventListener("error",Oe),H.removeEventListener("abort",Oe)},se=()=>{J(),le()},Oe=()=>{ne(H.error||new DOMException("AbortError","AbortError")),le()};H.addEventListener("complete",se),H.addEventListener("error",Oe),H.addEventListener("abort",Oe)});fe.set(H,ge)}(H),((H,ge)=>ge.some(J=>H instanceof J))(H,function ae(){return N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(H,Ae):H)}function pe(H){if(H instanceof IDBRequest)return function ee(H){const ge=new Promise((J,ne)=>{const le=()=>{H.removeEventListener("success",se),H.removeEventListener("error",Oe)},se=()=>{J(pe(H.result)),le()},Oe=()=>{ne(H.error),le()};H.addEventListener("success",se),H.addEventListener("error",Oe)});return ge.then(J=>{J instanceof IDBCursor&&oe.set(J,H)}).catch(()=>{}),$.set(ge,H),ge}(H);if(j.has(H))return j.get(H);const ge=_e(H);return ge!==H&&(j.set(H,ge),$.set(ge,H)),ge}const Ge=H=>$.get(H);function Je(H,ge,{blocked:J,upgrade:ne,blocking:le,terminated:se}={}){const Oe=indexedDB.open(H,ge),Re=pe(Oe);return ne&&Oe.addEventListener("upgradeneeded",ot=>{ne(pe(Oe.result),ot.oldVersion,ot.newVersion,pe(Oe.transaction))}),J&&Oe.addEventListener("blocked",()=>J()),Re.then(ot=>{se&&ot.addEventListener("close",()=>se()),le&&ot.addEventListener("versionchange",()=>le())}).catch(()=>{}),Re}function Te(H,{blocked:ge}={}){const J=indexedDB.deleteDatabase(H);return ge&&J.addEventListener("blocked",()=>ge()),pe(J).then(()=>{})}const ve=["get","getKey","getAll","getAllKeys","count"],Ce=["put","add","delete","clear"],Ve=new Map;function Ue(H,ge){if(!(H instanceof IDBDatabase)||ge in H||"string"!=typeof ge)return;if(Ve.get(ge))return Ve.get(ge);const J=ge.replace(/FromIndex$/,""),ne=ge!==J,le=Ce.includes(J);if(!(J in(ne?IDBIndex:IDBObjectStore).prototype)||!le&&!ve.includes(J))return;const se=function(){var Oe=(0,l.Z)(function*(Re,...ot){const Nt=this.transaction(Re,le?"readwrite":"readonly");let Rt=Nt.store;return ne&&(Rt=Rt.index(ot.shift())),(yield Promise.all([Rt[J](...ot),le&&Nt.done]))[0]});return function(ot){return Oe.apply(this,arguments)}}();return Ve.set(ge,se),se}!function be(H){Ae=H(Ae)}(H=>({...H,get:(ge,J,ne)=>Ue(ge,J)||H.get(ge,J,ne),has:(ge,J)=>!!Ue(ge,J)||H.has(ge,J)}))},5861:(Xe,De,P)=>{function l(N,ue,ae,he,oe,fe,me){try{var j=N[fe](me),$=j.value}catch(ee){return void ae(ee)}j.done?ue($):Promise.resolve($).then(he,oe)}function te(N){return function(){var ue=this,ae=arguments;return new Promise(function(he,oe){var fe=N.apply(ue,ae);function me($){l(fe,he,oe,me,j,"next",$)}function j($){l(fe,he,oe,me,j,"throw",$)}me(void 0)})}}P.d(De,{Z:()=>te})}},Xe=>{Xe(Xe.s=7962)}]);